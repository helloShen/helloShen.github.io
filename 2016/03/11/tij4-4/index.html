<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="control flow,fibonacci,vampire," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="摘要控制流if-else是每个程序员对编程的第一认识。但既然是复习，补漏还是要认真看一遍。比如像do-while，continue，标签，这些我平时写代码的时候用的不多。但在恰当的情况下，这些控制语句还是能简化一些问题的。
while 和 do-while12345678910//语法do 	statementwhile(Boolean-expression);//栗子Random dice =">
<meta property="og:type" content="article">
<meta property="og:title" content="Thinking in Java 读书笔记：第四章 - 控制执行流程">
<meta property="og:url" content="www.ciaoshen.com/2016/03/11/tij4-4/index.html">
<meta property="og:site_name" content="玮 | Wei">
<meta property="og:description" content="摘要控制流if-else是每个程序员对编程的第一认识。但既然是复习，补漏还是要认真看一遍。比如像do-while，continue，标签，这些我平时写代码的时候用的不多。但在恰当的情况下，这些控制语句还是能简化一些问题的。
while 和 do-while12345678910//语法do 	statementwhile(Boolean-expression);//栗子Random dice =">
<meta property="og:image" content="www.ciaoshen.com/uploads/tij4-4/fib_5.png">
<meta property="og:image" content="www.ciaoshen.com/uploads/tij4-4/fibo_dyna.jpg">
<meta property="og:updated_time" content="2016-10-15T17:29:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Thinking in Java 读书笔记：第四章 - 控制执行流程">
<meta name="twitter:description" content="摘要控制流if-else是每个程序员对编程的第一认识。但既然是复习，补漏还是要认真看一遍。比如像do-while，continue，标签，这些我平时写代码的时候用的不多。但在恰当的情况下，这些控制语句还是能简化一些问题的。
while 和 do-while12345678910//语法do 	statementwhile(Boolean-expression);//栗子Random dice =">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: undefined,
      author: 'Author'
    }
  };
</script>



  <meta name="baidu-site-verification" content="3iRy3UFlpa" />


<script>
  (function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>


  <title> Thinking in Java 读书笔记：第四章 - 控制执行流程 | 玮 | Wei </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-74473715-1', 'auto');
  ga('send', 'pageview');
</script>







  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">玮 | Wei</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Coder & Designer</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      

      
      
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'hDG3wYskg4CYKGSXw8x7','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Thinking in Java 读书笔记：第四章 - 控制执行流程
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-03-11T11:00:23-05:00" content="2016-03-11">
              2016-03-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Note/" itemprop="url" rel="index">
                    <span itemprop="name">Note</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/11/tij4-4/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/11/tij4-4/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
            <span id="busuanzi_container_page_pv">&nbsp; |  &nbsp; &nbsp; Viewed <span id="busuanzi_value_page_pv"></span> times</span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h3><p>控制流<strong><code>if-else</code></strong>是每个程序员对编程的第一认识。但既然是复习，补漏还是要认真看一遍。比如像do-while，continue，标签，这些我平时写代码的时候用的不多。但在恰当的情况下，这些控制语句还是能简化一些问题的。</p>
<h3 id="while-和-do-while"><a href="#while-和-do-while" class="headerlink" title="while 和 do-while"></a>while 和 do-while</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法</span></span><br><span class="line"><span class="function">do </span><br><span class="line">	statement</span><br><span class="line"><span class="title">while</span><span class="params">(Boolean-expression)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//栗子</span></span><br><span class="line">Random dice = <span class="keyword">new</span> Random(<span class="number">77</span>);</span><br><span class="line">do </span><br><span class="line">	System.out.println(<span class="string">"爱美，爱智慧"</span>);</span><br><span class="line"><span class="keyword">while</span>(dice.nextInt(<span class="number">100</span>)&lt;<span class="number">99</span>);</span><br></pre></td></tr></table></figure>
<p>和<strong><code>while</code></strong>的区别是，do-while的语句至少会被执行一次。之前很少用do-while，以后可以多用用。</p>
<h4 id="练习1"><a href="#练习1" class="headerlink" title="练习1"></a>练习1</h4><p>Write a program that prints values from 1 to 100.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//exercise 1: print 1-100</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">oneToHundred</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">101</span>;i++)&#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//output: 1-100</span></span><br></pre></td></tr></table></figure></p>
<h4 id="练习2"><a href="#练习2" class="headerlink" title="练习2"></a>练习2</h4><p>Write a program that generates 25 random int values. For each value, use an if-else statement to classify it as greater than, less than, or equal to a second randomly generated value.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Random dice = <span class="keyword">new</span> Random(<span class="number">77</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//exercise 2: classifier 25 int</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] intClassifier(<span class="keyword">int</span> times)&#123;</span><br><span class="line">    <span class="comment">//result container</span></span><br><span class="line">    <span class="keyword">int</span>[] resultPool=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;times;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> first=<span class="keyword">this</span>.dice.nextInt(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">int</span> second=<span class="keyword">this</span>.dice.nextInt(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">if</span>(first&lt;second)&#123;</span><br><span class="line">            resultPool[<span class="number">0</span>]+=<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(first==second)&#123;</span><br><span class="line">            resultPool[<span class="number">1</span>]+=<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resultPool[<span class="number">2</span>]+=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultPool;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//output: </span></span><br><span class="line"><span class="comment">//结果数组代表：[当前大于下一个，相等，小于]</span></span><br><span class="line"><span class="comment">//[12, 1, 12]</span></span><br></pre></td></tr></table></figure></p>
<h4 id="练习3"><a href="#练习3" class="headerlink" title="练习3"></a>练习3</h4><p>Modify Exercise 2 so that your code is surrounded by an “infinite” while loop. It will then run until you interrupt it from the keyboard (typically by pressing Control- C).<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Random dice = <span class="keyword">new</span> Random(<span class="number">77</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">autoClassifier</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//result container</span></span><br><span class="line">    <span class="keyword">int</span>[] resultPool=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> first=<span class="keyword">this</span>.dice.nextInt(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">int</span> second=<span class="keyword">this</span>.dice.nextInt(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">if</span>(first&lt;second)&#123;</span><br><span class="line">            resultPool[<span class="number">0</span>]+=<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(first==second)&#123;</span><br><span class="line">            resultPool[<span class="number">1</span>]+=<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resultPool[<span class="number">2</span>]+=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(resultPool));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>output：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我按ctrl+c的时候，停在了这里</span></span><br><span class="line"><span class="comment">//结果数组代表：[当前大于下一个，相等，小于]</span></span><br><span class="line">[<span class="number">560789</span>, <span class="number">11429</span>, <span class="number">559570</span>]</span><br><span class="line">[<span class="number">560789</span>, <span class="number">11429</span>, <span class="number">559571</span>]</span><br><span class="line">[<span class="number">560790</span>, <span class="number">11429</span>, <span class="number">559571</span>]</span><br><span class="line">[<span class="number">560790</span>, <span class="number">11429</span>, <span class="number">559572</span>]</span><br><span class="line">[<span class="number">560791</span>, <span class="number">11429</span>, <span class="number">559572</span>]</span><br><span class="line">[<span class="number">560792</span>, <span class="number">11429</span>, <span class="number">559572</span>]</span><br><span class="line">[<span class="number">560793</span>, <span class="number">11429</span>, <span class="number">559572</span>]</span><br><span class="line">[<span class="number">560794</span>, <span class="number">11429</span>, <span class="number">559572</span>]</span><br></pre></td></tr></table></figure></p>
<h4 id="练习4"><a href="#练习4" class="headerlink" title="练习4"></a>练习4</h4><p>Write a program that uses two nested for loops and the modulus operator (%) to detect and print prime numbers (integral numbers that are not evenly divisible by any other numbers except for themselves and 1).</p>
<p>找素数，素数的定义就是除1和他自己之外，不能被其他正整数整除。基本思路就是让数x从2到x-1都取模<strong><code>%</code></strong>（就是求余数），余数都不为零，就是素数啦。（要当心2。当然这里没有造成麻烦。）<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//exercise 4: prime detector that return all prime number from 1 to the given max number.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">primeFilter</span><span class="params">(<span class="keyword">int</span> max)</span></span>&#123;</span><br><span class="line">    List&lt;String&gt; resultPool=<span class="keyword">new</span> ArrayList&lt;String&gt;(); <span class="comment">//面向接口声明更好</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//test every number from 1 to max</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> currNum=<span class="number">1</span>;currNum&lt;max+<span class="number">1</span>;currNum++)&#123;</span><br><span class="line">        <span class="comment">//currNum is treated as prime number by default</span></span><br><span class="line">        <span class="keyword">boolean</span> isPrime=<span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> testNum=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(testNum=<span class="number">2</span>;testNum&lt;currNum;testNum++)&#123;</span><br><span class="line">            <span class="comment">//currNum is not prime number</span></span><br><span class="line">            <span class="keyword">if</span>(currNum%testNum==<span class="number">0</span>)&#123;</span><br><span class="line">                isPrime=<span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (isPrime)&#123;</span><br><span class="line">            System.out.println(<span class="string">"Found "</span>+currNum+<span class="string">" is prime!!!"</span>);</span><br><span class="line">            resultPool.add(Integer.toString(currNum));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(currNum+<span class="string">" pass!!!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultPool;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>output：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//test 1-20</span></span><br><span class="line">Found <span class="number">1</span> is prime!!!</span><br><span class="line">Found <span class="number">2</span> is prime!!!</span><br><span class="line">Found <span class="number">3</span> is prime!!!</span><br><span class="line"><span class="number">4</span> pass!!!</span><br><span class="line">Found <span class="number">5</span> is prime!!!</span><br><span class="line"><span class="number">6</span> pass!!!</span><br><span class="line">Found <span class="number">7</span> is prime!!!</span><br><span class="line"><span class="number">8</span> pass!!!</span><br><span class="line"><span class="number">9</span> pass!!!</span><br><span class="line"><span class="number">10</span> pass!!!</span><br><span class="line">Found <span class="number">11</span> is prime!!!</span><br><span class="line"><span class="number">12</span> pass!!!</span><br><span class="line">Found <span class="number">13</span> is prime!!!</span><br><span class="line"><span class="number">14</span> pass!!!</span><br><span class="line"><span class="number">15</span> pass!!!</span><br><span class="line"><span class="number">16</span> pass!!!</span><br><span class="line">Found <span class="number">17</span> is prime!!!</span><br><span class="line"><span class="number">18</span> pass!!!</span><br><span class="line">Found <span class="number">19</span> is prime!!!</span><br><span class="line"><span class="number">20</span> pass!!!</span><br></pre></td></tr></table></figure></p>
<h4 id="练习-5"><a href="#练习-5" class="headerlink" title="练习 5"></a>练习 5</h4><p>Repeat Exercise 10 from the previous chapter, using the ternary operator and a bitwise test to display the ones and zeroes, instead of Integer.toBinaryString( ).</p>
<p>第三章，练习10：<br>Write a program with two constant values, one with alternating binary ones and zeroes, with a zero in the least-significant digit, and the second, also alternating, with a one in the least-significant digit (hint: It’s easiest to use hexadecimal constants for this). Take these two values and combine them in all possible ways using the bitwise operators, and display the results using Integer.toBinaryString( ).</p>
<p><strong>这道题比较好玩，我解释一下解题思路：</strong><br>比如说我们要处理的数字是：<strong><code>170</code></strong>。写成16进制是：<strong><code>aa</code></strong>。写成二进制是：<strong><code>10101010</code></strong>。符合题中要求1，0间隔，最低位是0。在实际32位int内存里，他长这样：<strong><code>00000000000000000000000010101010</code></strong>。</p>
<p>思路是用特殊掩码和这个数做<strong><code>AND</code></strong>“与”操作。当掩码只有最低位是1的时候，其他位“与”的结果永远是0，只有最低位如果是1的时候，才输出1，此时“与”操作的结果与掩码相同。如果最低位是0，那掩码将被擦除。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">00000000000000000000000010101010</span>	<span class="comment">//女主角170，最低位为0</span></span><br><span class="line"><span class="number">00000000000000000000000000000001</span>	<span class="comment">//掩码只有最低位是1</span></span><br><span class="line">--------------------------------</span><br><span class="line"><span class="number">00000000000000000000000000000000</span>	<span class="comment">//女主角最低位是0，掩码被擦除</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">00000000000000000000000101010101</span>	<span class="comment">//男主角341，最低位为1</span></span><br><span class="line"><span class="number">00000000000000000000000000000001</span></span><br><span class="line">--------------------------------</span><br><span class="line"><span class="number">00000000000000000000000000000001</span>	<span class="comment">//男主角最低位是1，掩码被保留</span></span><br></pre></td></tr></table></figure></p>
<p>通过检查“与”操作结果和掩码相同，还是被擦除成0，我们能确切知道每一位的值是1还是0。然后通过对掩码做左位移<strong><code>&lt;&lt;</code></strong>操作，产生针对每一位检测掩码。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">00000000000000000000000010101010</span>	<span class="comment">//演员170</span></span><br><span class="line"><span class="number">00000000000000000000000000000001</span>	<span class="comment">//掩码只有最低位是1</span></span><br><span class="line">--------------------------------</span><br><span class="line"><span class="number">00000000000000000000000000000000</span>	<span class="comment">//170最低位是0，掩码被擦除。结论：演员170的最低位是0。</span></span><br><span class="line"></span><br><span class="line">左位移 &lt;&lt; 操作</span><br><span class="line"></span><br><span class="line"><span class="number">00000000000000000000000010101010</span>	<span class="comment">//还是演员170</span></span><br><span class="line"><span class="number">00000000000000000000000000000010</span>	<span class="comment">//掩码只有次低位是1</span></span><br><span class="line">--------------------------------</span><br><span class="line"><span class="number">00000000000000000000000000000010</span>	<span class="comment">//这次掩码被保留。结论：演员170的次低位是1。</span></span><br><span class="line"></span><br><span class="line">左位移 &lt;&lt; 操作</span><br><span class="line"></span><br><span class="line"><span class="number">00000000000000000000000010101010</span>	<span class="comment">//怎么又是演员170</span></span><br><span class="line"><span class="number">00000000000000000000000000000100</span>	<span class="comment">//掩码倒数第三位是1</span></span><br><span class="line">--------------------------------</span><br><span class="line"><span class="number">00000000000000000000000000000000</span>	<span class="comment">//掩码又被擦除。结论：演员170的倒数第三位是0。</span></span><br><span class="line"></span><br><span class="line">以此类推</span><br></pre></td></tr></table></figure></p>
<p>下面是代码（我写得丑，对不起大家）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Exercise 5：same as exercise 10 in chapter 3</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bitwise</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//original number</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> NUM1 = <span class="number">0xaa</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> NUM2 = <span class="number">0x155</span>;</span><br><span class="line">    <span class="comment">//print original number</span></span><br><span class="line">    <span class="comment">//System.out.println(Integer.toBinaryString(NUM1));</span></span><br><span class="line">    <span class="comment">//System.out.println(Integer.toBinaryString(NUM2));</span></span><br><span class="line">    <span class="comment">//bitwise operate</span></span><br><span class="line">    <span class="keyword">int</span> bitwiseAnd = NUM1 &amp; NUM2;   <span class="comment">//与：某一位上，都是1，才输出1。</span></span><br><span class="line">    <span class="keyword">int</span> bitwiseOr = NUM1 | NUM2;    <span class="comment">//或：某一位上，只要有1，就输出1。</span></span><br><span class="line">    <span class="keyword">int</span> bitwiseXor = NUM1 ^ NUM2;   <span class="comment">//异或：两个里，一个0，一个1，才输出1。</span></span><br><span class="line">    <span class="keyword">int</span> bitwiseNot = ~NUM1;   <span class="comment">//非：每一位取反，1变0，0变1。</span></span><br><span class="line">    <span class="comment">//print bitwise result</span></span><br><span class="line">    System.out.println(Integer.toBinaryString(bitwiseAnd));</span><br><span class="line">    System.out.println(Integer.toBinaryString(bitwiseOr));</span><br><span class="line">    System.out.println(Integer.toBinaryString(bitwiseXor));</span><br><span class="line">    System.out.println(Integer.toBinaryString(bitwiseNot));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//print by my method</span></span><br><span class="line">    ControlFlow.printBinaryInt(bitwiseAnd);</span><br><span class="line">    ControlFlow.printBinaryInt(bitwiseOr);</span><br><span class="line">    ControlFlow.printBinaryInt(bitwiseXor);</span><br><span class="line">    ControlFlow.printBinaryInt(bitwiseNot);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//method that print binary string of int, Similar to Integer.toBinaryString()</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printBinaryInt</span><span class="params">(<span class="keyword">int</span> inNum)</span></span>&#123;</span><br><span class="line">    <span class="comment">//bitwise mask</span></span><br><span class="line">    <span class="keyword">int</span> mask=<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//result container</span></span><br><span class="line">    <span class="keyword">int</span>[] myInt = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">32</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. do "AND" operate</span></span><br><span class="line">    <span class="comment">// 2. compare the result with the mask, to detect the value of each bit</span></span><br><span class="line">    <span class="comment">// 3. left-shift the mask</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">31</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">int</span> bitwiseResult = inNum &amp; mask;</span><br><span class="line">        myInt[i]= bitwiseResult == <span class="number">0</span> ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">        mask &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//if is positive: dont print the highest bit.</span></span><br><span class="line">    <span class="comment">//if is negative: print all 32 bit.</span></span><br><span class="line">    <span class="keyword">if</span> (myInt[<span class="number">0</span>]==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//seek to first 1, and print the reste</span></span><br><span class="line">        <span class="keyword">int</span> firstNoZero=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(firstNoZero&lt;=<span class="number">31</span> &amp;&amp; myInt[firstNoZero]==<span class="number">0</span>)&#123;</span><br><span class="line">            firstNoZero++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (firstNoZero!=<span class="number">32</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=firstNoZero;i&lt;=<span class="number">31</span>;i++)&#123;</span><br><span class="line">                System.out.print(myInt[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">"0"</span>); <span class="comment">//the number is 0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">31</span>;i++)&#123;</span><br><span class="line">            System.out.print(myInt[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//系统Integer.toBinaryString()</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">111111111</span></span><br><span class="line"><span class="number">111111111</span></span><br><span class="line"><span class="number">11111111111111111111111101010101</span></span><br><span class="line"><span class="comment">//我的printBinaryInt()</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">111111111</span></span><br><span class="line"><span class="number">111111111</span></span><br><span class="line"><span class="number">11111111111111111111111101010101</span></span><br><span class="line"><span class="comment">//总算可以去吃饭了，好饿。</span></span><br></pre></td></tr></table></figure>
<h3 id="for-语句"><a href="#for-语句" class="headerlink" title="for 语句"></a>for 语句</h3><h4 id="多个参数控制for"><a href="#多个参数控制for" class="headerlink" title="多个参数控制for"></a>多个参数控制for</h4><p>Java的<strong><code>for</code></strong>语句的循环控制，允许有<strong>任意数量个变量参与</strong>，但所有变量<strong>必须是同一类型</strong>。不是单纯的<strong><code>for(int i = 1; i &lt; 5; i++)</code></strong>这么简单。比如，如下的代码，用了i和j同时控制循环操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//书里的例子</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>, j = i + <span class="number">10</span>; i &lt; <span class="number">5</span>; i++, j = i * <span class="number">2</span>) &#123;</span><br><span class="line">	System.out.println(<span class="string">"i = "</span> + i + <span class="string">" j = "</span> + j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="for-element-collection"><a href="#for-element-collection" class="headerlink" title="for (element : collection)"></a>for (element : collection)</h4><p>for语句的另一种用法，<strong><code>for (element : collection){ }</code></strong>。这和python里的<strong><code>for element in collection:</code></strong>很像，都是执行遍历collection里的每一个元素。但语法上，显得没有python这么像在说话。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法</span></span><br><span class="line"><span class="keyword">for</span> (element : collection)&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//栗子</span></span><br><span class="line"><span class="keyword">int</span> i[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x : i) &#123;</span><br><span class="line">	System.out.println(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>for的这种用法有个名称，叫<strong><code>for each</code></strong>语句。但要注意，<strong><code>for each</code></strong>只对数组，以及实现了Iterable接口的类有效。对于不能用<strong><code>for each</code></strong>语句的数据类型，作者在书里给出了一个重载range()方法的替代方案:<strong><code>for(object x : range())</code></strong>，但这需要我们自己重载range()函数。</p>
<h3 id="break-continue以及标签"><a href="#break-continue以及标签" class="headerlink" title="break, continue以及标签"></a>break, continue以及标签</h3><h4 id="break和continue"><a href="#break和continue" class="headerlink" title="break和continue"></a>break和continue</h4><p>前面讲过了，编程循环控制，比较常用的有for和while，他们都可以自带步进和终止条件。但同样的目的也可以用<strong><code>break</code></strong>，和<strong><code>continue</code></strong>来达到。而且更实用，控制更精细。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">outer-iteration &#123;</span><br><span class="line">    inner-iteration &#123;</span><br><span class="line">        <span class="comment">//.1.</span></span><br><span class="line">        <span class="keyword">break</span>;		<span class="comment">//跳出inner-iteration，回到outer-iteration。</span></span><br><span class="line">        <span class="comment">//.2.</span></span><br><span class="line">        <span class="keyword">continue</span>;	<span class="comment">//不进行操作3，重新回到inner-iteration起始处。</span></span><br><span class="line">        <span class="comment">//.3.</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h4><p><strong><code>标签</code></strong>相当于C语言里臭名昭著的<strong><code>goto</code></strong>语句。Java里没有goto关键字，但可以用标签来实现。具体的语法就是在迭代语句之前加上一行<strong><code>lablename:</code></strong>（注意标签和循环语句之间不能有任何其他语句）。这样当break和continue后面指定某个标签就能跳出循环，到指定标签位置。Java禁止在标签和循环语句中加内容，实际是为了保证代码的安全。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">lable1:</span><br><span class="line"><span class="comment">//!!!注意：lable和循环语句之间，不能有任何内容!!!</span></span><br><span class="line">outer-iteration &#123;</span><br><span class="line">    inner-iteration &#123;</span><br><span class="line">        <span class="comment">//.1.</span></span><br><span class="line">        <span class="keyword">break</span> lable1;		<span class="comment">//跳出inner-iteration和outer-iteration，到lable1的位置。再也不回到两个迭代中。彻底终止。</span></span><br><span class="line">        <span class="comment">//.2.</span></span><br><span class="line">        <span class="keyword">continue</span> lable1;	<span class="comment">//跳出inner-iteration和outer-iteration，到lable1的位置。然后从这里再进到outer-iteration和inner-iteration。</span></span><br><span class="line">        <span class="comment">//.3.</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面书上给的这个例子很好，有点乱，但真的梳理清楚，就对break，continue，和标签的概念了解了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LabeledWhile</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    outer:</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">      print(<span class="string">"Outer while loop"</span>);</span><br><span class="line">      <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">        i++;</span><br><span class="line">        print(<span class="string">"i = "</span> + i);</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">1</span>) &#123;</span><br><span class="line">          print(<span class="string">"continue"</span>);</span><br><span class="line">          <span class="keyword">continue</span>; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">3</span>) &#123;</span><br><span class="line">          print(<span class="string">"continue outer"</span>);</span><br><span class="line">          <span class="keyword">continue</span> outer;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">5</span>) &#123;</span><br><span class="line">          print(<span class="string">"break"</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">7</span>) &#123;</span><br><span class="line">          print(<span class="string">"break outer"</span>);</span><br><span class="line">          <span class="keyword">break</span> outer;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个程序的输出会是怎么样的呢？等灯等灯,<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">0</span> <span class="keyword">continue</span> </span><br><span class="line">inner i=<span class="number">1</span> </span><br><span class="line"><span class="keyword">continue</span> inner </span><br><span class="line">i=<span class="number">2</span> <span class="keyword">continue</span> </span><br><span class="line">i=<span class="number">3</span> <span class="keyword">break</span></span><br><span class="line">i=<span class="number">4</span> <span class="keyword">continue</span> inner </span><br><span class="line">i=<span class="number">5</span> <span class="keyword">continue</span> inner </span><br><span class="line">i=<span class="number">6</span> <span class="keyword">continue</span> inner </span><br><span class="line">i=<span class="number">7</span> <span class="keyword">continue</span> outer </span><br><span class="line">i=<span class="number">8</span> <span class="keyword">break</span> outer</span><br></pre></td></tr></table></figure></p>
<p><strong>！！！注意： 一定要注意，只有当代码中有连环套嵌的循环语句的时候，才用标签lable。千万不要滥用！</strong></p>
<h4 id="练习-7"><a href="#练习-7" class="headerlink" title="练习 7"></a>练习 7</h4><p>Modify Exercise 1 so that the program exits by using the break keyword at value 99. Try using return instead.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//exercise 7: print number，using break, and return</span></span><br><span class="line"><span class="comment">//这里用lable1只是为了实践一下。这种单层循环，无套嵌的情况不应该使用lable。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">oneToHundredBreak</span><span class="params">(<span class="keyword">int</span> breakPoint)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    lable1:</span><br><span class="line">    <span class="comment">//lable和循环语句中间，不能插东西！！！</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; breakPoint)&#123;</span><br><span class="line">            <span class="keyword">break</span> lable1;</span><br><span class="line">            <span class="comment">//return;	//同效</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">"Out of loop!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p>java的switch语法长这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(integral-selector) &#123;</span><br><span class="line">      <span class="keyword">case</span> integral-value1 : statement; <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> integral-value2 : statement; <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> integral-value3 : statement; <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> integral-value4 : statement; <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> integral-value5 : statement; <span class="keyword">break</span>;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="keyword">default</span>: statement;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="练习-8"><a href="#练习-8" class="headerlink" title="练习 8"></a>练习 8</h3><p>Create a switch statement that prints a message for each case, and put the switch inside a for loop that tries each case. Put a break after each case and test it, then remove the breaks and see what happens.</p>
<p>早上起床，诗兴大发：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//exercise 8: switch statement</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">switchPoetry</span><span class="params">(<span class="keyword">int</span> whichNumber)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;whichNumber+<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">switch</span>(i) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: System.out.println(<span class="string">"一别之后"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: System.out.println(<span class="string">"两地相悬"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>: System.out.print(<span class="string">"只说是三"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>: System.out.println(<span class="string">"四月"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>: System.out.print(<span class="string">"又谁知五"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>: System.out.println(<span class="string">"六年"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>: System.out.println(<span class="string">"七弦琴无心弹"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>: System.out.println(<span class="string">"八行书无可传"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">9</span>: System.out.println(<span class="string">"九连环从中折断"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">10</span>: System.out.println(<span class="string">"十里长亭望眼欲穿"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">100</span>: System.out.println(<span class="string">"百相思"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1000</span>: System.out.println(<span class="string">"千系念"</span>); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">10000</span>: System.out.println(<span class="string">"万般无奈把君怨"</span>); <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//到5：ControlFlow.switchPoetry(5);</span></span><br><span class="line">一别之后</span><br><span class="line">两地相悬</span><br><span class="line">只说是三四月</span><br><span class="line">又谁知五</span><br><span class="line"></span><br><span class="line"><span class="comment">//到一万：ControlFlow.switchPoetry(10000);</span></span><br><span class="line">一别之后</span><br><span class="line">两地相悬</span><br><span class="line">只说是三四月</span><br><span class="line">又谁知五六年</span><br><span class="line">七弦琴无心弹</span><br><span class="line">八行书无可传</span><br><span class="line">九连环从中折断</span><br><span class="line">十里长亭望眼欲穿</span><br><span class="line">百相思</span><br><span class="line">千系念</span><br><span class="line">万般无奈把君怨</span><br></pre></td></tr></table></figure>
<h3 id="练习-9"><a href="#练习-9" class="headerlink" title="练习 9"></a>练习 9</h3><p>A Fibonacci sequence is the sequence of numbers 1, 1, 2, 3, 5, 8, 13, 21, 34, and so on, where each number (from the third on) is the sum of the previous two. Create a method that takes an integer as an argument and displays that many Fibonacci numbers starting from the beginning, e.g., If you run java Fibonacci 5 (where Fibonacci is the name of the class) the output will be: 1, 1, 2, 3, 5.</p>
<p>Fibonacci很著名的作业题了。上学的时候调教了她好多次(｡・`ω´･)。顺便再复习一下递归。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  Fibonacci</span><br><span class="line"> *  <span class="doctag">@author</span> wei.shen<span class="doctag">@iro</span>.umontreal.ca</span><br><span class="line"> *  <span class="doctag">@version</span> 1.0</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ciaoshen.thinkinjava.chapter4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  This class contain different method to calculate Fibonacci number.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fibonacci</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     *  some initial fields of the Fibonacci class</span><br><span class="line">     */</span></span><br><span class="line">    <span class="comment">//CONSTANT: fibonacci need two "1" at the beginning</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> HEADONE = <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> HEADTWO = <span class="number">1L</span>;</span><br><span class="line">    <span class="comment">//container of fibonacci result</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Long&gt; fibonacciList = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</span><br><span class="line">    <span class="comment">//我犯的一个错，&lt;T&gt;泛型里必须是对象，不能是基本型</span></span><br><span class="line">    <span class="comment">//private static List&lt;int&gt; fibonacciList = new ArrayList&lt;int&gt;();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//we can also put this section into the constructor.</span></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        fibonacciList.add(HEADONE);</span><br><span class="line">        fibonacciList.add(HEADTWO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//default constructor</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fibonacci</span><span class="params">()</span></span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//print the fibonacci list</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(List&lt;Long&gt; inList)</span></span>&#123;</span><br><span class="line">        <span class="comment">//for print comma</span></span><br><span class="line">        <span class="keyword">boolean</span> isFirstNum=<span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">long</span> ele : inList)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!isFirstNum)&#123;</span><br><span class="line">                System.out.print(<span class="string">", "</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isFirstNum=<span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(ele);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//the traditional iteration</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Long&gt; <span class="title">iterFibo</span><span class="params">(<span class="keyword">int</span> howMuch)</span></span>&#123;</span><br><span class="line">        <span class="comment">//if not enough number, get the next one</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;howMuch;i++)&#123;</span><br><span class="line">            <span class="comment">//sum the last two number</span></span><br><span class="line">            <span class="keyword">long</span> newNum = fibonacciList.get(fibonacciList.size()-<span class="number">2</span>)+fibonacciList.get(fibonacciList.size()-<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//insert into result list</span></span><br><span class="line">            fibonacciList.add(newNum);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fibonacciList;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//the traditional recuresion</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Long&gt; <span class="title">recurFiboFast</span><span class="params">(<span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">        <span class="comment">//base case</span></span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">1</span>) &#123;</span><br><span class="line">            List&lt;Long&gt; oneFiboList = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</span><br><span class="line">            oneFiboList.add(<span class="number">1L</span>);</span><br><span class="line">            <span class="keyword">return</span> oneFiboList;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (size==<span class="number">2</span>) &#123;</span><br><span class="line">            List&lt;Long&gt; twoFiboList = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</span><br><span class="line">            twoFiboList.add(<span class="number">1L</span>);</span><br><span class="line">            twoFiboList.add(<span class="number">1L</span>);</span><br><span class="line">            <span class="keyword">return</span> twoFiboList;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//go deeper: single line</span></span><br><span class="line">            List&lt;Long&gt; lastFiboList = recurFiboFast(size-<span class="number">1</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//go back: add the new number</span></span><br><span class="line">            <span class="keyword">long</span> number1 = lastFiboList.get(lastFiboList.size()-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">long</span> number2 = lastFiboList.get(lastFiboList.size()-<span class="number">2</span>);</span><br><span class="line">            <span class="keyword">long</span> newNum = number1+number2;</span><br><span class="line">            lastFiboList.add(newNum);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//return</span></span><br><span class="line">            <span class="keyword">return</span> lastFiboList;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     *  main method</span><br><span class="line">     *  <span class="doctag">@param</span> args void</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String args[])</span></span>&#123;</span><br><span class="line">        List&lt;Long&gt; testList1 = Fibonacci.iterFibo(<span class="number">10</span>);</span><br><span class="line">        Fibonacci.print(testList1);</span><br><span class="line">        </span><br><span class="line">        List&lt;Long&gt; testList2 = Fibonacci.recurFiboFast(<span class="number">10</span>);</span><br><span class="line">        Fibonacci.print(testList2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前5个：Fibonacci.iterFibo(5);</span></span><br><span class="line"><span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//100个？Fibonacci.iterFibo(100);</span></span><br><span class="line"><span class="comment">//Fibonacci成长曲线很快，90次左右，long型表示就受不鸟呢</span></span><br><span class="line"><span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">21</span>, <span class="number">34</span>, <span class="number">55</span>, <span class="number">89</span>, <span class="number">144</span>, <span class="number">233</span>, <span class="number">377</span>, <span class="number">610</span>, <span class="number">987</span>, <span class="number">1597</span>, <span class="number">2584</span>, <span class="number">4181</span>, <span class="number">6765</span>, <span class="number">10946</span>, <span class="number">17711</span>, <span class="number">28657</span>, <span class="number">46368</span>, <span class="number">75025</span>, <span class="number">121393</span>, <span class="number">196418</span>, <span class="number">317811</span>, <span class="number">514229</span>, <span class="number">832040</span>, <span class="number">1346269</span>, <span class="number">2178309</span>, <span class="number">3524578</span>, <span class="number">5702887</span>, <span class="number">9227465</span>, <span class="number">14930352</span>, <span class="number">24157817</span>, <span class="number">39088169</span>, <span class="number">63245986</span>, <span class="number">102334155</span>, <span class="number">165580141</span>, <span class="number">267914296</span>, <span class="number">433494437</span>, <span class="number">701408733</span>, <span class="number">1134903170</span>, <span class="number">1836311903</span>, <span class="number">2971215073</span>, <span class="number">4807526976</span>, <span class="number">7778742049</span>, <span class="number">12586269025</span>, <span class="number">20365011074</span>, <span class="number">32951280099</span>, <span class="number">53316291173</span>, <span class="number">86267571272</span>, <span class="number">139583862445</span>, <span class="number">225851433717</span>, <span class="number">365435296162</span>, <span class="number">591286729879</span>, <span class="number">956722026041</span>, <span class="number">1548008755920</span>, <span class="number">2504730781961</span>, <span class="number">4052739537881</span>, <span class="number">6557470319842</span>, <span class="number">10610209857723</span>, <span class="number">17167680177565</span>, <span class="number">27777890035288</span>, <span class="number">44945570212853</span>, <span class="number">72723460248141</span>, <span class="number">117669030460994</span>, <span class="number">190392490709135</span>, <span class="number">308061521170129</span>, <span class="number">498454011879264</span>, <span class="number">806515533049393</span>, <span class="number">1304969544928657</span>, <span class="number">2111485077978050</span>, <span class="number">3416454622906707</span>, <span class="number">5527939700884757</span>, <span class="number">8944394323791464</span>, <span class="number">14472334024676221</span>, <span class="number">23416728348467685</span>, <span class="number">37889062373143906</span>, <span class="number">61305790721611591</span>, <span class="number">99194853094755497</span>, <span class="number">160500643816367088</span>, <span class="number">259695496911122585</span>, <span class="number">420196140727489673</span>, <span class="number">679891637638612258</span>, <span class="number">1100087778366101931</span>, <span class="number">1779979416004714189</span>, <span class="number">2880067194370816120</span>, <span class="number">4660046610375530309</span>, <span class="number">7540113804746346429</span>, -<span class="number">6246583658587674878</span>, <span class="number">1293530146158671551</span>, -<span class="number">4953053512429003327</span>, -<span class="number">3659523366270331776</span>, -<span class="number">8612576878699335103</span>, <span class="number">6174643828739884737</span>, -<span class="number">2437933049959450366</span>, <span class="number">3736710778780434371</span></span><br></pre></td></tr></table></figure>
<h4 id="简化代码？"><a href="#简化代码？" class="headerlink" title="简化代码？"></a>简化代码？</h4><p>其实我怒了，为什么我写的东西都这么肥大肥大肥大肥大。我就不能写个小一点的Fibonacci？？？？？？？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fibonacci</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Fibonacci</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//just return the Nth fibonacci number</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">fibo</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n&lt;=<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> fibo(n-<span class="number">1</span>)+fibo(n-<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String args[])</span></span>&#123;</span><br><span class="line">        <span class="comment">//just give me the next fibo quickly</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">            System.out.print (fibo(i)+<span class="string">" "</span>);</span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>亲，这个看上去很优雅，我喜欢(o&gt;▽&lt;)。但其实<strong><code>fibo()</code></strong>的效率比<strong><code>recurFiboFast()</code></strong>低多了。仔细看<strong><code>fibo()</code></strong>每层有两个分支，其中必定很多fibo数都是重复求的。如果层数多一点，血管马上爆。</p>
<p><img src="/uploads/tij4-4/fib_5.png" alt="fib_5"></p>
<p>随便跑一个fibo(1)到fibo(200)，我的MAC崩溃了。。。</p>
<p>但recurFiboFast(200)其实有点动态编程的影子，因为我把之前所有已经算出来的fibonacci数都存表里了，每次都只是去找表里的前两个值。复杂度是线性的，O(n)。<br><img src="/uploads/tij4-4/fibo_dyna.jpg" alt="fibo_dyna"></p>
<h3 id="练习-10"><a href="#练习-10" class="headerlink" title="练习 10"></a>练习 10</h3><p>A vampire number has an even number of digits and is formed by multiplying a pair of numbers containing half the number of digits of the result. The digits are taken from the original number in any order. Pairs of trailing zeroes are not allowed. Examples include:<br>1260 = 21 <em> 60<br>1827 = 21 </em> 87<br>2187 = 27 * 81<br>Write a program that finds all the 4-digit vampire numbers. (Suggested by Dan Forhan.)</p>
<p>因为特别特别特别饿，所以先写了一个最naive的暴力搜索，1000到9999一个一个拆开成两位数检查过去。而且代码有很多地方效率不高。吃完饭看看能不能简化代码，然后考虑有没有更优美的解法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  Vampire number</span><br><span class="line"> *  <span class="doctag">@author</span> wei.shen<span class="doctag">@iro</span>.umontreal.ca</span><br><span class="line"> *  <span class="doctag">@version</span> 1.0</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ciaoshen.thinkinjava.chapter4;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vampire</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//default constructor</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vampire</span><span class="params">()</span></span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//only look for 4-digits vampire numbers</span></span><br><span class="line">    <span class="comment">//丑陋暴力解法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">getFourDigitsVampire</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//the result container</span></span><br><span class="line">        List&lt;Integer&gt; resultList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="comment">//for all 4-digits numbers</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> currNum=<span class="number">1000</span>;currNum&lt;<span class="number">10000</span>;currNum++)&#123;</span><br><span class="line">            <span class="comment">//Pairs of trailing zeroes are not allowed.</span></span><br><span class="line">            <span class="keyword">if</span>(currNum%<span class="number">100</span> != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//permutations of ab*cd： P（4，2）*2</span></span><br><span class="line">                <span class="comment">//2 nested loop</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> digit1=<span class="number">0</span>;digit1&lt;<span class="number">4</span>;digit1++)&#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> digit2=<span class="number">0</span>;digit2&lt;<span class="number">4</span>;digit2++)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(digit2!=digit1)&#123;</span><br><span class="line">                            <span class="comment">//call split(inNum,digit1,digit2)</span></span><br><span class="line">                            <span class="comment">// (abcd,1,3) --&gt; &#123;ac,bd&#125;</span></span><br><span class="line">                            <span class="comment">// (abcd,2,4) --&gt; &#123;bd,ac&#125;</span></span><br><span class="line">                            List&lt;Integer&gt; halfHalf = split(currNum,digit1,digit2);</span><br><span class="line">                        </span><br><span class="line">                            <span class="comment">//check the pruduct</span></span><br><span class="line">                            <span class="keyword">if</span>(halfHalf.get(<span class="number">0</span>)*halfHalf.get(<span class="number">1</span>)==currNum)&#123;</span><br><span class="line">                                <span class="keyword">if</span>(!resultList.contains(currNum))&#123;</span><br><span class="line">                                    resultList.add(currNum);</span><br><span class="line">                                &#125;</span><br><span class="line">                                System.out.println(currNum+<span class="string">" = "</span>+halfHalf.get(<span class="number">0</span>)+<span class="string">" * "</span>+halfHalf.get(<span class="number">1</span>));</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//return</span></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">    <span class="comment">// (abcd,1,3) --&gt; &#123;ac,bd&#125;</span></span><br><span class="line">    <span class="comment">// (abcd,2,4) --&gt; &#123;bd,ac&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">split</span> <span class="params">(<span class="keyword">int</span> inNum, <span class="keyword">int</span> digit1, <span class="keyword">int</span> digit2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//result container</span></span><br><span class="line">        List&lt;Integer&gt; resultList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//convert to digits</span></span><br><span class="line">        List&lt;Integer&gt; fourDigits=toDigits(inNum);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//get the rest number of digit1, digit2</span></span><br><span class="line">        List&lt;Integer&gt; restDigit = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> digit=<span class="number">0</span>;digit&lt;<span class="number">4</span>;digit++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(digit!=digit1 &amp;&amp; digit!=digit2)&#123;</span><br><span class="line">                restDigit.add(digit);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> rest1=restDigit.get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> rest2=restDigit.get(<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//get &#123;ac,bd&#125;</span></span><br><span class="line">        <span class="keyword">int</span> part1=fourDigits.get(digit1)*<span class="number">10</span>+fourDigits.get(digit2);</span><br><span class="line">        <span class="keyword">int</span> part2=fourDigits.get(rest1)*<span class="number">10</span>+fourDigits.get(rest2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//insert into result container</span></span><br><span class="line">        resultList.add(part1);</span><br><span class="line">        resultList.add(part2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//return</span></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">toDigits</span><span class="params">(<span class="keyword">int</span> inNum)</span></span>&#123;</span><br><span class="line">        <span class="comment">//get 4 digital number</span></span><br><span class="line">        List&lt;Integer&gt; fourNum = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        fourNum.add(<span class="number">0</span>,(inNum%<span class="number">10000</span>-inNum%<span class="number">1000</span>)/<span class="number">1000</span>);</span><br><span class="line">        fourNum.add(<span class="number">1</span>,(inNum%<span class="number">1000</span>-inNum%<span class="number">100</span>)/<span class="number">100</span>);</span><br><span class="line">        fourNum.add(<span class="number">2</span>,(inNum%<span class="number">100</span>-inNum%<span class="number">10</span>)/<span class="number">10</span>);</span><br><span class="line">        fourNum.add(<span class="number">3</span>,inNum%<span class="number">10</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//return</span></span><br><span class="line">        <span class="keyword">return</span> fourNum;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//to print the arraylist of integer</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printList</span><span class="params">(List&lt;Integer&gt; inList)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> ele : inList)&#123;</span><br><span class="line">            System.out.println(ele);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     *  main method</span><br><span class="line">     *  <span class="doctag">@param</span> args void</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//test split method</span></span><br><span class="line">        <span class="keyword">int</span> myNum = <span class="number">2016</span>;</span><br><span class="line">        List&lt;Integer&gt; threeNumber = Vampire.split(myNum,<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">        Vampire.printList(threeNumber);</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//test getVampire</span></span><br><span class="line">        List&lt;Integer&gt; vampireResult = Vampire.getFourDigitsVampire();</span><br><span class="line">        System.out.println(<span class="string">"Voila, here is our 4-digits vampire numbers: "</span>);</span><br><span class="line">        Vampire.printList(vampireResult);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="output-1"><a href="#output-1" class="headerlink" title="output"></a>output</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">MacBook-Pro-de-Wei:java Wei$ sh run.sh Vampire</span><br><span class="line"><span class="number">1260</span> = <span class="number">21</span> * <span class="number">60</span></span><br><span class="line"><span class="number">1395</span> = <span class="number">93</span> * <span class="number">15</span></span><br><span class="line"><span class="number">1435</span> = <span class="number">41</span> * <span class="number">35</span></span><br><span class="line"><span class="number">1530</span> = <span class="number">51</span> * <span class="number">30</span></span><br><span class="line"><span class="number">1827</span> = <span class="number">21</span> * <span class="number">87</span></span><br><span class="line"><span class="number">2187</span> = <span class="number">81</span> * <span class="number">27</span></span><br><span class="line"><span class="number">6880</span> = <span class="number">86</span> * <span class="number">80</span></span><br><span class="line"><span class="number">6880</span> = <span class="number">86</span> * <span class="number">80</span></span><br><span class="line"></span><br><span class="line">Voila, here is our <span class="number">4</span>-digits vampire numbers: </span><br><span class="line"><span class="number">1260</span></span><br><span class="line"><span class="number">1395</span></span><br><span class="line"><span class="number">1435</span></span><br><span class="line"><span class="number">1530</span></span><br><span class="line"><span class="number">1827</span></span><br><span class="line"><span class="number">2187</span></span><br><span class="line"><span class="number">6880</span></span><br></pre></td></tr></table></figure>
<h4 id="天外有天"><a href="#天外有天" class="headerlink" title="天外有天"></a>天外有天</h4><p>为什么我喜欢算法呢？因为她美。为什么美呢？因为你的解法永远不会是最美得那一个。为什么Dan Forhan会推荐这道题呢？因为果然这题明显洞天里面有洞天啊。</p>
<p>第二种解法，逆向思维。既然是两个两位数相乘，我们就可以遍历所有两位数，求积，再比较原数和积。这个比较可以用拆开排序的方法，因为只要求数字相同，顺序没关系。<strong><code>1260</code></strong>和<strong><code>2160</code></strong>拆开排序后都是<strong><code>0126</code></strong>。这其实也算暴力解法，只是和前面的方法相反的角度出发，但效率就要高一点。以下是代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vampire</span></span>&#123;</span><br><span class="line">    <span class="comment">//default constructor</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vampire</span><span class="params">()</span></span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//another method to get the 4 digits vampire number</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">getFourDigitsVampireV2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//result container</span></span><br><span class="line">        List&lt;Integer&gt; vampireList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="comment">//nested loop: check each ab and cd</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> part1=<span class="number">10</span>;part1&lt;<span class="number">100L</span>;part1++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> part2=part1;part2&lt;<span class="number">100L</span>;part2++)&#123;</span><br><span class="line">                <span class="keyword">int</span> product = part1*part2;</span><br><span class="line">                <span class="keyword">if</span> (!(product&lt;<span class="number">1000</span> || product &gt;= <span class="number">10000</span> || product%<span class="number">100</span>==<span class="number">0</span>))&#123;   <span class="comment">//only need 4 digits number and those end with 00</span></span><br><span class="line">                    <span class="comment">//split to list of int 1234 --&gt;&#123;4,3,2,1&#125;</span></span><br><span class="line">                    List&lt;Integer&gt; origList = toInvertDigits(part1*<span class="number">100</span>+part2);</span><br><span class="line">                    List&lt;Integer&gt; productList = toInvertDigits(product);</span><br><span class="line">                    <span class="comment">//sort</span></span><br><span class="line">                    Collections.sort(origList);</span><br><span class="line">                    Collections.sort(productList);</span><br><span class="line">                    <span class="comment">//compaire the sorted list</span></span><br><span class="line">                    <span class="keyword">if</span> (origList.equals(productList))&#123;</span><br><span class="line">                        System.out.println(<span class="string">"found "</span>+part1+<span class="string">" * "</span>+part2+<span class="string">" = "</span>+product);</span><br><span class="line">                        vampireList.add(product);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> vampireList;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//input:1234 --&gt; output: &#123;4,3,2,1&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">toInvertDigits</span><span class="params">(<span class="keyword">int</span> inNum)</span></span>&#123;</span><br><span class="line">        List&lt;Integer&gt; resultList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">while</span>(inNum&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            resultList.add(inNum%<span class="number">10</span>);</span><br><span class="line">            inNum/=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     *  main method</span><br><span class="line">     *  <span class="doctag">@param</span> args void</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">        <span class="comment">//test getVampire</span></span><br><span class="line">        List&lt;Integer&gt; vampireResult = Vampire.getFourDigitsVampireV2();</span><br><span class="line">        System.out.println(<span class="string">"Voila, here is our 4-digits vampire numbers: "</span>);</span><br><span class="line">        Vampire.printList(vampireResult);  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但以为这样就完了吗？too naive too simple。还是上Think in Java的官方答案吧。</p>
<p>同样是两层套嵌loop两位数10-99，然后关键在后面：</p>
<blockquote>
<p>根据Pete Hartley的数学公式: 如果 <strong><code>x*y</code></strong> 是吸血鬼数，那么 <strong><code>x*y == x+y (mod 9)</code></strong>。</p>
</blockquote>
<p>为什么会有人发现这样的外挂呢？我这辈子应该不可能是巨人的，看样子只能站在巨人的肩膀上了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: control/E10_Vampire.java</span></span><br><span class="line"> <span class="comment">/****************** Exercise 10 *********************</span><br><span class="line"> * A vampire number has an even number of digits and</span><br><span class="line"> * is formed by multiplying a pair of numbers containing</span><br><span class="line"> * half the number of digits of the result. The digits</span><br><span class="line"> * are taken from the original number in any order.</span><br><span class="line"> * Pairs of trailing zeroes are not allowed. Examples</span><br><span class="line"> * include:</span><br><span class="line"> * 1260 = 21 * 60</span><br><span class="line"> * 1827 = 21 * 87</span><br><span class="line"> * 2187 = 27 * 81</span><br><span class="line"> * Write a program that finds all the 4-digit vampire</span><br><span class="line"> * numbers. (Suggested by Dan Forhan.)</span><br><span class="line"> ****************************************************/</span></span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">E10_Vampire</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">int</span>[] startDigit = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line">     <span class="keyword">int</span>[] productDigit = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> num1 = <span class="number">10</span>; num1 &lt;= <span class="number">99</span>; num1++)</span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> num2 = num1; num2 &lt;= <span class="number">99</span>; num2++) &#123;</span><br><span class="line">             <span class="comment">// Pete Hartley's theoretical result:</span></span><br><span class="line">             <span class="comment">// If x·y is a vampire number then</span></span><br><span class="line">             <span class="comment">// x·y == x+y (mod 9)</span></span><br><span class="line">             <span class="keyword">if</span>((num1 * num2) % <span class="number">9</span> != (num1 + num2) % <span class="number">9</span>)</span><br><span class="line">                 <span class="keyword">continue</span>;</span><br><span class="line">     <span class="keyword">int</span> product = num1 * num2;</span><br><span class="line">     startDigit[<span class="number">0</span>] = num1 / <span class="number">10</span>;</span><br><span class="line">     startDigit[<span class="number">1</span>] = num1 % <span class="number">10</span>;</span><br><span class="line">     startDigit[<span class="number">2</span>] = num2 / <span class="number">10</span>;</span><br><span class="line">     startDigit[<span class="number">3</span>] = num2 % <span class="number">10</span>;</span><br><span class="line">     productDigit[<span class="number">0</span>] = product / <span class="number">1000</span>;</span><br><span class="line">     productDigit[<span class="number">1</span>] = (product % <span class="number">1000</span>) / <span class="number">100</span>;</span><br><span class="line">     productDigit[<span class="number">2</span>] = product % <span class="number">1000</span> % <span class="number">100</span> / <span class="number">10</span>;</span><br><span class="line">     productDigit[<span class="number">3</span>] = product % <span class="number">1000</span> % <span class="number">100</span> % <span class="number">10</span>;</span><br><span class="line">     <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">4</span>; x++)</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; <span class="number">4</span>; y++) &#123;</span><br><span class="line">           <span class="keyword">if</span>(productDigit[x] == startDigit[y]) &#123;</span><br><span class="line">               count++;</span><br><span class="line">               productDigit[x] = -<span class="number">1</span>;</span><br><span class="line">               startDigit[y] = -<span class="number">2</span>;</span><br><span class="line">               <span class="keyword">if</span>(count == <span class="number">4</span>)</span><br><span class="line">                   System.out.println(num1 + <span class="string">" * "</span> + num2</span><br><span class="line">                           + <span class="string">" : "</span> + product);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/control-flow/" rel="tag">#control flow</a>
          
            <a href="/tags/fibonacci/" rel="tag">#fibonacci</a>
          
            <a href="/tags/vampire/" rel="tag">#vampire</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/03/09/tij4-3/" rel="next" title="Thinking in Java 读书笔记：第三章 - 操作符">
                <i class="fa fa-chevron-left"></i> Thinking in Java 读书笔记：第三章 - 操作符
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/03/14/tij4-5/" rel="prev" title="Thinking in Java 读书笔记：第五章 - 初始化与清理">
                Thinking in Java 读书笔记：第五章 - 初始化与清理 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/03/11/tij4-4/"
           data-title="Thinking in Java 读书笔记：第四章 - 控制执行流程" data-url="www.ciaoshen.com/2016/03/11/tij4-4/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/shenAvatar.jpg"
               alt="沈玮 | Wei SHEN" />
          <p class="site-author-name" itemprop="name">沈玮 | Wei SHEN</p>
          <p class="site-description motion-element" itemprop="description">Coder & Designer</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">62</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">201</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/helloShen" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.douban.com/people/72441576/" target="_blank">
                  
                    <i class="fa fa-globe"></i> DouBan
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/pang-pang-37-37" target="_blank">
                  
                    <i class="fa fa-globe"></i> ZhiHu
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#摘要"><span class="nav-number">1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while-和-do-while"><span class="nav-number">2.</span> <span class="nav-text">while 和 do-while</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#练习1"><span class="nav-number">2.1.</span> <span class="nav-text">练习1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#练习2"><span class="nav-number">2.2.</span> <span class="nav-text">练习2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#练习3"><span class="nav-number">2.3.</span> <span class="nav-text">练习3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#练习4"><span class="nav-number">2.4.</span> <span class="nav-text">练习4</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#练习-5"><span class="nav-number">2.5.</span> <span class="nav-text">练习 5</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-语句"><span class="nav-number">3.</span> <span class="nav-text">for 语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#多个参数控制for"><span class="nav-number">3.1.</span> <span class="nav-text">多个参数控制for</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#for-element-collection"><span class="nav-number">3.2.</span> <span class="nav-text">for (element : collection)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#break-continue以及标签"><span class="nav-number">4.</span> <span class="nav-text">break, continue以及标签</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#break和continue"><span class="nav-number">4.1.</span> <span class="nav-text">break和continue</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#标签"><span class="nav-number">4.2.</span> <span class="nav-text">标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#练习-7"><span class="nav-number">4.3.</span> <span class="nav-text">练习 7</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#switch"><span class="nav-number">5.</span> <span class="nav-text">switch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#练习-8"><span class="nav-number">6.</span> <span class="nav-text">练习 8</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#output"><span class="nav-number">6.1.</span> <span class="nav-text">output</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#练习-9"><span class="nav-number">7.</span> <span class="nav-text">练习 9</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Output"><span class="nav-number">7.1.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#简化代码？"><span class="nav-number">7.2.</span> <span class="nav-text">简化代码？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#练习-10"><span class="nav-number">8.</span> <span class="nav-text">练习 10</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#output-1"><span class="nav-number">8.1.</span> <span class="nav-text">output</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#天外有天"><span class="nav-number">8.2.</span> <span class="nav-text">天外有天</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">沈玮 | Wei SHEN</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io" rel="external nofollow">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">
    NexT.Mist
  </a>
</div>

</br>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div>
  <span id="busuanzi_container_site_pv">
  Visited  <span id="busuanzi_value_site_pv"></span>  times
  </span>

<span id="busuanzi_container_site_pv">&nbsp; &nbsp; | &nbsp; &nbsp;</span>

  <span id="busuanzi_container_site_uv">
  <span id="busuanzi_value_site_uv"></span>  Visitors
  </span>
<div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  


  



  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/lib/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.sidebar.display === 'post' || CONFIG.sidebar.display === 'always') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ciaoshen"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  





  
  

  
  


</body>
</html>
