<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Thinking {SHEN}</title>

    <!-- Bootstrap Core CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Blog Template CSS -->
    <link href="/assets/css/blog.css" rel="stylesheet">
    <!-- jQuery Version 1.11.1 -->
    <script src="/assets/js/jquery.js"></script>
    <!-- footer bar -->
    <link href="/assets/css/footer.css" rel="stylesheet">
    <!-- code highlight. I also have other options. But this one looks good! -->
    <link href="/assets/css/jekyll-github.css" rel="stylesheet">
    <!-- Sidebar -->
    <!--<link href="/assets/css/sidebar.css" rel="stylesheet">-->


    <!-- Custom CSS -->
    <style>
        body {
            padding-top: 70px;
            /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
        }
        .container {
            width: 80%;
        }
    </style>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="">Thinking {SHEN}</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="/resume/">Resume</a>
                    </li>
                    <li>
                        <a href="/thinkinginjava/">Thinking in Java</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Container -->
    <div class="container">

        <!-- Page Title -->
        <div class="text-center">
      <!-- page-header是Bootstrap内置页头组件 -->
      <div class="page-header">
          <h1>Code Refactoring - War of Clan</h1>
      </div>
      <h5 class="blog-post-meta">
                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> &nbsp
                2016-06-12 08:44:46 -0400
                &nbsp | &nbsp
                <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> &nbsp
            
                <a href="/categories/Java.html"><span class="label label-primary"><b>Java</b></span></a>
                &nbsp
            
                <a href="/categories/Design_Pattern.html"><span class="label label-primary"><b>Design_Pattern</b></span></a>
                &nbsp
            
                &nbsp | &nbsp
                <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> &nbsp
                <a href="#disqus_thread "></a>
      </h5>
      <h5 class="blog-post-meta">
          <span class="glyphicon glyphicon-tags" aria-hidden="true"></span> &nbsp
          
              <a href="/tags/Inheritance.html"><span class="label label-default">Inheritance</span></a>
              &nbsp
          
              <a href="/tags/Composition.html"><span class="label label-default">Composition</span></a>
              &nbsp
          
              <a href="/tags/Factory_Pattern.html"><span class="label label-default">Factory_Pattern</span></a>
              &nbsp
          
      </h5>
</div>


        <!-- Page Content -->
        <h3 id="前言">前言</h3>
<p>从考法语的状态回来，整个过程虽说很煎熬很虐心，但说实在的法语水平真的是有长进，我一直是相信煎熬对人性是一种试炼的。这么多年一直以为自己已经不用练法语了，但显然一门语言是没有止境的。练口语的过程中，认识了不少本地的魁瓜，竟然有人工作之余的兴趣爱好就是帮助新移民提高法语水平你能信？我一直不是一个成功主义者，这些默默无闻的人，是不是很像遍地的野花，其实也很可爱呢？但在一些人人追逐成功的地方，你很难找到这样的人。总之，加拿大这个国家还是很可爱的，每个故事都会有一只呆萌的胖子，很明显加拿大就是我们这个世界里的那只胖子。</p>

<p>回到编程，之前Think in Java看到组合，继承，代理。中断了这么久，继续之前，周末先做个小练习，重温一下书里说的一些编程风格。最初的动机只是想做一个最简单的”人类-家族-世界”的模型。但因为之前喝了KK的毒奶《失控》，看完我彻底被洗脑了呀。上帝模式下，想象在一片远古大陆上，各种拥有不同特长能力的种族，相互竞争，繁衍生息，最后会不会有某一种族统治这片大陆？如果有，那到底什么样的特长是最强的？能帮助一个种族最后生存下来？带着这个傻X的想法我就写了这个叫《氏族战争》的小游戏。</p>

<p>稍微剧透一下，结局略狗血，最后的胜利者竟然是这货！！！完全刷新了朕的三观。在一个看颜值的世界，高颜值的玫瑰家族差不多垫底，简直不能忍啊！所以我在想，什么时候能再写一个《氏族战争2》，能不能不要让上面这货赢？</p>

<h3 id="游戏规则">游戏规则</h3>
<p>这片大陆的名字叫艾泽拉斯。</p>

<p>每年的春季，大陆上的未婚妹纸都会向她们周围最帅的未婚小鲜肉表白。但帅哥的心上人是他社交圈内最美那个妹纸，如果正巧就是表白的那妹纸的话，他们就会相爱，并结婚生子。人均生育率为2。婚后妻子加入丈夫的氏族，孩子也跟老爸姓，遗传老爸的能力。</p>

<p>但世界上还有一种好东西叫钱。妹子也会仰慕周围最有钱的富豪，如果这妹子正好是这位富豪的心上人的话，她就会被包养成为情妇（等同于结婚）。</p>

<p>婚后妻子有可能出轨，具体情况根据夫妇俩的忠诚度以及小三的诱惑值决定。妻子出轨以后怀的孩子都是小三的，跟小三姓。</p>

<p>每年夏天，求偶失败的男孩会到周边的地方重新求偶，直到成功或者挂掉为止。</p>

<p>人的颜值会随着年龄的增长衰减。</p>

<p>大陆上有七个奇怪的种族：</p>
<ul>
  <li>
    <p>&lt;img src=”/uploads/clanWar/rose.png” width=100 height=100/&gt;<strong>玫瑰家族(Rose)</strong>:	高颜值。家族成员的平均颜值80分。其他家族平均颜值只有50分。</p>
  </li>
  <li>
    <p>&lt;img src=”/uploads/clanWar/banker.png” width=100 height=100/&gt;<strong>银行家家族(Banker)</strong>:	有经济头脑，更会赚钱。银行家人均年收入100刀。其他家族年收入只有50刀。</p>
  </li>
  <li>
    <p>&lt;img src=”/uploads/clanWar/ranger.png” width=100 height=100/&gt;<strong>巡游者家族(Ranger)</strong>:	爱好冒险和旅游。巡游者每年在地图上平均移动70公里，其他家族只移动30公里。</p>
  </li>
  <li>
    <p>&lt;img src=”/uploads/clanWar/skaven.png” width=100 height=100/&gt;<strong>鼠人族(Skaven)</strong>:	更强的生育能力。鼠人人均生育率=2.1。其他家族=2.0。</p>
  </li>
  <li>
    <p>&lt;img src=”/uploads/clanWar/playboy.png” width=100 height=100/&gt;<strong>花花公子家族(Playboy)</strong>:	对婚姻不忠诚，专门勾引有妇之夫（别人老婆怀的是他的孩子！）。其他家族婚姻忠诚度50，诱惑能力20。花花公子忠诚度45，诱惑能力25。</p>
  </li>
  <li>
    <p>&lt;img src=”/uploads/clanWar/barbarian.png” width=100 height=100/&gt;<strong>兽人族(Barbarian)</strong>:	对配偶颜值没有任何要求，再丑都无所谓。其他家族男性成员只接受他们社交范围内最漂亮女生的表白，兽人会接受任（饥）何（不）妹（择）纸（食）的表白。</p>
  </li>
  <li>
    <p>&lt;img src=”/uploads/clanWar/nobody.png” width=100 height=100/&gt;<strong>白板族(Nobody)</strong>:	苦逼的白板，没有任何特殊能力，人艰不拆。</p>
  </li>
</ul>

<p>300年后人口最多的种族成为世界的霸主！最后的胜利者只有一个，会是哪个种族呢？</p>

<h3 id="代码设计">代码设计</h3>
<p>设计类的基本原则：</p>
<ul>
  <li>最小化代码冗余</li>
  <li>松耦合模块化，降低维护难度</li>
  <li>运用虚拟工厂设计模式，对用户隐藏不同氏族成员实例化的细节。</li>
  <li>提高扩展性，尤其是将来扩展更多的种族，甚至允许玩家自己设计扩展种族参与乱斗。</li>
  <li>集中游戏的参数，方便初始化游戏</li>
  <li>实践Think in Java中谨慎的访问权限风格，私有参数，私有构造函数，公开方法，包内权限类。</li>
</ul>

<h4 id="人类humanjava">人类（Human.java）</h4>
<p><img src="/images/clanWar/human.jpg" alt="result" />
是最基本的游戏单位。包含每个个体的基本参数和行为方法。最主要的有恋爱系统girlFlirt()，loveMe()，出轨系统havingAffair()，寿命系统randomDeath()，人物移动系统move()等等。另外还提供两种工厂方法接口：</p>
<ul>
  <li>开放性的万能工厂createNewMan()，方便其他类灵活地定制人类实例。</li>
  <li>封闭的特殊工厂babyBirth()，婴儿所有参数根据其父母参数随机产生，用户无法控制参数。</li>
</ul>

<h4 id="氏族clanjava">氏族（Clan.java）</h4>
<p><img src="/images/clanWar/clan_1.jpg" alt="result" />
是人类的虚拟工厂(abstract factory)类。主要包含生产标准人类的各种必要参数，以及工厂方法ClanMemberFactory()，专门用来生产人类的实例。chargeClan()方法调用ClanMemberFactory()方法批量生产氏族成员。氏族类作为基类提供了一个白板人类的标准模板(白板族的工厂类Nobody.java就是直接继承Clan.java，没有做任何改动)，等待其子类具体各个不同的氏族进一步异化人类实例。</p>

<h4 id="七大种族">七大种族</h4>
<p><img src="/images/clanWar/world.png" alt="result" />
（ClanRose.java, ClanBanker.java, ClanRanger.java, ClanSkaven.java, ClanPlayboy.java, ClanBarbarian.java, ClanNobody.java）继承Clan.java。但分别包含每个氏族的特殊参数。Clan只是个虚拟工厂，并不直接生产人类实例。而是将实例化的过程推迟到了其子类各个具体的氏族来完成。生产出人类实例自带此氏族特殊能力。但因为多态性，对用户而言，不需要关心底层哪怕是100个氏族具体是什么，调用的始终是Clan类的chargeClan()方法，但多态性确保每次都会调用某个种族特有的chargeClan()方法。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Clan</span> <span class="n">theClan</span><span class="o">=</span><span class="n">Clan</span><span class="o">.</span><span class="na">createTheClan</span><span class="o">(</span><span class="n">clanName</span><span class="o">);</span>
<span class="n">theClan</span><span class="o">.</span><span class="na">chargeClan</span><span class="o">(</span><span class="n">memberNum</span><span class="o">,</span><span class="n">world</span><span class="o">);</span>
</code></pre>
</div>
<p>虚拟工厂这样与底层无关，低依赖，松耦合的特性，非常有利于代码的扩展，哪怕将来氏族数量从7个扩展到100个，也完全不用修改客户端的代码。</p>

<h4 id="大陆theworldjava">大陆（TheWorld.java）</h4>
<p>包含世界的一些基本设定参数，以及两个人类的容器：ArrayList<Human> humanList和ArrayList<Human> heaven，分别包含所有活着的和死去的人类。TheWorld类最主要的两个方法：passOneYear()和spring()，来推动历史的发展，人类的生老病死。</Human></Human></p>

<h4 id="氏族战争warofclanjava">氏族战争（WarOfClan.java）</h4>
<p>是游戏的主程序。runTheGame()方法首先创建一个TheWorld实例，然后调用Clan工厂在世界中创造人类实例。然后再调用世界的passOneYear()方法，完成推演。其中，还包括一个统计方法collectResult()用来统计每一年世界人口的分布。</p>

<h4 id="图形板graphpaneljava">图形板（GraphPanel.java）</h4>
<p>负责把统计结果，以曲线图的形式直观地显示出来。利用了awt和swing库。</p>

<h3 id="实验结果">实验结果</h3>
<p>实验初始设置如下：</p>
<ul>
  <li>世界大小：1000*1000</li>
  <li>初始人口密度：每个种族1000人</li>
  <li>平均生育率：2</li>
</ul>

<p><img src="/images/clanWar/result_1.png" alt="result" /></p>

<p>没想到人类在300年不到就灭亡了，这里平均生育率是个很敏感的值，一旦超过2，人口就会爆炸，低于2就会以非常快的速度灭亡。</p>

<p>最后的胜利者是花花公子家族！抢别人老婆的技能变相提高了生育率，果然生育率才是王道！但其实我只是稍微把他的诱惑值提高了5点。普通家族平均50点，他才55点，也不知道这区区5点为什么效果这么好。</p>

<p>第二名的优势家族竟然是兽族，看来在这个世界，不能太挑，再丑的妹子也是妹子啊！现在剩男剩女这么多，天天非诚勿扰，大妈满大街替儿子约会，就是要求太高，太挑了嘛。</p>

<p>最出乎意料的是高颜值的玫瑰家族，竟然垫底了！从结果上看，也就刚开始的几年他稍微领先，他优先把最漂亮的妹子选走了，但后来其他种族也都和颜值一般的姑娘结婚了，所以其实高颜值族没什么优势。但娶高颜值老婆却有一个明显的副作用：潘金莲！玫瑰家族净帮别人养娃了！同样的悲剧也发生在银行家和巡游者的身上，这证明在小三面前颜值，金钱，知识，努力，一切都是浮云！</p>

<p>最后一个比较特殊的鼠人！其实他才是隐藏的大Boss。刚开始天真的我是把他的生育率设成3的。然后我就发现他的人口爆炸了！100年之后，电脑都跑不动了！！！哪怕我只是稍微把鼠人的生育率调到2.5，也就是50%的雄性鼠人繁殖3个后代，50%还是繁殖2个后代。在去掉花花公子家族抢老婆的效果以后，150年后的霸主就是鼠人族！</p>

<p><img src="/images/clanWar/result_2.png" alt="result" /></p>

<p>当然如果再加上花花公子大Boss的话，结果就变成了这样，鼠人也只有替人打工的命。小三技能果然逆天。</p>

<p><img src="/images/clanWar/result_3.png" alt="result" /></p>

<p>所以这个实验告诉我们，优生优育什么的都是鬼扯！培养两个哈佛法学院博士不如实实在在生3个娃。现代社会推行普世价值，每个人生存的权利都被充分地尊重，高智商，高颜值已经不能为个人赢得生存的优势，反而降低了他们的生殖意愿。广大的劳动人民不要气馁，社会精英们其实都在为你们的后代打工。ISIS其实也不用再搞什么恐怖袭击，伤害到花花草草多不好。只要接着一窝一窝地生（我一个伊斯兰国家的兄弟，老妈生了17个娃），再来几波难民潮，欧洲直接就是你们的了。</p>

<h3 id="代码">代码</h3>

<h4 id="人类humanjava-1">人类（Human.java）</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 *  The unit in the WarOfClan
 *  Human class provide a simple model of human. (features and constructor)
 *  @author wei.shen@iro.umontreal.ca
 *  @version 1.0
 */</span>
<span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">clanWar</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.Math.*</span><span class="o">;</span>

<span class="cm">/**
 *  Only package access to this class
 *  players do not need to know the details
 */</span>
<span class="kd">class</span> <span class="nc">Human</span> <span class="o">{</span>

    <span class="cm">/**
     *  public access to the private fields
     *  we cannot change these parameter, but only to show their value
     */</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="n">SEX</span> <span class="nf">getSex</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">sex</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getClanName</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="n">Human</span> <span class="nf">getSpouse</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">getPosition</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getBeauty</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMoney</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isAlive</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">alive</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAvgLife</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">avgLife</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">isBornAt</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">bornAt</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">isDeadAt</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">deadAt</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getRange</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">range</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getView</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">view</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMonyAbility</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">moneyAbility</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getBabyNum</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">babyNum</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getBabyAbility</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">babyAbility</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getChildFather</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">childFather</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">geLoyalty</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">loyalty</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getFlirt</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">flirt</span><span class="o">;}</span>
    <span class="c1">//check spouse before marriage</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasSpouse</span><span class="o">(){</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">==</span><span class="kc">null</span><span class="o">){</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/**
     *  some special accesses to adjust some arguments
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">){</span><span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">+=</span><span class="n">age</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">toDeath</span><span class="o">(){</span><span class="k">this</span><span class="o">.</span><span class="na">alive</span><span class="o">=</span><span class="kc">false</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">earnMoney</span><span class="o">(</span><span class="kt">int</span> <span class="n">earn</span><span class="o">){</span><span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">+=</span><span class="n">earn</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">lostMoney</span><span class="o">(</span><span class="kt">int</span> <span class="n">lost</span><span class="o">){</span><span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">-=</span><span class="n">lost</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">bornAt</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">){</span><span class="k">this</span><span class="o">.</span><span class="na">bornAt</span><span class="o">=</span><span class="n">year</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">deadAt</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">){</span><span class="k">this</span><span class="o">.</span><span class="na">deadAt</span><span class="o">=</span><span class="n">year</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">changeView</span><span class="o">(</span><span class="kt">int</span> <span class="n">view</span><span class="o">){</span><span class="k">this</span><span class="o">.</span><span class="na">view</span><span class="o">=</span><span class="n">view</span><span class="o">;}</span>
    <span class="c1">//human beauty system</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">growth</span><span class="o">(){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">+=</span><span class="mi">1</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">&gt;</span><span class="mi">100</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">=</span><span class="mi">100</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">fading</span><span class="o">(){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">-=</span><span class="mi">2</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>



    <span class="cm">/**
     *  Two different Human constructors
     *  based on the private universal constructor
     */</span>

    <span class="c1">//A closed proxy for a particular purpose</span>
    <span class="c1">//mother give birth with random sex, random name</span>
    <span class="c1">//baby inherit mothers avgLife and fathers clanName, beauty, range and moneyAbility</span>
    <span class="kd">public</span> <span class="n">Human</span> <span class="nf">babyBirth</span><span class="o">(</span><span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="n">Random</span> <span class="n">myRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">x</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">());</span>
        <span class="kt">int</span> <span class="n">y</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">());</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">babyPosition</span><span class="o">={</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">};</span>
        <span class="kt">int</span> <span class="n">babyBeauty</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">getSpouse</span><span class="o">().</span><span class="na">beauty</span><span class="o">;</span>
        <span class="c1">//int babyBeauty=(this.beauty+this.getSpouse().beauty)/2;</span>
        <span class="kt">int</span> <span class="n">babyRange</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">getSpouse</span><span class="o">().</span><span class="na">range</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">babyView</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">getSpouse</span><span class="o">().</span><span class="na">view</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">babyMoneyAbility</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">getSpouse</span><span class="o">().</span><span class="na">moneyAbility</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">babyBabyAbility</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">getSpouse</span><span class="o">().</span><span class="na">babyAbility</span><span class="o">;</span>
        <span class="n">Human</span> <span class="n">newBaby</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Human</span><span class="o">(</span><span class="n">Name</span><span class="o">.</span><span class="na">randomName</span><span class="o">(),</span> <span class="k">this</span><span class="o">.</span><span class="na">childFather</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">SEX</span><span class="o">.</span><span class="na">randomSex</span><span class="o">(),</span> <span class="n">babyPosition</span><span class="o">,</span> <span class="n">babyBeauty</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">avgLife</span><span class="o">,</span> <span class="n">world</span><span class="o">.</span><span class="na">getYear</span><span class="o">(),</span> <span class="mi">0</span><span class="o">,</span> <span class="n">babyRange</span><span class="o">,</span> <span class="n">babyView</span><span class="o">,</span> <span class="n">babyMoneyAbility</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">babyBabyAbility</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">.</span><span class="na">loyalty</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">.</span><span class="na">flirt</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">babyNum</span><span class="o">-=</span><span class="mi">1</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">newBaby</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//A highly flexible proxy of private construcor</span>
    <span class="c1">//each clan generate their new members with their features</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Human</span> <span class="nf">createNewMan</span><span class="o">(</span><span class="n">String</span> <span class="n">inputName</span><span class="o">,</span> <span class="n">String</span> <span class="n">inputClanName</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputAge</span><span class="o">,</span> <span class="n">SEX</span> <span class="n">inputSex</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">inputPosition</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBeauty</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputMoney</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">inputAlive</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputAvgLife</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBorn</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputDeath</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputRange</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputView</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputAbility</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBabyNum</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBabyAbility</span><span class="o">,</span> <span class="n">String</span> <span class="n">inputChildFather</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputLoyalty</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputFlirt</span><span class="o">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Human</span><span class="o">(</span><span class="n">inputName</span><span class="o">,</span> <span class="n">inputClanName</span><span class="o">,</span> <span class="n">inputAge</span><span class="o">,</span> <span class="n">inputSex</span><span class="o">,</span> <span class="n">inputPosition</span><span class="o">,</span> <span class="n">inputBeauty</span><span class="o">,</span> <span class="n">inputMoney</span><span class="o">,</span> <span class="n">inputAlive</span><span class="o">,</span> <span class="n">inputAvgLife</span><span class="o">,</span> <span class="n">inputBorn</span><span class="o">,</span> <span class="n">inputDeath</span><span class="o">,</span> <span class="n">inputRange</span><span class="o">,</span> <span class="n">inputView</span><span class="o">,</span> <span class="n">inputAbility</span><span class="o">,</span> <span class="n">inputBabyNum</span><span class="o">,</span> <span class="n">inputBabyAbility</span><span class="o">,</span> <span class="n">inputChildFather</span><span class="o">,</span> <span class="n">inputLoyalty</span><span class="o">,</span> <span class="n">inputFlirt</span><span class="o">);</span>
    <span class="o">}</span>



    <span class="cm">/**
     *  lifetime system
     *  with different mortality rate
     *  older people has more chance to die
     */</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">randomDeath</span><span class="o">(){</span>
        <span class="kt">boolean</span> <span class="n">toDeath</span><span class="o">=</span><span class="kc">false</span><span class="o">;</span>
        <span class="n">Random</span> <span class="n">deathRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="k">if</span><span class="o">(</span><span class="n">age</span><span class="o">&gt;(</span><span class="n">avgLife</span><span class="o">-</span><span class="mi">20</span><span class="o">)){</span>
            <span class="kt">int</span> <span class="n">deathSeed</span><span class="o">=</span><span class="n">deathRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">200</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">deathSeed</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="n">toDeath</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">age</span><span class="o">&gt;(</span><span class="n">avgLife</span><span class="o">-</span><span class="mi">10</span><span class="o">)){</span>
            <span class="kt">int</span> <span class="n">deathSeed</span><span class="o">=</span><span class="n">deathRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">200</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">deathSeed</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="n">toDeath</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">age</span><span class="o">&gt;(</span><span class="n">avgLife</span><span class="o">)){</span>
            <span class="kt">int</span> <span class="n">deathSeed</span><span class="o">=</span><span class="n">deathRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">deathSeed</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="n">toDeath</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">age</span><span class="o">&gt;(</span><span class="n">avgLife</span><span class="o">+</span><span class="mi">10</span><span class="o">)){</span>
            <span class="kt">int</span> <span class="n">deathSeed</span><span class="o">=</span><span class="n">deathRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">50</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">deathSeed</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="n">toDeath</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">age</span><span class="o">&gt;(</span><span class="n">avgLife</span><span class="o">+</span><span class="mi">20</span><span class="o">)){</span>
            <span class="kt">int</span> <span class="n">deathSeed</span><span class="o">=</span><span class="n">deathRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">35</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">deathSeed</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="n">toDeath</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">age</span><span class="o">&gt;(</span><span class="n">avgLife</span><span class="o">+</span><span class="mi">30</span><span class="o">)){</span>
            <span class="kt">int</span> <span class="n">deathSeed</span><span class="o">=</span><span class="n">deathRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">deathSeed</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="n">toDeath</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">toDeath</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  flirt system
     */</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">girlFlirt</span><span class="o">(</span><span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="n">Human</span> <span class="n">beautifulOne</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
        <span class="n">Human</span> <span class="n">richOne</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
        <span class="c1">//girl chose the most beautiful one and the richest one in her range.</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="n">it</span><span class="o">=</span><span class="n">world</span><span class="o">.</span><span class="na">getHumanList</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();){</span>
            <span class="n">Human</span> <span class="n">hm</span><span class="o">=</span><span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="c1">//single man, adult, in her range</span>
            <span class="k">if</span><span class="o">(</span><span class="n">hm</span><span class="o">.</span><span class="na">sex</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">SEX</span><span class="o">.</span><span class="na">MALE</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">hm</span><span class="o">.</span><span class="na">age</span><span class="o">&gt;=</span><span class="mi">18</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">.</span><span class="na">inTheView</span><span class="o">(</span><span class="n">hm</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">hm</span><span class="o">.</span><span class="na">hasSpouse</span><span class="o">()){</span>
                <span class="c1">//chose the beautiful one</span>
                <span class="k">if</span><span class="o">(</span><span class="kc">true</span><span class="o">){</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">beautifulOne</span><span class="o">!=</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">hm</span><span class="o">.</span><span class="na">getBeauty</span><span class="o">()&gt;</span><span class="n">beautifulOne</span><span class="o">.</span><span class="na">getBeauty</span><span class="o">()){</span>
                        <span class="n">beautifulOne</span><span class="o">=</span><span class="n">hm</span><span class="o">;</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">beautifulOne</span><span class="o">==</span><span class="kc">null</span><span class="o">){</span>
                        <span class="n">beautifulOne</span><span class="o">=</span><span class="n">hm</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span>
                <span class="c1">//chose the rich one</span>
                <span class="k">if</span><span class="o">(</span><span class="n">richOne</span><span class="o">!=</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">hm</span><span class="o">.</span><span class="na">getMoney</span><span class="o">()&gt;</span><span class="n">richOne</span><span class="o">.</span><span class="na">getMoney</span><span class="o">()){</span>
                    <span class="n">richOne</span><span class="o">=</span><span class="n">hm</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">richOne</span><span class="o">==</span><span class="kc">null</span><span class="o">){</span>
                    <span class="n">richOne</span><span class="o">=</span><span class="n">hm</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//System.out.println("@@@"+beauifulOne);</span>
        <span class="c1">//System.out.println("$$$"+richOne);</span>
        <span class="c1">//girl prefert the richest one than the beautiful one</span>
        <span class="k">if</span><span class="o">(</span><span class="n">richOne</span><span class="o">!=</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">.</span><span class="na">payMe</span><span class="o">(</span><span class="n">richOne</span><span class="o">,</span><span class="n">world</span><span class="o">)){</span>
            <span class="n">richOne</span><span class="o">.</span><span class="na">marriage</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">beautifulOne</span><span class="o">!=</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">.</span><span class="na">loveMe</span><span class="o">(</span><span class="n">beautifulOne</span><span class="o">,</span><span class="n">world</span><span class="o">)){</span>
            <span class="n">beautifulOne</span><span class="o">.</span><span class="na">marriage</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//the boy answer the girl</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">payMe</span><span class="o">(</span><span class="n">Human</span> <span class="n">boy</span><span class="o">,</span> <span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">loveMe</span><span class="o">(</span><span class="n">boy</span><span class="o">,</span><span class="n">world</span><span class="o">)){</span>
            <span class="c1">//how much</span>
            <span class="kt">int</span> <span class="n">price</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">*</span><span class="mi">10</span><span class="o">;</span>
            <span class="c1">//if the boy has enough money</span>
            <span class="k">if</span><span class="o">(</span><span class="n">boy</span><span class="o">.</span><span class="na">money</span><span class="o">&gt;=</span><span class="n">price</span><span class="o">){</span>
                <span class="n">boy</span><span class="o">.</span><span class="na">money</span><span class="o">-=</span><span class="n">price</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">+=</span><span class="n">price</span><span class="o">;</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//he will chose the most beautiful girl in his range whose beauty is lower than him</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">loveMe</span><span class="o">(</span><span class="n">Human</span> <span class="n">boy</span><span class="o">,</span> <span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">bestBeauty</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="n">it</span><span class="o">=</span><span class="n">world</span><span class="o">.</span><span class="na">getHumanList</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();){</span>
            <span class="n">Human</span> <span class="n">hf</span><span class="o">=</span><span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="k">if</span><span class="o">(</span><span class="n">hf</span><span class="o">.</span><span class="na">sex</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">SEX</span><span class="o">.</span><span class="na">FEMALE</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">boy</span><span class="o">.</span><span class="na">inTheView</span><span class="o">(</span><span class="n">hf</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">hf</span><span class="o">.</span><span class="na">beauty</span><span class="o">&lt;</span><span class="n">boy</span><span class="o">.</span><span class="na">beauty</span><span class="o">){</span>
                <span class="k">if</span><span class="o">(</span><span class="n">hf</span><span class="o">.</span><span class="na">beauty</span><span class="o">&gt;</span><span class="n">bestBeauty</span><span class="o">){</span>
                    <span class="n">bestBeauty</span><span class="o">=</span><span class="n">hf</span><span class="o">.</span><span class="na">beauty</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">bestBeauty</span><span class="o">&lt;=</span><span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">){</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span><span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//marriaged women looking for playboys</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">havingAffair</span><span class="o">(</span><span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="n">Human</span> <span class="n">lover</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="n">it</span><span class="o">=</span><span class="n">world</span><span class="o">.</span><span class="na">getHumanList</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();){</span>
            <span class="n">Human</span> <span class="n">hm</span><span class="o">=</span><span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="k">if</span><span class="o">(</span><span class="n">hm</span><span class="o">.</span><span class="na">sex</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">SEX</span><span class="o">.</span><span class="na">MALE</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">hm</span><span class="o">.</span><span class="na">age</span><span class="o">&gt;=</span><span class="mi">18</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">.</span><span class="na">inTheView</span><span class="o">(</span><span class="n">hm</span><span class="o">)){</span>
                <span class="k">if</span><span class="o">(</span><span class="n">lover</span><span class="o">==</span><span class="kc">null</span><span class="o">){</span>
                    <span class="n">lover</span><span class="o">=</span><span class="n">hm</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">hm</span><span class="o">.</span><span class="na">flirt</span><span class="o">&gt;</span><span class="n">lover</span><span class="o">.</span><span class="na">flirt</span><span class="o">){</span>
                    <span class="n">lover</span><span class="o">=</span><span class="n">hm</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//more beaufiful the women are, easier to betray</span>
        <span class="kt">int</span> <span class="n">loyalty</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">loyalty</span><span class="o">+</span><span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">.</span><span class="na">loyalty</span><span class="o">-</span><span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">lover</span><span class="o">!=</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">lover</span><span class="o">.</span><span class="na">flirt</span><span class="o">&gt;</span><span class="n">loyalty</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">childFather</span><span class="o">=</span><span class="n">lover</span><span class="o">.</span><span class="na">clanName</span><span class="o">;</span>
            <span class="c1">//System.out.println(this.name+" flirted!!!!");</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">inTheView</span><span class="o">(</span><span class="n">Human</span> <span class="n">another</span><span class="o">){</span>
        <span class="kt">double</span> <span class="n">distance</span><span class="o">=</span><span class="n">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]-</span><span class="n">another</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span><span class="mi">2</span><span class="o">)+</span><span class="n">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]-</span><span class="n">another</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">],</span><span class="mi">2</span><span class="o">));</span>
        <span class="k">if</span><span class="o">(</span><span class="n">distance</span><span class="o">&lt;=(</span><span class="kt">double</span><span class="o">)</span><span class="k">this</span><span class="o">.</span><span class="na">view</span><span class="o">){</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//marriage</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">marriage</span><span class="o">(</span><span class="n">Human</span> <span class="n">girl</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="na">hasSpouse</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">girl</span><span class="o">.</span><span class="na">hasSpouse</span><span class="o">()){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">=</span><span class="n">girl</span><span class="o">;</span>
            <span class="n">girl</span><span class="o">.</span><span class="na">spouse</span><span class="o">=</span><span class="k">this</span><span class="o">;</span>
            <span class="n">girl</span><span class="o">.</span><span class="na">clanName</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">;</span>
            <span class="n">girl</span><span class="o">.</span><span class="na">position</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">;</span>
            <span class="n">girl</span><span class="o">.</span><span class="na">childFather</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">;</span>
            <span class="c1">//the baby number depends on the father</span>
            <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">&lt;</span><span class="mi">50</span><span class="o">){</span>
                <span class="n">Random</span> <span class="n">babyRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">babyIndice</span><span class="o">=</span><span class="n">babyRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
                <span class="k">switch</span><span class="o">(</span><span class="n">babyIndice</span><span class="o">){</span>
                    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                        <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">girl</span><span class="o">.</span><span class="na">babyNum</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">babyAbility</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
                        <span class="k">break</span><span class="o">;</span>
                    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                        <span class="n">girl</span><span class="o">.</span><span class="na">babyNum</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">babyAbility</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Warning! They have already spouse, they can not marry each other!"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//single MALE random move in the world (&gt;15 years old)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">move</span><span class="o">(</span><span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">sex</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">SEX</span><span class="o">.</span><span class="na">MALE</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">&gt;</span><span class="mi">15</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="o">.</span><span class="na">hasSpouse</span><span class="o">()){</span>
            <span class="n">Random</span> <span class="n">myRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">distance</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">range</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">direction</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>
            <span class="k">switch</span><span class="o">(</span><span class="n">direction</span><span class="o">){</span>
                <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]+=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]+=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]&gt;</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">()){</span>
                        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]%</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]&gt;</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()){</span>
                        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]%</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]+=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]-=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]&gt;</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">()){</span>
                        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]%</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]&lt;</span><span class="mi">0</span><span class="o">){</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]+</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]-=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]+=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]&lt;</span><span class="mi">0</span><span class="o">){</span>
                        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]&gt;</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()){</span>
                        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]%</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]-=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]-=</span><span class="n">distance</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]&lt;</span><span class="mi">0</span><span class="o">){</span>
                        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]&lt;</span><span class="mi">0</span><span class="o">){</span>
                        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]=</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">]+</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  money system
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">earnMoney</span><span class="o">(){</span>
        <span class="c1">//only audult MALE can earn money</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">sex</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">SEX</span><span class="o">.</span><span class="na">MALE</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">&gt;=</span><span class="mi">18</span><span class="o">){</span>
            <span class="n">Random</span> <span class="n">moneyRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">indice</span><span class="o">=</span><span class="n">moneyRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">bonus</span><span class="o">=</span><span class="n">moneyRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">moneyAbility</span><span class="o">*</span><span class="mi">3</span><span class="o">);</span>
            <span class="c1">//salary=moneyAbility+random bonus</span>
            <span class="k">switch</span><span class="o">(</span><span class="n">indice</span><span class="o">){</span>
                <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">+(</span><span class="k">this</span><span class="o">.</span><span class="na">moneyAbility</span><span class="o">/</span><span class="mi">4</span><span class="o">)+</span><span class="n">bonus</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">=</span><span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">+(</span><span class="k">this</span><span class="o">.</span><span class="na">moneyAbility</span><span class="o">/</span><span class="mi">4</span><span class="o">)-</span><span class="n">bonus</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>




    <span class="c1">//print</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(){</span>
        <span class="n">String</span> <span class="n">outPut</span><span class="o">=</span><span class="s">"["</span><span class="o">+</span><span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">+</span><span class="s">"]"</span><span class="o">+</span><span class="k">this</span><span class="o">.</span><span class="na">sex</span><span class="o">.</span><span class="na">name</span><span class="o">()+</span><span class="s">": "</span><span class="o">+</span><span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">alive</span><span class="o">==</span><span class="kc">false</span><span class="o">){</span>
            <span class="n">outPut</span><span class="o">=</span><span class="n">outPut</span><span class="o">+</span><span class="s">"("</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isBornAt</span><span class="o">())+</span><span class="s">"-"</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isDeadAt</span><span class="o">())+</span><span class="s">")"</span><span class="o">+</span><span class="s">", dead at "</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">outPut</span><span class="o">=</span><span class="n">outPut</span><span class="o">+</span><span class="s">"("</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isBornAt</span><span class="o">())+</span><span class="s">"-?)"</span><span class="o">+</span><span class="s">", is now "</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">outPut</span><span class="o">=</span><span class="n">outPut</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">)+</span><span class="s">" years old."</span><span class="o">+</span><span class="s">" [Beauty: "</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">)+</span><span class="s">"]"</span><span class="o">+</span><span class="s">" [Position: "</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">0</span><span class="o">])+</span><span class="s">":"</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">[</span><span class="mi">1</span><span class="o">])+</span><span class="s">"]"</span><span class="o">+</span><span class="s">" [Money: "</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">)+</span><span class="s">"]"</span><span class="o">+</span><span class="s">" [Loyalty: "</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">loyalty</span><span class="o">)+</span><span class="s">"]"</span><span class="o">+</span><span class="s">" [Flirt: "</span><span class="o">+</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">flirt</span><span class="o">)+</span><span class="s">"]"</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">hasSpouse</span><span class="o">()){</span>
            <span class="n">outPut</span><span class="o">=</span><span class="n">outPut</span><span class="o">+</span><span class="s">" (Spouse: "</span><span class="o">+</span><span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">.</span><span class="na">getName</span><span class="o">()+</span><span class="s">" "</span><span class="o">+</span><span class="k">this</span><span class="o">.</span><span class="na">spouse</span><span class="o">.</span><span class="na">clanName</span><span class="o">+</span><span class="s">")"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">outPut</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  simplest private constructor
     *  the other users can not use it.
     */</span>

    <span class="kd">private</span> <span class="nf">Human</span><span class="o">(</span><span class="n">String</span> <span class="n">inputName</span><span class="o">,</span> <span class="n">String</span> <span class="n">inputClanName</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputAge</span><span class="o">,</span> <span class="n">SEX</span> <span class="n">inputSex</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">inputPosition</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBeauty</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputMoney</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">inputAlive</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputAvgLife</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBorn</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputDeath</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputRange</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputView</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputAbility</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBabyNum</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputBabyAbility</span><span class="o">,</span> <span class="n">String</span> <span class="n">inputChildFather</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputLoyalty</span><span class="o">,</span> <span class="kt">int</span> <span class="n">inputFlirt</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">=</span><span class="n">inputName</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">=</span><span class="n">inputClanName</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">=</span><span class="n">inputAge</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">sex</span><span class="o">=</span><span class="n">inputSex</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">position</span><span class="o">=</span><span class="n">inputPosition</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beauty</span><span class="o">=</span><span class="n">inputBeauty</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">=</span><span class="n">inputMoney</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">alive</span><span class="o">=</span><span class="n">inputAlive</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">avgLife</span><span class="o">=</span><span class="n">inputAvgLife</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">bornAt</span><span class="o">=</span><span class="n">inputBorn</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">deadAt</span><span class="o">=</span><span class="n">inputDeath</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">range</span><span class="o">=</span><span class="n">inputRange</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">view</span><span class="o">=</span><span class="n">inputView</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">moneyAbility</span><span class="o">=</span><span class="n">inputAbility</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">babyNum</span><span class="o">=</span><span class="n">inputBabyNum</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">babyAbility</span><span class="o">=</span><span class="n">inputBabyAbility</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">childFather</span><span class="o">=</span><span class="n">inputChildFather</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">loyalty</span><span class="o">=</span><span class="n">inputLoyalty</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">flirt</span><span class="o">=</span><span class="n">inputFlirt</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nf">Human</span><span class="o">(){}</span>


    <span class="cm">/**
     *  private fields
     */</span>

    <span class="c1">//person arguments</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SEX</span> <span class="n">sex</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Human</span> <span class="n">spouse</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">position</span><span class="o">={</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">};</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">beauty</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">alive</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">bornAt</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">deadAt</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">babyNum</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">childFather</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
    <span class="c1">//clan arguments</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">clanName</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">range</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">view</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="c1">//</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">avgLife</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">money</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">moneyAbility</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">babyAbility</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">loyalty</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">flirt</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>


    <span class="cm">/**
     *  MAIN
     *  to test the method
     *  @param args void
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>

    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
</div>

<h4 id="氏族clanjava-1">氏族（Clan.java）</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 *  Clan.java is a abstract factory of human.
 *  Asign to human some basic capabilities.
 *  7 clans are pre-built
 *      -&gt;1.Rose:       high beauty
 *      -&gt;2.Banker:     rich
 *      -&gt;3.Ranger:     love travel
 *      -&gt;4.Skaven:     higher birth rate
 *      -&gt;5.Playboy:    flirt married women
 *      -&gt;6.Barbarian:  don't care ugly women
 *      -&gt;7.Nobody:     no extra skill
 *  @author wei.shen@iro.umontreal.ca
 *  @version 1.0
 */</span>


<span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">clanWar</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="cm">/**
 *  -&gt;All the methods are realized
 *  -&gt;All the clans will inherit the same method to  genetate their members
 *  -&gt;Also package access
 */</span>
<span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Clan</span> <span class="o">{</span>

    <span class="cm">/**
     *  STATIC FIELDS
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">CLAN_NAMES</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>

    <span class="cm">/**
     *  CONSTRUCTOR: static initialisation block
     */</span>
    <span class="kd">static</span> <span class="o">{</span>
        <span class="n">CLAN_NAMES</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Rose"</span><span class="o">);</span>
        <span class="n">CLAN_NAMES</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Banker"</span><span class="o">);</span>
        <span class="n">CLAN_NAMES</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Ranger"</span><span class="o">);</span>
        <span class="n">CLAN_NAMES</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Skaven"</span><span class="o">);</span>
        <span class="n">CLAN_NAMES</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Playboy"</span><span class="o">);</span>
        <span class="n">CLAN_NAMES</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Barbarian"</span><span class="o">);</span>
        <span class="n">CLAN_NAMES</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Nobody"</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  STATIC PROXY OF CONSTRUCTOR
     *  the only public factory method to create clan by their name
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Clan</span> <span class="nf">createTheClan</span><span class="o">(</span><span class="n">String</span> <span class="n">clanName</span><span class="o">){</span>
        <span class="n">Clan</span> <span class="n">theClan</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">clanName</span><span class="o">){</span>
            <span class="k">case</span> <span class="s">"Rose"</span><span class="o">:</span>
                <span class="n">theClan</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClanRose</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">"Banker"</span><span class="o">:</span>
                <span class="n">theClan</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClanBanker</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">"Ranger"</span><span class="o">:</span>
                <span class="n">theClan</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClanRanger</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">"Skaven"</span><span class="o">:</span>
                <span class="n">theClan</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClanSkaven</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">"Playboy"</span><span class="o">:</span>
                <span class="n">theClan</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClanPlayboy</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">"Barbarian"</span><span class="o">:</span>
                <span class="n">theClan</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClanBarbarian</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">"Nobody"</span><span class="o">:</span>
                <span class="n">theClan</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClanNobody</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">theClan</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  The only public access to Human Facorty to creat humans (different clan members)
     *  World charge clans, and clan create humans
     */</span>

    <span class="c1">//use the factory method clanMemberFactory() to decorate humans and insert them to this world</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">chargeClan</span><span class="o">(</span><span class="kt">int</span> <span class="n">number</span><span class="o">,</span> <span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">number</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
            <span class="n">Human</span> <span class="n">XMan</span><span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="na">clanMemberFactory</span><span class="o">(</span><span class="n">world</span><span class="o">);</span>
            <span class="n">XMan</span><span class="o">.</span><span class="na">bornAt</span><span class="o">(</span><span class="n">world</span><span class="o">.</span><span class="na">getYear</span><span class="o">());</span>
            <span class="n">world</span><span class="o">.</span><span class="na">getHumanList</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">XMan</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Clan "</span><span class="o">+</span><span class="n">clanName</span><span class="o">+</span><span class="s">" are charged!"</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  package access tool methods
     */</span>

    <span class="c1">//builder method to adjust clan's default parameters before calling human factory method to creat humans</span>
    <span class="n">Clan</span> <span class="nf">setAverageBeauty</span><span class="o">(</span><span class="kt">int</span> <span class="n">averageBeauty</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">averageBeauty</span><span class="o">=</span><span class="n">averageBeauty</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">Clan</span> <span class="nf">setBeautyFloat</span><span class="o">(</span><span class="kt">int</span> <span class="n">beautyFloat</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beautyFloat</span><span class="o">=</span><span class="n">beautyFloat</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">Clan</span> <span class="nf">setMoney</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">=</span><span class="n">money</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">Clan</span> <span class="nf">setMoneyAbility</span><span class="o">(</span><span class="kt">int</span> <span class="n">moneyAbility</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">moneyAbility</span><span class="o">=</span><span class="n">moneyAbility</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setClanAvgLife</span><span class="o">(</span><span class="kt">int</span> <span class="n">clanAvgLife</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">clanAvgLife</span><span class="o">=</span><span class="n">clanAvgLife</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setInitialRange</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialRange</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">initialRange</span><span class="o">=</span><span class="n">initialRange</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setInitialView</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialView</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">initialView</span><span class="o">=</span><span class="n">initialView</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setBabyAbility</span><span class="o">(</span><span class="kt">int</span> <span class="n">babyAbility</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">babyAbility</span><span class="o">=</span><span class="n">babyAbility</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setInitialLoyalty</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialLoyalty</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">initialLoyalty</span><span class="o">=</span><span class="n">initialLoyalty</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setLoyaltyFloat</span><span class="o">(</span><span class="kt">int</span> <span class="n">loyaltyFloat</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">loyaltyFloat</span><span class="o">=</span><span class="n">loyaltyFloat</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setInitialFlirt</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialFlirt</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">initialFlirt</span><span class="o">=</span><span class="n">initialFlirt</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setFlirtFloat</span><span class="o">(</span><span class="kt">int</span> <span class="n">flirtFloat</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">flirtFloat</span><span class="o">=</span><span class="n">flirtFloat</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">Clan</span> <span class="nf">setClanName</span><span class="o">(</span><span class="n">String</span> <span class="n">clanName</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">=</span><span class="n">clanName</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//The factory method of human with different characteristics</span>
    <span class="n">Human</span> <span class="nf">clanMemberFactory</span><span class="o">(</span><span class="n">TheWorld</span> <span class="n">world</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">Human</span><span class="o">.</span><span class="na">createNewMan</span><span class="o">(</span><span class="n">Name</span><span class="o">.</span><span class="na">randomName</span><span class="o">(),</span> <span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">SEX</span><span class="o">.</span><span class="na">randomSex</span><span class="o">(),</span> <span class="n">randomPosition</span><span class="o">(</span><span class="n">world</span><span class="o">.</span><span class="na">getWidth</span><span class="o">(),</span><span class="n">world</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()),</span> <span class="n">randomBeauty</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">beautyFloat</span><span class="o">),</span> <span class="k">this</span><span class="o">.</span><span class="na">money</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">clanAvgLife</span><span class="o">,</span> <span class="n">world</span><span class="o">.</span><span class="na">getYear</span><span class="o">(),</span> <span class="mi">0</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">initialRange</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">initialView</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">moneyAbility</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">babyAbility</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">randomLoyalty</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">loyaltyFloat</span><span class="o">),</span> <span class="k">this</span><span class="o">.</span><span class="na">randomFlirt</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">flirtFloat</span><span class="o">));</span>
    <span class="o">}</span>


    <span class="c1">//get a random beauty acording to the average beauty</span>
    <span class="c1">//we can set the floating range</span>
    <span class="kt">int</span> <span class="nf">randomBeauty</span><span class="o">(</span><span class="kt">int</span> <span class="n">floatingBeauty</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">beauty</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="c1">//more or less beauty?</span>
        <span class="n">Random</span> <span class="n">myRander</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">luck</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">offset</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">floatingBeauty</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">luck</span><span class="o">){</span>
            <span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="n">beauty</span><span class="o">=</span><span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="k">this</span><span class="o">.</span><span class="na">averageBeauty</span><span class="o">-</span><span class="n">offset</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>  <span class="c1">//ugly</span>
            <span class="k">case</span> <span class="mi">1</span><span class="o">:</span> <span class="n">beauty</span><span class="o">=</span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span><span class="k">this</span><span class="o">.</span><span class="na">averageBeauty</span><span class="o">+</span><span class="n">offset</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>  <span class="c1">//beautiful</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">beauty</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//give each person a random position</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="nf">randomPosition</span><span class="o">(</span><span class="kt">int</span> <span class="n">height</span><span class="o">,</span> <span class="kt">int</span> <span class="n">width</span><span class="o">){</span>
        <span class="n">Random</span> <span class="n">myRander</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">x</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">width</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">y</span><span class="o">=</span><span class="n">myRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">height</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">position</span> <span class="o">=</span> <span class="o">{</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">};</span>
        <span class="k">return</span> <span class="n">position</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//give each person a random flirt value</span>
    <span class="kt">int</span> <span class="nf">randomFlirt</span><span class="o">(</span><span class="kt">int</span> <span class="n">flirtFloat</span><span class="o">){</span>
        <span class="n">Random</span> <span class="n">flirtRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">floatFlirt</span><span class="o">=</span><span class="n">flirtRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">flirtFloat</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span><span class="k">this</span><span class="o">.</span><span class="na">initialFlirt</span><span class="o">+</span><span class="n">floatFlirt</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">//give each person a random flirt value</span>
    <span class="kt">int</span> <span class="nf">randomLoyalty</span><span class="o">(</span><span class="kt">int</span> <span class="n">loyaltyFloat</span><span class="o">){</span>
        <span class="n">Random</span> <span class="n">loyaltyRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">floatLoyalty</span><span class="o">=</span><span class="n">loyaltyRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">loyaltyFloat</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span><span class="k">this</span><span class="o">.</span><span class="na">initialLoyalty</span><span class="o">+</span><span class="n">floatLoyalty</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     *  Package access constructor
     *  Need to be inherited in the package
     */</span>
    <span class="n">Clan</span><span class="o">(){}</span>
    <span class="cm">/**
     *  Package access fields
     *  Need to be inherited in the package
     */</span>
    <span class="kt">int</span> <span class="n">averageBeauty</span><span class="o">=</span><span class="mi">50</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">beautyFloat</span><span class="o">=</span><span class="mi">50</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">money</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">moneyAbility</span><span class="o">=</span><span class="mi">50</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">clanAvgLife</span><span class="o">=</span><span class="mi">60</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">initialRange</span><span class="o">=</span><span class="mi">20</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">initialView</span><span class="o">=</span><span class="mi">50</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">babyAbility</span><span class="o">=</span><span class="mi">2</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">initialLoyalty</span><span class="o">=</span><span class="mi">40</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">loyaltyFloat</span><span class="o">=</span><span class="mi">20</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">initialFlirt</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">flirtFloat</span><span class="o">=</span><span class="mi">40</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">clanName</span><span class="o">=</span><span class="s">"Nobody"</span><span class="o">;</span>
<span class="o">}</span>

</code></pre>
</div>

<h4 id="七大种族-1">七大种族</h4>
<p>ClanRose.java, ClanBanker.java, ClanRanger.java, ClanSkaven.java, ClanPlayboy.java, ClanBarbarian.java, ClanNobody.java</p>

<p>这里只以Rose族为例：</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 *  Clan Beautiful is the most beautiful clan in the world.
 *  Each member has 20 beauty points as bonus: Average beauty = 70
 *  @author wei.shen@iro.umontreal.ca
 *  @version 1.0
 */</span>

<span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">clanWar</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>


<span class="cm">/**
 *  Only package access
 */</span>
<span class="kd">class</span> <span class="nc">ClanRose</span> <span class="kd">extends</span> <span class="n">Clan</span><span class="o">{</span>

    <span class="cm">/**
     *  public constructor
     */</span>
    <span class="c1">//default sets</span>
    <span class="kd">public</span> <span class="nf">ClanRose</span><span class="o">(){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">=</span><span class="s">"Rose"</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">averageBeauty</span><span class="o">=</span><span class="mi">80</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//special sets</span>
    <span class="kd">public</span> <span class="nf">ClanRose</span><span class="o">(</span><span class="kt">int</span> <span class="n">beauty</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">clanName</span><span class="o">=</span><span class="s">"Rose"</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">averageBeauty</span><span class="o">=</span><span class="n">beauty</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     *  MAIN
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
</div>

<h4 id="大陆theworldjava-1">大陆（TheWorld.java）</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 *  The clan war take place in this world.
 *  @author wei.shen@iro.umontreal.ca
 *  @version 1.0
 */</span>

<span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">clanWar</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="c1">//used to control the time pass</span>
<span class="kd">class</span> <span class="nc">TheWorld</span> <span class="o">{</span>
    <span class="cm">/**
     *  public interface of constructor
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">TheWorld</span> <span class="nf">createNewWorld</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">TheWorld</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">TheWorld</span> <span class="nf">createNewWorld</span><span class="o">(</span><span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="kt">int</span> <span class="n">height</span><span class="o">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">TheWorld</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  Calendar system
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">passOneYear</span><span class="o">(){</span>
        <span class="c1">//begin to flirt</span>
        <span class="k">this</span><span class="o">.</span><span class="na">spring</span><span class="o">();</span>
        <span class="c1">//then pass the rest of the year</span>
        <span class="k">this</span><span class="o">.</span><span class="na">year</span><span class="o">+=</span><span class="mi">1</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">year</span><span class="o">+</span><span class="s">"    "</span><span class="o">);</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="n">newBorn</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;();</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">humanList</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();){</span>
            <span class="n">Human</span> <span class="n">h</span><span class="o">=</span><span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="c1">//beauty system</span>
            <span class="k">if</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">getAge</span><span class="o">()&gt;</span><span class="mi">15</span> <span class="o">&amp;&amp;</span> <span class="n">h</span><span class="o">.</span><span class="na">getAge</span><span class="o">()&lt;</span><span class="mi">40</span><span class="o">){</span>
                <span class="n">h</span><span class="o">.</span><span class="na">growth</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">if</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">getAge</span><span class="o">()&gt;=</span><span class="mi">40</span><span class="o">){</span>
                <span class="n">h</span><span class="o">.</span><span class="na">fading</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="c1">//money system</span>
            <span class="n">h</span><span class="o">.</span><span class="na">earnMoney</span><span class="o">();</span>
            <span class="c1">//mother give birth</span>
            <span class="k">if</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">getSex</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">SEX</span><span class="o">.</span><span class="na">FEMALE</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">h</span><span class="o">.</span><span class="na">getBabyNum</span><span class="o">()&gt;</span><span class="mi">0</span><span class="o">){</span>
                <span class="n">Human</span> <span class="n">newBaby</span><span class="o">=</span><span class="n">h</span><span class="o">.</span><span class="na">babyBirth</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
                <span class="n">newBorn</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">newBaby</span><span class="o">);</span> <span class="c1">//world is blocked during the iteration</span>
            <span class="o">}</span>
            <span class="c1">//age and death system</span>
            <span class="n">h</span><span class="o">.</span><span class="na">addAge</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">randomDeath</span><span class="o">()){</span>
                <span class="n">h</span><span class="o">.</span><span class="na">toDeath</span><span class="o">();</span>
                <span class="n">h</span><span class="o">.</span><span class="na">deadAt</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">year</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">heaven</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">h</span><span class="o">);</span>
                <span class="n">it</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Human</span> <span class="n">nh</span> <span class="o">:</span> <span class="n">newBorn</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">humanList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nh</span><span class="o">);</span>
            <span class="c1">//System.out.println(h.toString());</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  flirt system
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">spring</span><span class="o">(){</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Human</span> <span class="n">h</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">humanList</span><span class="o">){</span>
            <span class="c1">//male move</span>
            <span class="n">h</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="c1">//female flirt</span>
            <span class="k">if</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">getSex</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">SEX</span><span class="o">.</span><span class="na">FEMALE</span><span class="o">)){</span>
                <span class="k">if</span><span class="o">(!</span><span class="n">h</span><span class="o">.</span><span class="na">hasSpouse</span><span class="o">()){</span>
                    <span class="n">h</span><span class="o">.</span><span class="na">girlFlirt</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
                <span class="o">}</span><span class="k">else</span><span class="o">{</span>
                    <span class="n">h</span><span class="o">.</span><span class="na">havingAffair</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//allow us to add human to the world</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addBaby</span><span class="o">(</span><span class="n">Human</span> <span class="n">baby</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">humanList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">baby</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  Print the world
     */</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printSurvivors</span><span class="o">(){</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Human</span> <span class="n">h</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">humanList</span><span class="o">){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printGhosts</span><span class="o">(){</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Human</span> <span class="n">h</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">heaven</span><span class="o">){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printWorld</span><span class="o">(){</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Human</span> <span class="n">h</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">humanList</span><span class="o">){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Human</span> <span class="n">h</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">heaven</span><span class="o">){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  show arguments
     */</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getYear</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">year</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getWidth</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">width</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getHeight</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">height</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="nf">getHumanList</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">humanList</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="nf">getHeaven</span><span class="o">(){</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">heaven</span><span class="o">;}</span>


    <span class="cm">/**
     *  private constructor
     */</span>
    <span class="kd">private</span> <span class="nf">TheWorld</span><span class="o">(){}</span>
    <span class="kd">private</span> <span class="nf">TheWorld</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">,</span> <span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="kt">int</span> <span class="n">height</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">year</span><span class="o">=</span><span class="n">year</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">width</span><span class="o">=</span><span class="n">width</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">height</span><span class="o">=</span><span class="n">height</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     *  private fields
     */</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">year</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">height</span><span class="o">=</span><span class="mi">1000</span><span class="o">;</span>
    <span class="c1">//the world is a container of human</span>
    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="n">humanList</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;();</span>
    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;</span> <span class="n">heaven</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Human</span><span class="o">&gt;();</span>


    <span class="cm">/**
     *  MAIN
     *  @param args void
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>

    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
</div>

<h4 id="氏族战争warofclanjava-1">氏族战争（WarOfClan.java）</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 *  A cruel natural selection game
 *  7 clans are pre-built
 *      -&gt;1.Rose:       high beauty
 *      -&gt;2.Banker:     rich
 *      -&gt;3.Ranger:     love travel
 *      -&gt;4.Skaven:     higher birth rate
 *      -&gt;5.Playboy:    flirt married women
 *      -&gt;6.Barbarian:  don't care ugly women
 *      -&gt;7.Nobody:     no extra skill
 *  @author wei.shen@iro.umontreal.ca
 *  @version 1.0
 */</span>

<span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">clanWar</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="cm">/**
 *  This is a factory class to create the hole world and human, and then pass several years.
 *  It use the factory class "Clan" to generate humans.
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WarOfClan</span> <span class="o">{</span>
    <span class="cm">/**
     *  Main fonction
     */</span>
    <span class="c1">//automaticly run the game and return the statistic result</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="nf">runTheGame</span><span class="o">(</span><span class="kt">int</span> <span class="n">years</span><span class="o">,</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">iniPopulations</span><span class="o">){</span>
        <span class="c1">//initialize the container of the result</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;();</span>
        <span class="c1">//create world</span>
        <span class="n">TheWorld</span> <span class="n">newWorld</span> <span class="o">=</span> <span class="n">TheWorld</span><span class="o">.</span><span class="na">createNewWorld</span><span class="o">();</span>

        <span class="c1">//create the factories of humans: Clans</span>
        <span class="kt">int</span> <span class="n">clanNumber</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>   <span class="c1">//total number of clans</span>
        <span class="k">for</span><span class="o">(</span><span class="n">String</span> <span class="n">clanName</span> <span class="o">:</span> <span class="n">Clan</span><span class="o">.</span><span class="na">CLAN_NAMES</span><span class="o">){</span>
            <span class="n">Clan</span> <span class="n">theClan</span><span class="o">=</span><span class="n">Clan</span><span class="o">.</span><span class="na">createTheClan</span><span class="o">(</span><span class="n">clanName</span><span class="o">);</span>
            <span class="c1">//each clan create their members(human)</span>
            <span class="k">if</span><span class="o">(</span><span class="n">iniPopulations</span><span class="o">.</span><span class="na">size</span><span class="o">()&gt;</span><span class="n">clanNumber</span><span class="o">){</span>
                <span class="n">theClan</span><span class="o">.</span><span class="na">chargeClan</span><span class="o">(</span><span class="n">iniPopulations</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">clanNumber</span><span class="o">),</span><span class="n">newWorld</span><span class="o">);</span>
                <span class="c1">//create the result container</span>
                <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;());</span>
                <span class="n">clanNumber</span><span class="o">++;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">//XXX years later</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">years</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">newWorld</span><span class="o">.</span><span class="na">passOneYear</span><span class="o">();</span>
            <span class="c1">//statistic results: population of each clan at the end of each year</span>
            <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">oneYearResult</span><span class="o">=</span><span class="n">collectResult</span><span class="o">(</span><span class="n">newWorld</span><span class="o">,</span><span class="n">clanNumber</span><span class="o">);</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">clanNumber</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">).</span><span class="na">add</span><span class="o">(</span><span class="n">oneYearResult</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     *  Statistic
     */</span>
    <span class="c1">//return the statistic results: population of each clan at the end of each year</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="nf">collectResult</span><span class="o">(</span><span class="n">TheWorld</span> <span class="n">world</span><span class="o">,</span> <span class="kt">int</span> <span class="n">clanNumber</span><span class="o">){</span>
        <span class="c1">//collect the result</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">clanNumber</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mf">0.0</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="c1">//statistic</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Human</span> <span class="n">h</span> <span class="o">:</span> <span class="n">world</span><span class="o">.</span><span class="na">getHumanList</span><span class="o">()){</span>
            <span class="c1">//clan population plus 1</span>
            <span class="k">if</span><span class="o">(</span><span class="n">Clan</span><span class="o">.</span><span class="na">CLAN_NAMES</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">getClanName</span><span class="o">())!=-</span><span class="mi">1</span><span class="o">){</span>
                <span class="n">result</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Clan</span><span class="o">.</span><span class="na">CLAN_NAMES</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">getClanName</span><span class="o">()),</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Clan</span><span class="o">.</span><span class="na">CLAN_NAMES</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">h</span><span class="o">.</span><span class="na">getClanName</span><span class="o">()))+</span><span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="cm">/**
     *  MAIN
     *  to test the method
     *  @param args void
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="图形板graphpaneljava-1">图形板（GraphPanel.java）</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 *  Help me to draw a graph to show the statistic result
 *  GraphPanel is a data package
 *  paintComponent() methods records all the rules to draw the graph
 *  createAndShowGui() use JFrame to call paintComponent() to draw the graph
 *  @author Rodrigo Castro
 *  @version 1.0
 */</span>

<span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">clanWar</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.Math</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.BasicStroke</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Dimension</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.FontMetrics</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Point</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.RenderingHints</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Stroke</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.SwingUtilities</span><span class="o">;</span>



<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GraphPanel</span> <span class="kd">extends</span> <span class="n">JPanel</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">800</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">heigth</span> <span class="o">=</span> <span class="mi">400</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">padding</span> <span class="o">=</span> <span class="mi">35</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">labelPadding</span> <span class="o">=</span> <span class="mi">25</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">referenceZone</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>    <span class="c1">//show the title of each line</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">referencePadding</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>
    <span class="cm">/*we random the line and point color for each line*/</span>
    <span class="c1">//private Color lineColor = new Color(44, 102, 230, 180);</span>
    <span class="c1">//private Color pointColor = new Color(100, 100, 100, 180);</span>
    <span class="kd">private</span> <span class="n">Color</span> <span class="n">gridColor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Stroke</span> <span class="n">GRAPH_STROKE</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BasicStroke</span><span class="o">(</span><span class="mi">2</span><span class="n">f</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">pointWidth</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">numberYDivisions</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ticket</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">0L</span><span class="o">;</span> <span class="c1">//useless, just because JPanel implements the serializable interface</span>

    <span class="kd">public</span> <span class="nf">GraphPanel</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="o">,</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ticket</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ticket</span> <span class="o">=</span> <span class="n">ticket</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="o">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">paintComponent</span><span class="o">(</span><span class="n">g</span><span class="o">);</span>
        <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="o">(</span><span class="n">Graphics2D</span><span class="o">)</span> <span class="n">g</span><span class="o">;</span>
        <span class="n">g2</span><span class="o">.</span><span class="na">setRenderingHint</span><span class="o">(</span><span class="n">RenderingHints</span><span class="o">.</span><span class="na">KEY_ANTIALIASING</span><span class="o">,</span> <span class="n">RenderingHints</span><span class="o">.</span><span class="na">VALUE_ANTIALIAS_ON</span><span class="o">);</span>


        <span class="c1">//get the length of the tickets</span>
        <span class="kt">int</span> <span class="n">colonWidth</span> <span class="o">=</span> <span class="n">getMaxTicket</span><span class="o">(</span><span class="n">g2</span><span class="o">,</span> <span class="n">ticket</span><span class="o">);</span>
        <span class="c1">//calculate the number of colone needed</span>
        <span class="kt">int</span> <span class="n">colonNum</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="c1">//more than one colon with too much lines references</span>
        <span class="kt">int</span> <span class="n">maxRefEachColon</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">((</span><span class="kt">double</span><span class="o">)(</span><span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">)</span> <span class="o">/</span> <span class="n">referencePadding</span><span class="o">);</span>
        <span class="n">colonNum</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">Math</span><span class="o">.</span><span class="na">ceil</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">size</span><span class="o">()/(</span><span class="kt">double</span><span class="o">)</span><span class="n">maxRefEachColon</span><span class="o">);</span>
        <span class="c1">//get the height of the reference zone</span>
        <span class="kt">int</span> <span class="n">colonHeight</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">colonNum</span><span class="o">==</span><span class="mi">1</span><span class="o">){</span>
            <span class="n">colonHeight</span><span class="o">=</span><span class="n">padding</span> <span class="o">+</span> <span class="n">referencePadding</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">*</span> <span class="n">referencePadding</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">colonNum</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">){</span>
            <span class="n">colonHeight</span><span class="o">=</span><span class="n">getHeight</span><span class="o">()-</span><span class="n">padding</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="n">labelPadding</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">//calculate the width of reference zone</span>
        <span class="k">this</span><span class="o">.</span><span class="na">referenceZone</span><span class="o">=(</span><span class="n">colonNum</span><span class="o">*</span><span class="n">colonWidth</span><span class="o">+(</span><span class="n">colonNum</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">padding</span><span class="o">/</span><span class="mi">2</span><span class="o">);</span>

        <span class="c1">//calculate the size of each small cell</span>
        <span class="kt">double</span> <span class="n">xScale</span> <span class="o">=</span> <span class="o">((</span><span class="kt">double</span><span class="o">)</span> <span class="n">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">referenceZone</span> <span class="o">-</span> <span class="n">padding</span><span class="o">)</span> <span class="o">/</span> <span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">yScale</span> <span class="o">=</span> <span class="o">((</span><span class="kt">double</span><span class="o">)</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">)</span> <span class="o">/</span> <span class="o">(</span><span class="n">getMaxScore</span><span class="o">()</span> <span class="o">-</span> <span class="n">getMinScore</span><span class="o">());</span>


        <span class="c1">// draw the main white background</span>
        <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">WHITE</span><span class="o">);</span>
        <span class="n">g2</span><span class="o">.</span><span class="na">fillRect</span><span class="o">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">,</span> <span class="n">padding</span><span class="o">,</span> <span class="n">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">padding</span><span class="o">)</span> <span class="o">-</span> <span class="n">labelPadding</span> <span class="o">-</span> <span class="n">referenceZone</span> <span class="o">-</span> <span class="n">padding</span><span class="o">,</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">);</span>
        <span class="c1">// draw the small white background for the reference zone</span>
        <span class="n">g2</span><span class="o">.</span><span class="na">fillRect</span><span class="o">(</span><span class="n">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">referenceZone</span> <span class="o">-</span> <span class="n">padding</span><span class="o">/</span><span class="mi">2</span><span class="o">,</span> <span class="n">padding</span><span class="o">,</span> <span class="n">referenceZone</span> <span class="o">+</span> <span class="n">padding</span><span class="o">,</span> <span class="n">colonHeight</span><span class="o">);</span>
        <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">);</span>


        <span class="c1">// create hatch marks and grid lines for y axis.</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numberYDivisions</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">x0</span> <span class="o">=</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">pointWidth</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="o">((</span><span class="n">i</span> <span class="o">*</span> <span class="o">(</span><span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">))</span> <span class="o">/</span> <span class="n">numberYDivisions</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">y0</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">gridColor</span><span class="o">);</span>
                <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">pointWidth</span><span class="o">,</span> <span class="n">y0</span><span class="o">,</span> <span class="n">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span><span class="n">referenceZone</span> <span class="o">-</span> <span class="n">padding</span><span class="o">,</span> <span class="n">y1</span><span class="o">);</span>
                <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">);</span>
                <span class="n">String</span> <span class="n">yLabel</span> <span class="o">=</span> <span class="o">((</span><span class="kt">int</span><span class="o">)</span> <span class="o">((</span><span class="n">getMinScore</span><span class="o">()</span> <span class="o">+</span> <span class="o">(</span><span class="n">getMaxScore</span><span class="o">()</span> <span class="o">-</span> <span class="n">getMinScore</span><span class="o">())</span> <span class="o">*</span> <span class="o">((</span><span class="n">i</span> <span class="o">*</span> <span class="mf">1.0</span><span class="o">)</span> <span class="o">/</span> <span class="n">numberYDivisions</span><span class="o">))</span> <span class="o">*</span> <span class="mi">100</span><span class="o">))</span> <span class="o">/</span> <span class="mf">100.0</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
                <span class="n">FontMetrics</span> <span class="n">metrics</span> <span class="o">=</span> <span class="n">g2</span><span class="o">.</span><span class="na">getFontMetrics</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">labelWidth</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="na">stringWidth</span><span class="o">(</span><span class="n">yLabel</span><span class="o">);</span>
                <span class="n">g2</span><span class="o">.</span><span class="na">drawString</span><span class="o">(</span><span class="n">yLabel</span><span class="o">,</span> <span class="n">x0</span> <span class="o">-</span> <span class="n">labelWidth</span> <span class="o">-</span> <span class="mi">5</span><span class="o">,</span> <span class="n">y0</span> <span class="o">+</span> <span class="o">(</span><span class="n">metrics</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">-</span> <span class="mi">3</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x0</span><span class="o">,</span> <span class="n">y0</span><span class="o">,</span> <span class="n">x1</span><span class="o">,</span> <span class="n">y1</span><span class="o">);</span>
        <span class="o">}</span>


        <span class="c1">// and for x axis</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">x0</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="o">(</span><span class="n">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">labelPadding</span> <span class="o">-</span> <span class="n">referenceZone</span> <span class="o">-</span><span class="n">padding</span><span class="o">)</span> <span class="o">/</span> <span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">x0</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">y0</span> <span class="o">-</span> <span class="n">pointWidth</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">((</span><span class="n">i</span> <span class="o">%</span> <span class="o">((</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">size</span><span class="o">()</span> <span class="o">/</span> <span class="mf">20.0</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">gridColor</span><span class="o">);</span>
                    <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x0</span><span class="o">,</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">pointWidth</span><span class="o">,</span> <span class="n">x1</span><span class="o">,</span> <span class="n">padding</span><span class="o">);</span>
                    <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">);</span>
                    <span class="n">String</span> <span class="n">xLabel</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
                    <span class="n">FontMetrics</span> <span class="n">metrics</span> <span class="o">=</span> <span class="n">g2</span><span class="o">.</span><span class="na">getFontMetrics</span><span class="o">();</span>
                    <span class="kt">int</span> <span class="n">labelWidth</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="na">stringWidth</span><span class="o">(</span><span class="n">xLabel</span><span class="o">);</span>
                    <span class="n">g2</span><span class="o">.</span><span class="na">drawString</span><span class="o">(</span><span class="n">xLabel</span><span class="o">,</span> <span class="n">x0</span> <span class="o">-</span> <span class="n">labelWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="o">,</span> <span class="n">y0</span> <span class="o">+</span> <span class="n">metrics</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()</span> <span class="o">+</span> <span class="mi">3</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x0</span><span class="o">,</span> <span class="n">y0</span><span class="o">,</span> <span class="n">x1</span><span class="o">,</span> <span class="n">y1</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// create x and y axes</span>
        <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">,</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">,</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">,</span> <span class="n">padding</span><span class="o">);</span>
        <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">,</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">,</span> <span class="n">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span><span class="n">referenceZone</span> <span class="o">-</span> <span class="n">padding</span><span class="o">,</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span> <span class="o">-</span> <span class="n">labelPadding</span><span class="o">);</span>


        <span class="kt">int</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="c1">//my own List index</span>
        <span class="k">for</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">scores</span> <span class="o">:</span> <span class="n">result</span><span class="o">){</span>
            <span class="c1">//collect the points of one line</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">graphPoints</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">scores</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">xScale</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">labelPadding</span><span class="o">);</span>
                <span class="kt">int</span> <span class="n">y1</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">((</span><span class="n">getMaxScore</span><span class="o">()</span> <span class="o">-</span> <span class="n">scores</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">))</span> <span class="o">*</span> <span class="n">yScale</span> <span class="o">+</span> <span class="n">padding</span><span class="o">);</span>
                <span class="n">graphPoints</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">x1</span><span class="o">,</span> <span class="n">y1</span><span class="o">));</span>
            <span class="o">}</span>

            <span class="c1">//draw each line</span>
            <span class="n">Stroke</span> <span class="n">oldStroke</span> <span class="o">=</span> <span class="n">g2</span><span class="o">.</span><span class="na">getStroke</span><span class="o">();</span>
            <span class="n">Random</span> <span class="n">colorRander</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">color1</span><span class="o">=</span><span class="n">colorRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">256</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">color2</span><span class="o">=</span><span class="n">colorRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">256</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">color3</span><span class="o">=</span><span class="n">colorRander</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">256</span><span class="o">);</span>
            <span class="c1">//alpha value = 255 (no transparent)</span>
            <span class="n">Color</span> <span class="n">lineColor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="o">(</span><span class="n">color1</span><span class="o">,</span><span class="n">color2</span><span class="o">,</span><span class="n">color3</span><span class="o">,</span><span class="mi">255</span><span class="o">);</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">lineColor</span><span class="o">);</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">setStroke</span><span class="o">(</span><span class="n">GRAPH_STROKE</span><span class="o">);</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">x</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">y</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">x2</span> <span class="o">=</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">).</span><span class="na">x</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">).</span><span class="na">y</span><span class="o">;</span>
                <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x1</span><span class="o">,</span> <span class="n">y1</span><span class="o">,</span> <span class="n">x2</span><span class="o">,</span> <span class="n">y2</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="c1">//draw the reference of the line to the panel</span>
            <span class="kt">int</span> <span class="n">colonId</span><span class="o">=(</span><span class="kt">int</span><span class="o">)</span><span class="n">Math</span><span class="o">.</span><span class="na">ceil</span><span class="o">((</span><span class="kt">double</span><span class="o">)(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="o">)/</span><span class="n">maxRefEachColon</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">x0</span> <span class="o">=</span> <span class="n">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="n">padding</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="o">(</span><span class="n">colonNum</span><span class="o">-</span><span class="n">colonId</span><span class="o">+</span><span class="mi">1</span><span class="o">)*(</span><span class="n">colonWidth</span><span class="o">+</span><span class="n">padding</span><span class="o">/</span><span class="mi">2</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">x0</span><span class="o">+</span><span class="n">colonWidth</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">referencePadding</span> <span class="o">*</span> <span class="o">(</span><span class="n">index</span><span class="o">%</span><span class="n">maxRefEachColon</span><span class="o">)</span> <span class="o">+</span> <span class="n">referencePadding</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">y0</span><span class="o">;</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x0</span><span class="o">,</span> <span class="n">y0</span> <span class="o">-</span> <span class="n">pointWidth</span><span class="o">,</span> <span class="n">x0</span><span class="o">,</span> <span class="n">y0</span><span class="o">);</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x0</span><span class="o">,</span> <span class="n">y0</span><span class="o">,</span> <span class="n">x1</span><span class="o">,</span> <span class="n">y1</span><span class="o">);</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x1</span><span class="o">,</span> <span class="n">y0</span> <span class="o">-</span> <span class="n">pointWidth</span><span class="o">,</span> <span class="n">x1</span><span class="o">,</span> <span class="n">y0</span><span class="o">);</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">drawString</span><span class="o">(</span><span class="n">ticket</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">index</span><span class="o">),</span><span class="n">x0</span><span class="o">,</span><span class="n">y0</span> <span class="o">+</span><span class="n">referencePadding</span><span class="o">/</span><span class="mi">3</span><span class="o">);</span>


            <span class="c1">//draw the point?? smoothing?? color??</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">setStroke</span><span class="o">(</span><span class="n">oldStroke</span><span class="o">);</span>
            <span class="n">g2</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">lineColor</span><span class="o">);</span> <span class="c1">//we use lineColor to set pointColor</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">x</span> <span class="o">-</span> <span class="n">pointWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">graphPoints</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">y</span> <span class="o">-</span> <span class="n">pointWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">ovalW</span> <span class="o">=</span> <span class="n">pointWidth</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">ovalH</span> <span class="o">=</span> <span class="n">pointWidth</span><span class="o">;</span>
                <span class="n">g2</span><span class="o">.</span><span class="na">fillOval</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">ovalW</span><span class="o">,</span> <span class="n">ovalH</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">index</span><span class="o">++;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//    @Override</span>
    <span class="c1">//    public Dimension getPreferredSize() {</span>
    <span class="c1">//        return new Dimension(width, heigth);</span>
    <span class="c1">//    }</span>

    <span class="c1">//get the longest ticket to set the width of reference zone</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getMaxTicket</span><span class="o">(</span><span class="n">Graphics2D</span> <span class="n">g2</span><span class="o">,</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ticket</span><span class="o">){</span>
        <span class="n">FontMetrics</span> <span class="n">metrics</span> <span class="o">=</span> <span class="n">g2</span><span class="o">.</span><span class="na">getFontMetrics</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">maxTicket</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="n">String</span> <span class="n">t</span> <span class="o">:</span> <span class="n">ticket</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">ticketWidth</span><span class="o">=</span><span class="n">metrics</span><span class="o">.</span><span class="na">stringWidth</span><span class="o">(</span><span class="n">t</span><span class="o">);</span>
            <span class="n">maxTicket</span><span class="o">=</span><span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">maxTicket</span><span class="o">,</span><span class="n">ticketWidth</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">maxTicket</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">double</span> <span class="nf">getMinScore</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">double</span> <span class="n">minScore</span> <span class="o">=</span> <span class="n">Double</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">oneSerie</span> <span class="o">:</span> <span class="n">result</span><span class="o">){</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">Double</span> <span class="n">score</span> <span class="o">:</span> <span class="n">oneSerie</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">minScore</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">minScore</span><span class="o">,</span> <span class="n">score</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">minScore</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">double</span> <span class="nf">getMaxScore</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">double</span> <span class="n">maxScore</span> <span class="o">=</span> <span class="n">Double</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">oneSerie</span> <span class="o">:</span> <span class="n">result</span><span class="o">){</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">Double</span> <span class="n">score</span> <span class="o">:</span> <span class="n">oneSerie</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">maxScore</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">maxScore</span><span class="o">,</span> <span class="n">score</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">maxScore</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setScores</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">;</span>
        <span class="n">invalidate</span><span class="o">();</span>
        <span class="k">this</span><span class="o">.</span><span class="na">repaint</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="nf">getScores</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">createAndShowGui</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="o">,</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ticket</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">GraphPanel</span> <span class="n">mainPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GraphPanel</span><span class="o">(</span><span class="n">result</span><span class="o">,</span><span class="n">ticket</span><span class="o">);</span>
        <span class="n">mainPanel</span><span class="o">.</span><span class="na">setPreferredSize</span><span class="o">(</span><span class="k">new</span> <span class="n">Dimension</span><span class="o">(</span><span class="mi">1400</span><span class="o">,</span> <span class="mi">800</span><span class="o">));</span>
        <span class="n">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JFrame</span><span class="o">(</span><span class="s">"DrawGraph"</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="n">JFrame</span><span class="o">.</span><span class="na">EXIT_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">getContentPane</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">mainPanel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">pack</span><span class="o">();</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setLocationRelativeTo</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//configurate the game</span>
        <span class="kt">int</span> <span class="n">years</span><span class="o">=</span><span class="mi">500</span><span class="o">;</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">iniPopulations</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
        <span class="n">iniPopulations</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">2000</span><span class="o">));</span>  <span class="c1">//rose</span>
        <span class="n">iniPopulations</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">2000</span><span class="o">));</span>  <span class="c1">//banker</span>
        <span class="n">iniPopulations</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">2000</span><span class="o">));</span>  <span class="c1">//ranger</span>
        <span class="n">iniPopulations</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">2000</span><span class="o">));</span>  <span class="c1">//skaven</span>
        <span class="n">iniPopulations</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">2000</span><span class="o">));</span>  <span class="c1">//playboy</span>
        <span class="n">iniPopulations</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">2000</span><span class="o">));</span>  <span class="c1">//barbarian</span>
        <span class="n">iniPopulations</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">2000</span><span class="o">));</span>  <span class="c1">//nobody</span>

        <span class="c1">//run the WarOfClan game</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="o">=</span><span class="n">WarOfClan</span><span class="o">.</span><span class="na">runTheGame</span><span class="o">(</span><span class="n">years</span><span class="o">,</span><span class="n">iniPopulations</span><span class="o">);</span>

        <span class="c1">//draw the statistic graph of the game</span>
        <span class="n">SwingUtilities</span><span class="o">.</span><span class="na">invokeLater</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">createAndShowGui</span><span class="o">(</span><span class="n">result</span><span class="o">,</span><span class="n">Clan</span><span class="o">.</span><span class="na">CLAN_NAMES</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

        <div class="after-post"></div> <!-- 文章结尾，和Disqus留一些间隔。-->
        <script>
            $("div.after-post").css("margin-bottom","50px");
        </script>

        <!-- Disqus plugin -->
        <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = /java/design_pattern/2016/06/12/reuseExercise.html;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = /java/design_pattern/2016/06/12/reuseExercise; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//www-ciaoshen-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
    <!-- .container -->


    <!-- footer bar -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<footer>
    <!-- Don't show tag cloud
    <div class="footer" id="footer">
        <div class="container">
            <div id="tags-cloud-title">
            <div class="row">
                <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12">
                    <h2>Tag Cloud</h2>
                </div>
            </div>
            </div>
            <div id="tags-cloud" class="row">
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_String" href="/tags/String.html">
                        String
                        <span class="badge">5</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Memory_Model" href="/tags/Memory_Model.html">
                        Memory_Model
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JVM" href="/tags/JVM.html">
                        JVM
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hexo" href="/tags/Hexo.html">
                        Hexo
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Github" href="/tags/Github.html">
                        Github
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Blog" href="/tags/Blog.html">
                        Blog
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Git" href="/tags/Git.html">
                        Git
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JDK" href="/tags/JDK.html">
                        JDK
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JRE" href="/tags/JRE.html">
                        JRE
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IDE" href="/tags/IDE.html">
                        IDE
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_OOP" href="/tags/OOP.html">
                        OOP
                        <span class="badge">7</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Initialization" href="/tags/Initialization.html">
                        Initialization
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Control_Flow" href="/tags/Control_Flow.html">
                        Control_Flow
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_GC" href="/tags/GC.html">
                        GC
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Access_Control" href="/tags/Access_Control.html">
                        Access_Control
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Package" href="/tags/Package.html">
                        Package
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Inheritance" href="/tags/Inheritance.html">
                        Inheritance
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Composition" href="/tags/Composition.html">
                        Composition
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Factory_Pattern" href="/tags/Factory_Pattern.html">
                        Factory_Pattern
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Polymorphism" href="/tags/Polymorphism.html">
                        Polymorphism
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Late_Binding" href="/tags/Late_Binding.html">
                        Late_Binding
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_State_Pattern" href="/tags/State_Pattern.html">
                        State_Pattern
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Interface" href="/tags/Interface.html">
                        Interface
                        <span class="badge">5</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Abstract_Class" href="/tags/Abstract_Class.html">
                        Abstract_Class
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Strategy_Pattern" href="/tags/Strategy_Pattern.html">
                        Strategy_Pattern
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Inner_Class" href="/tags/Inner_Class.html">
                        Inner_Class
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Callback" href="/tags/Callback.html">
                        Callback
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Closure" href="/tags/Closure.html">
                        Closure
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Lambda_Expression" href="/tags/Lambda_Expression.html">
                        Lambda_Expression
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Container" href="/tags/Container.html">
                        Container
                        <span class="badge">9</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Array" href="/tags/Array.html">
                        Array
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hash" href="/tags/Hash.html">
                        Hash
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Exception" href="/tags/Exception.html">
                        Exception
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IO" href="/tags/IO.html">
                        IO
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Regular_Expression" href="/tags/Regular_Expression.html">
                        Regular_Expression
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Reflection" href="/tags/Reflection.html">
                        Reflection
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Career_Path" href="/tags/Career_Path.html">
                        Career_Path
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Immutability" href="/tags/Immutability.html">
                        Immutability
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Dynamic_Proxies" href="/tags/Dynamic_Proxies.html">
                        Dynamic_Proxies
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Generics" href="/tags/Generics.html">
                        Generics
                        <span class="badge">8</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Adapter_Pattern" href="/tags/Adapter_Pattern.html">
                        Adapter_Pattern
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Wildcards" href="/tags/Wildcards.html">
                        Wildcards
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_PESC" href="/tags/PESC.html">
                        PESC
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Covariant" href="/tags/Covariant.html">
                        Covariant
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_View" href="/tags/View.html">
                        View
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Iterator" href="/tags/Iterator.html">
                        Iterator
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Fly_Weight" href="/tags/Fly_Weight.html">
                        Fly_Weight
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_LinkedList" href="/tags/LinkedList.html">
                        LinkedList
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Weak_Reference" href="/tags/Weak_Reference.html">
                        Weak_Reference
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Phantom_Reference" href="/tags/Phantom_Reference.html">
                        Phantom_Reference
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_HashMap" href="/tags/HashMap.html">
                        HashMap
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_File" href="/tags/File.html">
                        File
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Stream" href="/tags/Stream.html">
                        Stream
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Encapsulation" href="/tags/Encapsulation.html">
                        Encapsulation
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Unicode" href="/tags/Unicode.html">
                        Unicode
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_UTF-8" href="/tags/UTF-8.html">
                        UTF-8
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_ASCII" href="/tags/ASCII.html">
                        ASCII
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Encoding" href="/tags/Encoding.html">
                        Encoding
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Charset" href="/tags/Charset.html">
                        Charset
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_CPU" href="/tags/CPU.html">
                        CPU
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Process" href="/tags/Process.html">
                        Process
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Block" href="/tags/Block.html">
                        Block
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Logic_Gates" href="/tags/Logic_Gates.html">
                        Logic_Gates
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_NIO" href="/tags/NIO.html">
                        NIO
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Enum" href="/tags/Enum.html">
                        Enum
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Table_Driven" href="/tags/Table_Driven.html">
                        Table_Driven
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Annotations" href="/tags/Annotations.html">
                        Annotations
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hibernate" href="/tags/Hibernate.html">
                        Hibernate
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JUnit" href="/tags/JUnit.html">
                        JUnit
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Spring" href="/tags/Spring.html">
                        Spring
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Syntactic sugar" href="/tags/Syntactic sugar.html">
                        Syntactic sugar
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_AOP" href="/tags/AOP.html">
                        AOP
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Concurrency" href="/tags/Concurrency.html">
                        Concurrency
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Thread" href="/tags/Thread.html">
                        Thread
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_DJ" href="/tags/DJ.html">
                        DJ
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IOC" href="/tags/IOC.html">
                        IOC
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Interrupt" href="/tags/Interrupt.html">
                        Interrupt
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_HTML" href="/tags/HTML.html">
                        HTML
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_CSS" href="/tags/CSS.html">
                        CSS
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Javascript" href="/tags/Javascript.html">
                        Javascript
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JQuery" href="/tags/JQuery.html">
                        JQuery
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Sass" href="/tags/Sass.html">
                        Sass
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Responsive_Design" href="/tags/Responsive_Design.html">
                        Responsive_Design
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Code_Style" href="/tags/Code_Style.html">
                        Code_Style
                        <span class="badge">15</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Builder_Pattern" href="/tags/Builder_Pattern.html">
                        Builder_Pattern
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Instance_Control" href="/tags/Instance_Control.html">
                        Instance_Control
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Singleton" href="/tags/Singleton.html">
                        Singleton
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Comparable" href="/tags/Comparable.html">
                        Comparable
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Clone" href="/tags/Clone.html">
                        Clone
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_API" href="/tags/API.html">
                        API
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Template_Pattern" href="/tags/Template_Pattern.html">
                        Template_Pattern
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Jekyll" href="/tags/Jekyll.html">
                        Jekyll
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Bootstrap" href="/tags/Bootstrap.html">
                        Bootstrap
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_SSH" href="/tags/SSH.html">
                        SSH
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_RSA" href="/tags/RSA.html">
                        RSA
                        <span class="badge">1</span>
                        </a>
                    </div>
                
            </div>
        </div>
    </div>
    don't need tag cloud here -->

    <div class="footer-bottom">
        <div class="container">
            <p class="pull-left"> Copyright © <b>Wei SHEN</b> &nbsp | &nbsp Designed by <b>Wei SHEN</b> &nbsp | &nbsp Coded by <b>Wei SHEN</b> &nbsp | &nbsp 2015-2017. All right reserved.  &nbsp | &nbsp  Contact me: <b>symantec__@hotmail.com</b> </p>
            <div class="pull-right">
                <ul class="social">

                </ul>
            </div>
        </div>
    </div>
    <!--/.footer-bottom-->
</footer>



    <!-- Bootstrap Core JavaScript -->
    <script src="/assets/js/bootstrap.min.js"></script>
    <!-- Add space between two paragraph -->
    <script src="/assets/js/span.js"></script>
    <!-- Adjust images size -->
    <script src="/assets/js/imgResponsive.js"></script>
    <!-- Disqus comment count plugin -->
    <script id="dsq-count-scr" src="//www-ciaoshen-com.disqus.com/count.js" async></script>

</body>

</html>
