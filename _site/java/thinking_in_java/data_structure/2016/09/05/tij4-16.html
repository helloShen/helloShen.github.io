<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Thinking {SHEN}</title>

    <!-- Bootstrap Core CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Blog Template CSS -->
    <link href="/assets/css/blog.css" rel="stylesheet">
    <!-- jQuery Version 1.11.1 -->
    <script src="/assets/js/jquery.js"></script>
    <!-- footer bar -->
    <link href="/assets/css/footer.css" rel="stylesheet">
    <!-- code highlight. I also have other options. But this one looks good! -->
    <link href="/assets/css/jekyll-github.css" rel="stylesheet">
    <!-- Sidebar -->
    <!--<link href="/assets/css/sidebar.css" rel="stylesheet">-->


    <!-- Custom CSS -->
    <style>
        body {
            padding-top: 70px;
            /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
        }
        .container {
            width: 80%;
        }
    </style>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="">Thinking {SHEN}</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="/resume/">Resume</a>
                    </li>
                    <li>
                        <a href="/thinkinginjava/">Thinking in Java</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Container -->
    <div class="container">

        <!-- Page Title -->
        <div class="text-center">
      <!-- page-header是Bootstrap内置页头组件 -->
      <div class="page-header">
          <h1>[Thinking in Java] Note: Chapter 16 - Array</h1>
      </div>
      <h5 class="blog-post-meta">
                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> &nbsp
                2016-09-05 09:34:49 -0400
                &nbsp | &nbsp
                <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> &nbsp
            
                <a href="/categories/Java.html"><span class="label label-primary"><b>Java</b></span></a>
                &nbsp
            
                <a href="/categories/Thinking_in_Java.html"><span class="label label-primary"><b>Thinking_in_Java</b></span></a>
                &nbsp
            
                <a href="/categories/Data_Structure.html"><span class="label label-primary"><b>Data_Structure</b></span></a>
                &nbsp
            
                &nbsp | &nbsp
                <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> &nbsp
                <a href="#disqus_thread "></a>
      </h5>
      <h5 class="blog-post-meta">
          <span class="glyphicon glyphicon-tags" aria-hidden="true"></span> &nbsp
          
              <a href="/tags/Array.html"><span class="label label-default">Array</span></a>
              &nbsp
          
      </h5>
</div>


        <!-- Page Content -->
        <h3 id="数组好在哪儿">数组好在哪儿？</h3>
<p>数组的优点，不能和现在的泛型容器比。要和它同时期的无泛型的原生容器比。站在Java1.0的时间基准上看，数组至少有三大优势：</p>
<ul>
  <li>高效（下标随机访问O(1)）</li>
  <li>持有特定类型（无泛型容器只能持有Object）</li>
  <li>能持有基本型</li>
</ul>

<p>但现在有泛型容器，也已经编译器类型检查。而且直接有“自动包装机制”，容器持有基本型不成问题。数组只剩下高效一个优点了。但因为数组有长度限制，而且容器功能更多。<strong>所以现在普遍都用容器。</strong></p>

<h3 id="数组的初始化">数组的初始化</h3>
<p>数组初始化的三种层次：</p>
<ul>
  <li>只创建，不初始化。</li>
  <li>创建空数组</li>
  <li>创建的同时填充数组</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>        <span class="cm">/**
         *  对象数组
         */</span>
        <span class="c1">//未初始化</span>
        <span class="n">AAA</span><span class="o">[]</span> <span class="n">a</span><span class="o">;</span>
        <span class="c1">//常见的创建特定类型和长度的空数组。每个槽位自动初始化为null。</span>
        <span class="n">AAA</span><span class="o">[]</span> <span class="n">b</span><span class="o">=</span><span class="k">new</span> <span class="n">AAA</span><span class="o">[</span><span class="mi">5</span><span class="o">];</span>
        <span class="n">AAA</span><span class="o">[]</span> <span class="n">c</span><span class="o">=</span><span class="k">new</span> <span class="n">AAA</span><span class="o">[]</span> <span class="o">{</span><span class="n">aaa1</span><span class="o">,</span><span class="n">aaa2</span><span class="o">,</span><span class="n">aaa3</span><span class="o">};</span>

        <span class="cm">/**
         *  基本型数组
         */</span>
        <span class="c1">//未初始化</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">e</span><span class="o">;</span>
        <span class="c1">//常见[]下标创建空数组。每个槽位都默认被初始化为0。</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">5</span><span class="o">];</span>
        <span class="c1">// 直接用大括号{}赋值。第一种只能用在定义数组的地方。第二种哪里都可以用。</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">g</span> <span class="o">=</span> <span class="o">{</span> <span class="mi">11</span><span class="o">,</span> <span class="mi">47</span><span class="o">,</span> <span class="mi">93</span> <span class="o">};</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">h</span><span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span> <span class="o">};</span>
</code></pre>
</div>

<h3 id="多维数组">多维数组</h3>
<p>多维数组的初始化和普通数组差不多。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span><span class="o">[][]</span> <span class="n">a</span> <span class="o">=</span> <span class="o">{</span>
	<span class="o">{</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="o">},</span>
	<span class="o">{</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="o">},</span>
<span class="o">};</span>
</code></pre>
</div>

<p>多维数组也可以一维一维地创建。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span><span class="o">[][]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">5</span><span class="o">][];</span>

<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
	<span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">6</span><span class="o">];</span>
<span class="o">}</span>
</code></pre>
</div>

<p>没有被完整定义长度的多维数组，会自动被初始化成null。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span><span class="o">[][][]</span> <span class="n">two</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">][][];</span>
<span class="kt">int</span><span class="o">[][][]</span> <span class="n">three</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">][</span><span class="mi">3</span><span class="o">][];</span>
<span class="kt">int</span><span class="o">[][][]</span> <span class="n">four</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">][</span><span class="mi">3</span><span class="o">][</span><span class="mi">4</span><span class="o">];</span>
</code></pre>
</div>
<p>two和three两个数组，只定义了第一层，和第二层的长度。打印出来，全都是null。只有four数组，三层长度都定义了，所有元素都被初始化成0。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">two</span><span class="o">));</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">three</span><span class="o">));</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">four</span><span class="o">));</span>

<span class="c1">//Output：</span>
<span class="c1">//[null, null]</span>
<span class="c1">//[[null, null, null], [null, null, null]]</span>
<span class="c1">//[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]</span>
</code></pre>
</div>

<h3 id="数组的协变">数组的协变</h3>
<p>数组的协变要注意的一点是：</p>

<p>虽然依据协变原则，对象数组Object[]里可以插入String对象实例。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Object</span><span class="o">[]</span> <span class="n">o</span><span class="o">=</span><span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
<span class="n">o</span><span class="o">[</span><span class="mi">0</span><span class="o">]=</span><span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="s">"hello"</span><span class="o">);</span>
</code></pre>
</div>
<p>也可以直接把String[]的引用赋给Object[]。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Object</span><span class="o">[]</span> <span class="n">o</span><span class="o">=</span><span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">s</span><span class="o">=</span><span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="mi">5</span><span class="o">];</span>
<span class="n">o</span><span class="o">=</span><span class="n">s</span><span class="o">;</span>
</code></pre>
</div>
<p>但我们不能把Object[]向下转型成String[]。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">String</span><span class="o">[]</span> <span class="n">s</span><span class="o">=(</span><span class="n">String</span><span class="o">[])</span><span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
</code></pre>
</div>
<p>因为，“协变”特性的本质是：<strong>当B类是A类的派生类，B[]也是A[]的派生类</strong>。</p>

<p>所以String[]是Object[]的派生类。但强制向下转型是不允许的。</p>

<h3 id="数组和泛型">数组和泛型</h3>
<p>Java不允许创建泛型类的数组：</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Bag</span><span class="o">&lt;</span><span class="n">Banana</span><span class="o">&gt;[]</span> <span class="n">bagB</span><span class="o">=</span><span class="k">new</span> <span class="n">Bag</span><span class="o">&lt;</span><span class="n">Banana</span><span class="o">&gt;[</span><span class="mi">10</span><span class="o">];</span>		<span class="c1">//Error</span>
</code></pre>
</div>
<p>但可以用类型参数表示数组本身的类型，像这样：</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Bag</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;{</span>
	<span class="kd">private</span> <span class="n">T</span><span class="o">[]</span> <span class="n">items</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
</div>
<p>这样的<strong>T[]</strong>在运行时都被擦除成<strong>Object[]</strong>。要初始化这样的数组items，最好的办法是，先创建一个擦除以后的类型的数组，比如这里是Object，然后在用T[]强制转型。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Bag</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;{</span>
	<span class="kd">private</span> <span class="n">T</span><span class="o">[]</span> <span class="n">items</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nf">Bag</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">){</span>
		<span class="n">items</span><span class="o">=(</span><span class="n">T</span><span class="o">[])</span><span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="n">size</span><span class="o">];</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>
<p>因为运行时T[]都会被擦除，变成Object[]，所以这里的强制转型只是在编译期起作用。而且会抛出一个[unchecked]的警告。</p>

<h3 id="填充数组">填充数组</h3>

<p>####Arrays.fill()
标准类库的fill()只能用同一个值填充每个槽位。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span><span class="o">[]</span> <span class="n">i</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
<span class="n">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">i</span><span class="o">,</span><span class="mi">9</span><span class="o">);</span>
</code></pre>
</div>
<p>填完的效果是：</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="o">[</span>9,9,9,9,9,9,9,9,9,9]
</code></pre>
</div>

<p>书里花很大力气讲了怎么用泛型Generator<T>写一个更强大的自动填充工具，这里不赘述。具体实现，参见练习题11-17。我已经完整地自己实现了一遍。</T></p>

<h3 id="arrays实用工具">Arrays实用工具</h3>

<h4 id="拷贝数组">拷贝数组</h4>
<h5 id="systemarraycopy">System.arraycopy()</h5>
<p>Java标准类库提供的拷贝数组的 <strong>“高效”</strong> 方法。负责把一段数组拷贝到另一个数组的某个位置。看下面的例子，</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span><span class="o">[]</span> <span class="n">i</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">7</span><span class="o">];</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">j</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
<span class="n">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">i</span><span class="o">,</span><span class="mi">47</span><span class="o">);</span>
<span class="n">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">j</span><span class="o">,</span><span class="mi">99</span><span class="o">);</span>

<span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">i</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">j</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">i</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
</code></pre>
</div>
<p>上面这个拷贝操作，翻译过来就是：从i数组的第一个元素开始，拷贝到j数组的第一个槽位，以此类推，直到i数组的最后一个元素。拷贝完的结果是这样的：</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="o">[</span>47,47,47,47,47,47,47,99,99,99]
</code></pre>
</div>
<ul>
  <li><strong>!注意</strong>：System.arraycopy()的拷贝是一种 <strong>“浅拷贝（shallow copy）”</strong>：只复制了对象的引用。</li>
</ul>

<h5 id="arrayscopyof">Arrays.copyOf()</h5>
<p>标准类库还包含两个拷贝数组的方法：Arrays.copyOf()和Object.clone()。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span><span class="o">[]</span> <span class="n">ia</span><span class="o">={</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">9</span><span class="o">};</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">copy</span><span class="o">=</span><span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">ia</span><span class="o">,</span><span class="mi">20</span><span class="o">);</span>
</code></pre>
</div>
<p>Arrays.copyOf()接受两个参数，第一个是源数组，第二个拷贝以后数组的长度。可以用来扩展数组。用起来比System.arraycopy()简便，但功能弱一些。例子里的拷贝的结果是：</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="o">[</span>9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0]
</code></pre>
</div>

<h5 id="objectclone">Object.clone()</h5>
<p>最后一个Object.clone()功能最弱，只能单纯地拷贝数组。</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>int[] <span class="nv">ia</span><span class="o">={</span>9,9,9,9,9,9,9,9,9,9<span class="o">}</span>;
<span class="nv">copy</span><span class="o">=</span>ia.clone<span class="o">()</span>;
</code></pre>
</div>

<p>《Effective Java》里说：</p>
<ul>
  <li><strong>由于Clonable接口有这么多问题，很多专家级程序员干脆从来不去覆盖clone方法。（中文版P52）</strong></li>
</ul>

<h4 id="数组的比较">数组的比较</h4>
<h5 id="javalangcomparable接口">java.lang.Comparable接口</h5>
<p>第一种是实现 <strong>java.lang.Comparable</strong> 接口。它只规定了 <strong>compareTo(Object o)</strong> 一个方法。实现了Comparable接口的类型都可以实现排序，也就是 <strong>Arrays.sort()</strong> 方法。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">CompType</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">{</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nf">CompType</span><span class="o">(</span><span class="kt">int</span> <span class="n">inNum</span><span class="o">){</span><span class="n">i</span><span class="o">=</span><span class="n">inNum</span><span class="o">;}</span>

	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">CompType</span> <span class="n">rv</span><span class="o">){</span>
		<span class="k">return</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">rv</span><span class="o">.</span><span class="na">i</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">rv</span><span class="o">.</span><span class="na">i</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="o">));</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(){</span>
		<span class="n">CompType</span><span class="o">[]</span> <span class="n">ct</span><span class="o">={</span><span class="k">new</span> <span class="n">CompType</span><span class="o">(</span><span class="mi">10</span><span class="o">),</span> <span class="k">new</span> <span class="n">CompType</span><span class="o">(</span><span class="mi">5</span><span class="o">)};</span>
		<span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">ct</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>
<p>Object1.compareTo(Object2)方法返回值小于零，等于零，大于零，分别表示Object1小于，等于，大于Object2。</p>

<h5 id="comparator接口">Comparator接口</h5>
<p>如果要比较的类没有实现Comparable接口。可以另外写一个实现了Comparator接口的<strong>“比较器”</strong>。然后排序的时候，调用<strong>Arrays.sort()</strong>方法的另一个重载版本：<strong>Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)</strong>。就是利用外部的比较器来实现比较。利用的是“策略模式”。</p>

<p>Comparator接口要求实现两个方法：<strong>compare()</strong>和<strong>equals()</strong>。compare()方法原理和compareTo()方法一样。equals()方法只要用继承自Object基类的原始版本就行，所以不用重写。</p>

<h4 id="数组搜索">数组搜索</h4>
<p>排序过的数组可以调用<strong>Arrays.binarySearch()</strong>方法。</p>

<h3 id="练习">练习</h3>

<h4 id="exercise-1">Exercise 1</h4>
<ul>
  <li><strong>Exercise 1</strong>: (2) Create a method that takes an array of BerylliumSphere as an argument. Call the method, creating the argument dynamically. Demonstrate that ordinary aggregate array initialization doesn’t work in this case. Discover the only situations where ordinary aggregate array initialization works, and where dynamic aggregate initialization is redundant.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">CallArray</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">showArray</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">s</span><span class="o">){</span>
        <span class="n">StringBuilder</span> <span class="n">sb</span><span class="o">=</span><span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"{"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">ss</span><span class="o">[</span><span class="n">i</span><span class="o">]).</span><span class="na">append</span><span class="o">(</span><span class="s">"}"</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">){</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"--"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise1</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="c1">//CallArray.showArray({"AAA","BBB","CCC"});</span>
        <span class="n">CallArray</span><span class="o">.</span><span class="na">showArray</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="s">"AAA"</span><span class="o">,</span><span class="s">"BBB"</span><span class="o">,</span><span class="s">"CCC"</span><span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-2">Exercise 2</h4>
<ul>
  <li><strong>Exercise 2</strong>: (1) Write a method that takes an int argument and returns an array of that size, filled with BerylliumSphere objects.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Sphere</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">=++</span><span class="n">count</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(){</span><span class="k">return</span> <span class="s">"Sphere "</span><span class="o">+</span><span class="n">id</span><span class="o">;}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise2</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Sphere</span><span class="o">[]</span> <span class="nf">collectSphere</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">){</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">s</span><span class="o">=</span><span class="k">new</span> <span class="n">Sphere</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">i</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
            <span class="n">s</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="k">new</span> <span class="n">Sphere</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printSpheres</span><span class="o">(</span><span class="n">Sphere</span><span class="o">[]</span> <span class="n">ss</span><span class="o">){</span>
        <span class="n">StringBuilder</span> <span class="n">sb</span><span class="o">=</span><span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ss</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"{"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">ss</span><span class="o">[</span><span class="n">i</span><span class="o">]).</span><span class="na">append</span><span class="o">(</span><span class="s">"}"</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ss</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">){</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"--"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sb</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">Exercise2</span><span class="o">.</span><span class="na">printSpheres</span><span class="o">(</span><span class="n">Exercise2</span><span class="o">.</span><span class="na">collectSphere</span><span class="o">(</span><span class="mi">7</span><span class="o">));</span>


    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-3">Exercise 3</h4>
<ul>
  <li><strong>Exercise 3</strong>: (4) Write a method that creates and initializes a twodimensional array of double. The size of the array is determined by the arguments of the method, and the initialization values are a range determined by beginning and ending values that are also arguments of the method. Create a second method that will print the array generated by the first method. In main( ) test the methods by creating and printing several different sizes of arrays.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise3</span><span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Double</span><span class="o">[][]</span> <span class="nf">makeDoubleArray</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">,</span><span class="kt">int</span> <span class="n">min</span><span class="o">,</span><span class="kt">int</span> <span class="n">max</span><span class="o">){</span>
        <span class="n">Random</span> <span class="n">rand</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="n">Double</span><span class="o">[][]</span> <span class="n">d</span><span class="o">=</span><span class="k">new</span> <span class="n">Double</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">x</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">y</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]=(</span><span class="kt">double</span><span class="o">)</span><span class="n">min</span><span class="o">+(</span><span class="n">max</span><span class="o">-</span><span class="n">min</span><span class="o">)*</span><span class="n">rand</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">d</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printArray</span><span class="o">(</span><span class="n">Double</span><span class="o">[][]</span> <span class="n">d</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">d</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">Exercise3</span><span class="o">.</span><span class="na">printArray</span><span class="o">(</span><span class="n">Exercise3</span><span class="o">.</span><span class="na">makeDoubleArray</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">100</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-4">Exercise 4</h4>
<ul>
  <li><strong>Exercise 4</strong>: (2) Repeat the previous exercise for a three-dimensional array.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise4</span><span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Double</span><span class="o">[][][]</span> <span class="nf">makeDoubleArray</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">,</span><span class="kt">int</span> <span class="n">z</span><span class="o">,</span><span class="kt">int</span> <span class="n">min</span><span class="o">,</span><span class="kt">int</span> <span class="n">max</span><span class="o">){</span>
        <span class="n">Random</span> <span class="n">rand</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="n">Double</span><span class="o">[][][]</span> <span class="n">d</span><span class="o">=</span><span class="k">new</span> <span class="n">Double</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">][</span><span class="n">z</span><span class="o">];</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">x</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">y</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">z</span><span class="o">;</span><span class="n">k</span><span class="o">++){</span>
                    <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="n">k</span><span class="o">]=(</span><span class="kt">double</span><span class="o">)</span><span class="n">min</span><span class="o">+(</span><span class="n">max</span><span class="o">-</span><span class="n">min</span><span class="o">)*</span><span class="n">rand</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">d</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printArray</span><span class="o">(</span><span class="n">Double</span><span class="o">[][][]</span> <span class="n">d</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">d</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">Exercise4</span><span class="o">.</span><span class="na">printArray</span><span class="o">(</span><span class="n">Exercise4</span><span class="o">.</span><span class="na">makeDoubleArray</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">100</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-5">Exercise 5</h4>
<ul>
  <li><strong>Exercise 5</strong>: (1) Demonstrate that multidimensional arrays of nonprimitive types are automatically initialized to null.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise5</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="kt">int</span><span class="o">[][][]</span> <span class="n">one</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[][][]</span> <span class="n">two</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">][][];</span>
        <span class="kt">int</span><span class="o">[][][]</span> <span class="n">three</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">][</span><span class="mi">3</span><span class="o">][];</span>
        <span class="kt">int</span><span class="o">[][][]</span> <span class="n">four</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">][</span><span class="mi">3</span><span class="o">][</span><span class="mi">4</span><span class="o">];</span>

        <span class="c1">//System.out.println(Arrays.deepToString(one)); //没有初始化</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">two</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">three</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">four</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-6">Exercise 6</h4>
<ul>
  <li><strong>Exercise 6</strong>: (1) Write a method that takes two int arguments, indicating the two sizes of a 2-D array. The method should create and fill a 2-D array of BerylliumSphere according to the size arguments.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Sphere</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">=++</span><span class="n">count</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(){</span><span class="k">return</span> <span class="s">"Sphere "</span><span class="o">+</span><span class="n">id</span><span class="o">;}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise6</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Sphere</span><span class="o">[][]</span> <span class="nf">fill2DSphere</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">){</span>
        <span class="n">Sphere</span><span class="o">[][]</span> <span class="n">s</span><span class="o">=</span><span class="k">new</span> <span class="n">Sphere</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">x</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">y</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]=</span><span class="k">new</span> <span class="n">Sphere</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">Exercise6</span><span class="o">.</span><span class="na">fill2DSphere</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">)));</span>


    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-7">Exercise 7</h4>
<ul>
  <li><strong>Exercise 7</strong>: (1) Repeat the previous exercise for a 3-D array.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Sphere</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">=++</span><span class="n">count</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(){</span><span class="k">return</span> <span class="s">"Sphere "</span><span class="o">+</span><span class="n">id</span><span class="o">;}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise7</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Sphere</span><span class="o">[][][]</span> <span class="nf">fill3DSphere</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">,</span><span class="kt">int</span> <span class="n">z</span><span class="o">){</span>
        <span class="n">Sphere</span><span class="o">[][][]</span> <span class="n">s</span><span class="o">=</span><span class="k">new</span> <span class="n">Sphere</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">][</span><span class="n">z</span><span class="o">];</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">x</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">y</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">z</span><span class="o">;</span><span class="n">k</span><span class="o">++){</span>
                    <span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="n">k</span><span class="o">]=</span><span class="k">new</span> <span class="n">Sphere</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepToString</span><span class="o">(</span><span class="n">Exercise7</span><span class="o">.</span><span class="na">fill3DSphere</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">)));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-8">Exercise 8</h4>
<ul>
  <li><strong>Exercise 8</strong>: (1) Demonstrate the assertions in the previous paragraph.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ArrayOfGenericType</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="n">T</span><span class="o">[]</span> <span class="n">array</span><span class="o">;</span>
    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nf">ArrayOfGenericType</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">){</span>
        <span class="n">array</span><span class="o">=(</span><span class="n">T</span><span class="o">[])</span><span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="n">size</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertFirst</span><span class="o">(</span><span class="n">T</span> <span class="n">t</span><span class="o">){</span>
        <span class="n">array</span><span class="o">[</span><span class="mi">0</span><span class="o">]=</span><span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="n">U</span><span class="o">[]</span> <span class="nf">makeArray</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="o">(</span><span class="n">U</span><span class="o">[])</span><span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span> <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise8</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">ArrayOfGenericType</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">agt</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayOfGenericType</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;(</span><span class="mi">10</span><span class="o">);</span>
        <span class="n">agt</span><span class="o">.</span><span class="na">insertFirst</span><span class="o">(</span><span class="s">"Hello"</span><span class="o">);</span>
        <span class="n">Object</span><span class="o">[]</span> <span class="n">str</span><span class="o">=</span><span class="n">agt</span><span class="o">.</span><span class="na">makeArray</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-9">Exercise 9</h4>
<ul>
  <li><strong>Exercise 9</strong>: (3) Create the classes necessary for the Peel<Banana> example and show that the compiler doesn’t accept it. Fix the problem using an ArrayList.</Banana></li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Peel</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;{}</span>

<span class="kd">class</span> <span class="nc">Banana</span><span class="o">{}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise9</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="c1">//Peel&lt;Banana&gt;[] pb=new Peel&lt;Banana&gt;[10];</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Peel</span><span class="o">&lt;</span><span class="n">Banana</span><span class="o">&gt;&gt;</span> <span class="n">apb</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Peel</span><span class="o">&lt;</span><span class="n">Banana</span><span class="o">&gt;&gt;();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-10">Exercise 10</h4>
<ul>
  <li><strong>Exercise 10</strong>: (2) Modify ArrayOfGenerics .Java to use containers instead of arrays. Show that you can eliminate the compile-time warnings.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ArrayOfGenericType</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">array</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">ArrayOfGenericType</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise10</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">ArrayOfGenericType</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">agt</span><span class="o">=</span><span class="k">new</span> <span class="n">ArrayOfGenericType</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-11">Exercise 11</h4>
<ul>
  <li><strong>Exercise 11</strong>: (2) Show that autoboxing doesn’t work with arrays.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise11</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">i</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">};</span>
        <span class="n">Integer</span> <span class="n">ii</span><span class="o">=</span><span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-12">Exercise 12</h4>
<ul>
  <li><strong>Exercise 12</strong>: (1) Create an initialized array of double using CountingGenerator. Print the results.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise12</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Double</span> <span class="n">genD</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Double</span><span class="o">();</span>
        <span class="kt">double</span><span class="o">[]</span> <span class="n">d</span><span class="o">=</span><span class="k">new</span> <span class="kt">double</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">genD</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">]+</span><span class="s">" "</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-13">Exercise 13</h4>
<ul>
  <li><strong>Exercise 13</strong>: (2) Fill a String using CountingGenerator.Character.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise13</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Character</span> <span class="n">genC</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Character</span><span class="o">();</span>
        <span class="n">StringBuilder</span> <span class="n">sb</span><span class="o">=</span><span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">genC</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="n">String</span> <span class="n">s</span><span class="o">=</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-14">Exercise 14</h4>
<ul>
  <li><strong>Exercise 14</strong>: (6) Create an array of each primitive type, then fill each array by using CountingGenerator. Print each array.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrimConv</span><span class="o">{</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Boolean</span><span class="o">[]</span> <span class="n">ba</span><span class="o">){</span>
            <span class="kt">boolean</span><span class="o">[]</span> <span class="n">b</span><span class="o">=</span><span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">b</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ba</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Integer</span><span class="o">[]</span> <span class="n">ia</span><span class="o">){</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">i</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">ia</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ia</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">i</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ia</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">long</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Long</span><span class="o">[]</span> <span class="n">la</span><span class="o">){</span>
            <span class="kt">long</span><span class="o">[]</span> <span class="n">l</span><span class="o">=</span><span class="k">new</span> <span class="kt">long</span><span class="o">[</span><span class="n">la</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">la</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">l</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">la</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">l</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">short</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Short</span><span class="o">[]</span> <span class="n">sa</span><span class="o">){</span>
            <span class="kt">short</span><span class="o">[]</span> <span class="n">s</span><span class="o">=</span><span class="k">new</span> <span class="kt">short</span><span class="o">[</span><span class="n">sa</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">sa</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">s</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">sa</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">float</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Float</span><span class="o">[]</span> <span class="n">fa</span><span class="o">){</span>
            <span class="kt">float</span><span class="o">[]</span> <span class="n">f</span><span class="o">=</span><span class="k">new</span> <span class="kt">float</span><span class="o">[</span><span class="n">fa</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">fa</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">f</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">fa</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">double</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Double</span><span class="o">[]</span> <span class="n">da</span><span class="o">){</span>
            <span class="kt">double</span><span class="o">[]</span> <span class="n">d</span><span class="o">=</span><span class="k">new</span> <span class="kt">double</span><span class="o">[</span><span class="n">da</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">da</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">d</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">da</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">d</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">byte</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Byte</span><span class="o">[]</span> <span class="n">ba</span><span class="o">){</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">b</span><span class="o">=</span><span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">b</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ba</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">char</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Character</span><span class="o">[]</span> <span class="n">ca</span><span class="o">){</span>
            <span class="kt">char</span><span class="o">[]</span> <span class="n">c</span><span class="o">=</span><span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="n">ca</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ca</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">c</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ca</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">c</span><span class="o">;</span>
        <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise14</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Boolean</span> <span class="n">b</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Boolean</span><span class="o">();</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Integer</span> <span class="n">ii</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Integer</span><span class="o">();</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Long</span> <span class="n">l</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Long</span><span class="o">();</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Short</span> <span class="n">s</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Short</span><span class="o">();</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Float</span> <span class="n">f</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Float</span><span class="o">();</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Double</span> <span class="n">d</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Double</span><span class="o">();</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Byte</span> <span class="n">bt</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Byte</span><span class="o">();</span>
        <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Character</span> <span class="n">c</span><span class="o">=</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">Character</span><span class="o">();</span>

        <span class="n">Boolean</span><span class="o">[]</span> <span class="n">bb</span><span class="o">=</span><span class="k">new</span> <span class="n">Boolean</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Integer</span><span class="o">[]</span> <span class="n">iii</span><span class="o">=</span><span class="k">new</span> <span class="n">Integer</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Long</span><span class="o">[]</span> <span class="n">ll</span><span class="o">=</span><span class="k">new</span> <span class="n">Long</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Short</span><span class="o">[]</span> <span class="n">ss</span><span class="o">=</span><span class="k">new</span> <span class="n">Short</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Float</span><span class="o">[]</span> <span class="n">ff</span><span class="o">=</span><span class="k">new</span> <span class="n">Float</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Double</span><span class="o">[]</span> <span class="n">dd</span><span class="o">=</span><span class="k">new</span> <span class="n">Double</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Byte</span><span class="o">[]</span> <span class="n">btbt</span><span class="o">=</span><span class="k">new</span> <span class="n">Byte</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Character</span><span class="o">[]</span> <span class="n">cc</span><span class="o">=</span><span class="k">new</span> <span class="n">Character</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>

        <span class="kt">boolean</span><span class="o">[]</span> <span class="n">ba</span><span class="o">=</span><span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">ia</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="kt">long</span><span class="o">[]</span> <span class="n">la</span><span class="o">=</span><span class="k">new</span> <span class="kt">long</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="kt">short</span><span class="o">[]</span> <span class="n">sa</span><span class="o">=</span><span class="k">new</span> <span class="kt">short</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="kt">float</span><span class="o">[]</span> <span class="n">fa</span><span class="o">=</span><span class="k">new</span> <span class="kt">float</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="kt">double</span><span class="o">[]</span> <span class="n">da</span><span class="o">=</span><span class="k">new</span> <span class="kt">double</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">bta</span><span class="o">=</span><span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="kt">char</span><span class="o">[]</span> <span class="n">ca</span><span class="o">=</span><span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">bb</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">b</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">iii</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">ii</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">ll</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">l</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">ss</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">ff</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">f</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">dd</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">d</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">btbt</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">bt</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">cc</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">c</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>


        <span class="n">ba</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">bb</span><span class="o">);</span>
        <span class="n">ia</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">iii</span><span class="o">);</span>
        <span class="n">la</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">ll</span><span class="o">);</span>
        <span class="n">sa</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">ss</span><span class="o">);</span>
        <span class="n">fa</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">ff</span><span class="o">);</span>
        <span class="n">da</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">dd</span><span class="o">);</span>
        <span class="n">bta</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">btbt</span><span class="o">);</span>
        <span class="n">ca</span><span class="o">=</span><span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">cc</span><span class="o">);</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">ba</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">ia</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">la</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">sa</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">fa</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">da</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">bta</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">ca</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-15">Exercise 15</h4>
<ul>
  <li><strong>Exercise 15</strong>: (2) Modify ContainerComparison.java by creating a Generator for BerylliumSphere, and change main( ) to use that Generator with Generated.array().</li>
</ul>

<h5 id="spherejava">Sphere.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sphere</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">=++</span><span class="n">count</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(){</span><span class="k">return</span> <span class="s">"Sphere "</span><span class="o">+</span><span class="n">id</span><span class="o">;}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="generatedjava">Generated.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Generated</span><span class="o">{</span>

    <span class="c1">//给一个数组一个generator，我填充数组</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">T</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">T</span><span class="o">[]</span> <span class="n">ta</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">){</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ta</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">ta</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ta</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="c1">//给我一个class文件，一个generator，我填充数组</span>
    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">V</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">){</span>
        <span class="n">V</span><span class="o">[]</span> <span class="n">v</span><span class="o">=(</span><span class="n">V</span><span class="o">[])</span><span class="n">Array</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">c</span><span class="o">,</span><span class="n">size</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">size</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">v</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">v</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     *  测试
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">ss</span><span class="o">=</span><span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">ss</span><span class="o">,</span> <span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">String</span><span class="o">());</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ss</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ss</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>

        <span class="n">String</span><span class="o">[]</span> <span class="n">sss</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">CountingGenerator</span><span class="o">.</span><span class="na">String</span><span class="o">(),</span><span class="mi">10</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">sss</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sss</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="exercise15java">Exercise15.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">ContainerComparison</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SphereGenerator</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">Sphere</span><span class="o">&gt;{</span>
        <span class="kd">public</span> <span class="n">Sphere</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">Sphere</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise15</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">ContainerComparison</span><span class="o">.</span><span class="na">SphereGenerator</span> <span class="n">sg</span><span class="o">=</span><span class="k">new</span> <span class="n">ContainerComparison</span><span class="o">.</span><span class="na">SphereGenerator</span><span class="o">();</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">ss</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Sphere</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="n">sg</span><span class="o">,</span><span class="mi">10</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Sphere</span> <span class="nl">s:</span><span class="n">ss</span><span class="o">){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-16">Exercise 16</h4>
<ul>
  <li><strong>Exercise 16</strong>: (3) Starting with CountingGenerator.java, create a SkipGenerator class that produces new values by incrementing according to a constructor argument. Modify TestArrayGeneration.java to show that your new class works correctly.</li>
</ul>

<h5 id="skipgeneratorjava">SkipGenerator.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SkipGenerator</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">SkipGenerator</span><span class="o">(){}</span>
    <span class="kd">public</span> <span class="nf">SkipGenerator</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">size</span><span class="o">=</span><span class="n">size</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//Boolean</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Boolean</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Boolean</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">b</span><span class="o">=</span><span class="kc">false</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Boolean</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">size</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span><span class="o">){</span>
                <span class="n">b</span><span class="o">=!</span><span class="n">b</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//Integer</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Integer</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Integer</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Integer</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="n">i</span><span class="o">+=</span><span class="n">size</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//Long</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Long</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Long</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">long</span> <span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="n">l</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Long</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="n">l</span><span class="o">+=(</span><span class="kt">long</span><span class="o">)</span><span class="n">size</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">l</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//Short</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Short</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Short</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">short</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Short</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="n">s</span><span class="o">+=(</span><span class="kt">short</span><span class="o">)</span><span class="n">size</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//Float</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Float</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Float</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">float</span> <span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="n">f</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Float</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="n">f</span><span class="o">+=(</span><span class="kt">float</span><span class="o">)</span><span class="n">size</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//Double</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Double</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Double</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">double</span> <span class="n">d</span><span class="o">=</span><span class="mf">0.0</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Double</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="n">d</span><span class="o">+=(</span><span class="kt">double</span><span class="o">)</span><span class="n">size</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">d</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//Byte</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Byte</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Byte</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">byte</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Byte</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="n">b</span><span class="o">+=</span><span class="n">size</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//Charactor</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">char</span><span class="o">[]</span> <span class="n">CS</span><span class="o">=(</span><span class="s">"abcdefghijklmnopqrstuvwxyz"</span><span class="o">+</span><span class="s">"ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span class="o">).</span><span class="na">toCharArray</span><span class="o">();</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Character</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Character</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Character</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="k">return</span> <span class="n">CS</span><span class="o">[(</span><span class="n">index</span><span class="o">+</span><span class="n">size</span><span class="o">)%</span><span class="n">CS</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="c1">//String</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">String</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">String</span><span class="o">&gt;{</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="n">num</span><span class="o">=</span><span class="mi">7</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Character</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">=</span><span class="k">new</span> <span class="n">Character</span><span class="o">();</span>
        <span class="kd">public</span> <span class="nf">String</span><span class="o">(){}</span>
        <span class="kd">public</span> <span class="nf">String</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">){</span><span class="n">num</span><span class="o">=</span><span class="n">size</span><span class="o">;}</span>
        <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">String</span> <span class="nf">next</span><span class="o">(){</span>
            <span class="n">StringBuilder</span> <span class="n">sb</span><span class="o">=</span><span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">num</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="generatedjava-1">Generated.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Generated</span><span class="o">{</span>

    <span class="c1">//给一个数组一个generator，我填充数组</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">T</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">T</span><span class="o">[]</span> <span class="n">ta</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">){</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ta</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">ta</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ta</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="c1">//给我一个class文件，一个generator，我填充数组</span>
    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">V</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">){</span>
        <span class="n">V</span><span class="o">[]</span> <span class="n">v</span><span class="o">=(</span><span class="n">V</span><span class="o">[])</span><span class="n">Array</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">c</span><span class="o">,</span><span class="n">size</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">size</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">v</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">v</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="primconvjava">PrimConv.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrimConv</span><span class="o">{</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Boolean</span><span class="o">[]</span> <span class="n">ba</span><span class="o">){</span>
            <span class="kt">boolean</span><span class="o">[]</span> <span class="n">b</span><span class="o">=</span><span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">b</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ba</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Integer</span><span class="o">[]</span> <span class="n">ia</span><span class="o">){</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">i</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">ia</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ia</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">i</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ia</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">long</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Long</span><span class="o">[]</span> <span class="n">la</span><span class="o">){</span>
            <span class="kt">long</span><span class="o">[]</span> <span class="n">l</span><span class="o">=</span><span class="k">new</span> <span class="kt">long</span><span class="o">[</span><span class="n">la</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">la</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">l</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">la</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">l</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">short</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Short</span><span class="o">[]</span> <span class="n">sa</span><span class="o">){</span>
            <span class="kt">short</span><span class="o">[]</span> <span class="n">s</span><span class="o">=</span><span class="k">new</span> <span class="kt">short</span><span class="o">[</span><span class="n">sa</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">sa</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">s</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">sa</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">float</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Float</span><span class="o">[]</span> <span class="n">fa</span><span class="o">){</span>
            <span class="kt">float</span><span class="o">[]</span> <span class="n">f</span><span class="o">=</span><span class="k">new</span> <span class="kt">float</span><span class="o">[</span><span class="n">fa</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">fa</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">f</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">fa</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">double</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Double</span><span class="o">[]</span> <span class="n">da</span><span class="o">){</span>
            <span class="kt">double</span><span class="o">[]</span> <span class="n">d</span><span class="o">=</span><span class="k">new</span> <span class="kt">double</span><span class="o">[</span><span class="n">da</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">da</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">d</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">da</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">d</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">byte</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Byte</span><span class="o">[]</span> <span class="n">ba</span><span class="o">){</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">b</span><span class="o">=</span><span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ba</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">b</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ba</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">char</span><span class="o">[]</span> <span class="nf">toPrim</span><span class="o">(</span><span class="n">Character</span><span class="o">[]</span> <span class="n">ca</span><span class="o">){</span>
            <span class="kt">char</span><span class="o">[]</span> <span class="n">c</span><span class="o">=</span><span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="n">ca</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">ca</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="n">c</span><span class="o">[</span><span class="n">j</span><span class="o">]=</span><span class="n">ca</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">c</span><span class="o">;</span>
        <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="exercise16java">Exercise16.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise16</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">size</span><span class="o">=</span><span class="mi">6</span><span class="o">;</span>
        <span class="n">SkipGenerator</span> <span class="n">sg</span><span class="o">=</span><span class="k">new</span> <span class="n">SkipGenerator</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="kt">boolean</span><span class="o">[]</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Boolean</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Boolean</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a1 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a1</span><span class="o">));</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">a2</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Byte</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Byte</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a2 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a2</span><span class="o">));</span>
        <span class="kt">char</span><span class="o">[]</span> <span class="n">a3</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Character</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Character</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a3 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a3</span><span class="o">));</span>
        <span class="kt">short</span><span class="o">[]</span> <span class="n">a4</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Short</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Short</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a4 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a4</span><span class="o">));</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">a5</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Integer</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a5 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a5</span><span class="o">));</span>
        <span class="kt">long</span><span class="o">[]</span> <span class="n">a6</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Long</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Long</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a6 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a6</span><span class="o">));</span>
        <span class="kt">float</span><span class="o">[]</span> <span class="n">a7</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Float</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a7 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a7</span><span class="o">));</span>
        <span class="kt">double</span><span class="o">[]</span> <span class="n">a8</span> <span class="o">=</span> <span class="n">PrimConv</span><span class="o">.</span><span class="na">toPrim</span><span class="o">(</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Double</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">sg</span><span class="o">.</span><span class="na">new</span> <span class="nf">Double</span><span class="o">(),</span> <span class="n">size</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"a8 = "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">a8</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-17">Exercise 17</h4>
<ul>
  <li><strong>Exercise 17</strong>: (5) Create and test a Generator for BigDecimal, and ensure that it works with the Generated methods.</li>
</ul>

<h5 id="exercise17java">Exercise17.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.math.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">BigDecimalGenerator</span> <span class="kd">implements</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;{</span>
    <span class="n">BigDecimal</span> <span class="n">bd</span><span class="o">=</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="kd">public</span> <span class="n">BigDecimal</span> <span class="nf">next</span><span class="o">(){</span>
        <span class="n">bd</span><span class="o">=</span><span class="n">bd</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">BigDecimal</span><span class="o">.</span><span class="na">ONE</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">bd</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise17</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">BigDecimal</span><span class="o">[]</span> <span class="n">bda</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">BigDecimal</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">BigDecimalGenerator</span><span class="o">(),</span><span class="mi">10</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">bda</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="generatedjava-2">Generated.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Generated</span><span class="o">{</span>

    <span class="c1">//给一个数组一个generator，我填充数组</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">T</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">T</span><span class="o">[]</span> <span class="n">ta</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">){</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ta</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">ta</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ta</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="c1">//给我一个class文件，一个generator，我填充数组</span>
    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">V</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">){</span>
        <span class="n">V</span><span class="o">[]</span> <span class="n">v</span><span class="o">=(</span><span class="n">V</span><span class="o">[])</span><span class="n">Array</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">c</span><span class="o">,</span><span class="n">size</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">size</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">v</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">v</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-18">Exercise 18</h4>
<ul>
  <li><strong>Exercise 18</strong>: (3) Create and fill an array of BerylliumSphere. Copy this array to a new array and show that it’s a shallow copy.</li>
</ul>

<h5 id="spherejava-1">Sphere.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sphere</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">=++</span><span class="n">count</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(){</span><span class="k">return</span> <span class="s">"Sphere "</span><span class="o">+</span><span class="n">id</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">int</span> <span class="n">inNum</span><span class="o">){</span><span class="n">id</span><span class="o">=</span><span class="n">inNum</span><span class="o">;}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="exercise18java">Exercise18.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise18</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">sa1</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Sphere</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">SphereGenerator</span><span class="o">(),</span><span class="mi">5</span><span class="o">);</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">sa2</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Sphere</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">SphereGenerator</span><span class="o">(),</span><span class="mi">10</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Array 1:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa1</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Array 2:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa2</span><span class="o">));</span>

        <span class="c1">//从sa1数组的2号下标的元素开始的3个元素，复制到sa2数组的5号下标开始的3个槽位。</span>
        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">sa1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="n">sa2</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Array 2:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa2</span><span class="o">));</span>

        <span class="c1">//把sa1数组的3号下标的元素id改成100。</span>
        <span class="n">sa1</span><span class="o">[</span><span class="mi">3</span><span class="o">].</span><span class="na">setId</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Array 2:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa2</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="generatedjava-3">Generated.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Generated</span><span class="o">{</span>

    <span class="c1">//给一个数组一个generator，我填充数组</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">T</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">T</span><span class="o">[]</span> <span class="n">ta</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">){</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ta</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">ta</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ta</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="c1">//给我一个class文件，一个generator，我填充数组</span>
    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">V</span><span class="o">[]</span> <span class="nf">array</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">,</span> <span class="n">Generator</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">gen</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">){</span>
        <span class="n">V</span><span class="o">[]</span> <span class="n">v</span><span class="o">=(</span><span class="n">V</span><span class="o">[])</span><span class="n">Array</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">c</span><span class="o">,</span><span class="n">size</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">size</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">v</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">gen</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">v</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-19">Exercise 19</h4>
<ul>
  <li><strong>Exercise 19</strong>: (2) Create a class with an int field that’s initialized from a constructor argument. Create two arrays of these objects, using identical initialization values for each array, and show that Arrays.equals( ) says that they are unequal. Add an equals( ) method to your class to fix the problem.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">EleToCompare</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">item</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">EleToCompare</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">){</span>
        <span class="n">item</span><span class="o">=</span><span class="n">n</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">o</span> <span class="k">instanceof</span> <span class="n">EleToCompare</span><span class="o">){</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">item</span><span class="o">==((</span><span class="n">EleToCompare</span><span class="o">)</span><span class="n">o</span><span class="o">).</span><span class="na">item</span><span class="o">;</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

    <span class="o">}</span>
	<span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise19</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">EleToCompare</span><span class="o">[]</span> <span class="n">ea1</span><span class="o">=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">[</span><span class="mi">5</span><span class="o">];</span>
        <span class="n">EleToCompare</span><span class="o">[]</span> <span class="n">ea2</span><span class="o">=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">[</span><span class="mi">5</span><span class="o">];</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">ea1</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
            <span class="n">ea2</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ea1</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="n">ea2</span><span class="o">[</span><span class="mi">1</span><span class="o">]));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">ea1</span><span class="o">,</span><span class="n">ea2</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-20">Exercise 20</h4>
<ul>
  <li><strong>Exercise 20</strong>: (4) Demonstrate deepEquals( ) for multidimensional arrays.</li>
</ul>

<h5 id="exercise20java">Exercise20.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise20</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">EleToCompare</span><span class="o">[][]</span> <span class="n">d1</span><span class="o">=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">[</span><span class="mi">3</span><span class="o">][</span><span class="mi">3</span><span class="o">];</span>
        <span class="n">EleToCompare</span><span class="o">[][]</span> <span class="n">d2</span><span class="o">=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">[</span><span class="mi">3</span><span class="o">][</span><span class="mi">3</span><span class="o">];</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">d1</span><span class="o">[</span><span class="n">i</span><span class="o">],</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">(</span><span class="mi">10</span><span class="o">));</span>
            <span class="n">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">d2</span><span class="o">[</span><span class="n">i</span><span class="o">],</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">(</span><span class="mi">10</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">deepEquals</span><span class="o">(</span><span class="n">d1</span><span class="o">,</span><span class="n">d2</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="eletocomparejava">EleToCompare.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EleToCompare</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">item</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">EleToCompare</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">){</span>
        <span class="n">item</span><span class="o">=</span><span class="n">n</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">o</span> <span class="k">instanceof</span> <span class="n">EleToCompare</span><span class="o">){</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">item</span><span class="o">==((</span><span class="n">EleToCompare</span><span class="o">)</span><span class="n">o</span><span class="o">).</span><span class="na">item</span><span class="o">;</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-21">Exercise 21</h4>
<ul>
  <li><strong>Exercise 21</strong>: (3) Try to sort an array of the objects in Exercise 18. Implement Comparable to fix the problem. Now create a Comparator to sort the objects into reverse order.</li>
</ul>

<h5 id="spherejava-2">Sphere.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sphere</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">=++</span><span class="n">count</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(){</span><span class="k">return</span> <span class="s">"Sphere "</span><span class="o">+</span><span class="n">id</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">int</span> <span class="n">inNum</span><span class="o">){</span><span class="n">id</span><span class="o">=</span><span class="n">inNum</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getId</span><span class="o">(){</span><span class="k">return</span> <span class="n">id</span><span class="o">;}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="spherecomparatorjava">SphereComparator.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SphereComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Sphere</span><span class="o">&gt;{</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Sphere</span> <span class="n">s1</span><span class="o">,</span> <span class="n">Sphere</span> <span class="n">s2</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">s1</span><span class="o">.</span><span class="na">getId</span><span class="o">()-</span><span class="n">s2</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="exercise21java">Exercise21.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise21</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">sa1</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Sphere</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">SphereGenerator</span><span class="o">(),</span><span class="mi">5</span><span class="o">);</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">sa2</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Sphere</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">SphereGenerator</span><span class="o">(),</span><span class="mi">10</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">sa1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="n">sa2</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">sa1</span><span class="o">[</span><span class="mi">3</span><span class="o">].</span><span class="na">setId</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>

        <span class="c1">//未排序前</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Before Sort:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa2</span><span class="o">));</span>

        <span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">sa2</span><span class="o">,</span> <span class="k">new</span> <span class="n">SphereComparator</span><span class="o">());</span>

        <span class="c1">//排序后</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"After Sort:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa2</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-22">Exercise 22</h4>

<h5 id="exercise22java">Exercise22.java</h5>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise22</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">sa1</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Sphere</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">SphereGenerator</span><span class="o">(),</span><span class="mi">5</span><span class="o">);</span>
        <span class="n">Sphere</span><span class="o">[]</span> <span class="n">sa2</span><span class="o">=</span><span class="n">Generated</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">Sphere</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="k">new</span> <span class="n">SphereGenerator</span><span class="o">(),</span><span class="mi">10</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">sa1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="n">sa2</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">sa1</span><span class="o">[</span><span class="mi">3</span><span class="o">].</span><span class="na">setId</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>

        <span class="c1">//未排序前</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Before Sort:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa2</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">binarySearch</span><span class="o">(</span><span class="n">sa2</span><span class="o">,</span><span class="n">sa2</span><span class="o">[</span><span class="mi">5</span><span class="o">],</span><span class="k">new</span> <span class="n">SphereComparator</span><span class="o">()));</span>

        <span class="c1">//排序后</span>
        <span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">sa2</span><span class="o">,</span> <span class="k">new</span> <span class="n">SphereComparator</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"After Sort:    "</span><span class="o">+</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">sa2</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">binarySearch</span><span class="o">(</span><span class="n">sa2</span><span class="o">,</span><span class="n">sa2</span><span class="o">[</span><span class="mi">5</span><span class="o">],</span><span class="k">new</span> <span class="n">SphereComparator</span><span class="o">()));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="spherecomparatorjava-1">SphereComparator.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SphereComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Sphere</span><span class="o">&gt;{</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Sphere</span> <span class="n">s1</span><span class="o">,</span> <span class="n">Sphere</span> <span class="n">s2</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">s1</span><span class="o">.</span><span class="na">getId</span><span class="o">()-</span><span class="n">s2</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-23">Exercise 23</h4>
<ul>
  <li><strong>Exercise 23</strong>: (2) Create an array of Integer, fill it with random int values (using autoboxing), and sort it into reverse order using a Comparator.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise23</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Integer</span><span class="o">[]</span> <span class="n">ia</span><span class="o">=</span><span class="k">new</span> <span class="n">Integer</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
        <span class="n">Random</span> <span class="n">rand</span><span class="o">=</span><span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ia</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">ia</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">rand</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">10000</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">ia</span><span class="o">,</span> <span class="n">Collections</span><span class="o">.</span><span class="na">reverseOrder</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">ia</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-24">Exercise 24</h4>
<ul>
  <li><strong>Exercise 24</strong>: (3) Show that the class from Exercise 19 can be searched.</li>
</ul>

<h5 id="eletocomparajava">EleToCompara.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EleToCompare</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">item</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">EleToCompare</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">){</span>
        <span class="n">item</span><span class="o">=</span><span class="n">n</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getItem</span><span class="o">(){</span><span class="k">return</span> <span class="n">item</span><span class="o">;}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">o</span> <span class="k">instanceof</span> <span class="n">EleToCompare</span><span class="o">){</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">item</span><span class="o">==((</span><span class="n">EleToCompare</span><span class="o">)</span><span class="n">o</span><span class="o">).</span><span class="na">item</span><span class="o">;</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="eletocomparacomparatorjava">EleToComparaComparator.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EleToCompareComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">EleToCompare</span><span class="o">&gt;{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">EleToCompare</span> <span class="n">e1</span><span class="o">,</span> <span class="n">EleToCompare</span> <span class="n">e2</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">e1</span><span class="o">.</span><span class="na">getItem</span><span class="o">()-</span><span class="n">e2</span><span class="o">.</span><span class="na">getItem</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="exercise24java">Exercise24.java</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise24</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">EleToCompare</span><span class="o">[]</span> <span class="n">ea1</span><span class="o">=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">ea1</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">ea1</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">ea1</span><span class="o">,</span><span class="k">new</span> <span class="n">EleToCompareComparator</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">binarySearch</span><span class="o">(</span><span class="n">ea1</span><span class="o">,</span><span class="k">new</span> <span class="n">EleToCompare</span><span class="o">(</span><span class="mi">6</span><span class="o">),</span><span class="k">new</span> <span class="n">EleToCompareComparator</span><span class="o">()));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="exercise-25">Exercise 25</h4>
<ul>
  <li><strong>Exercise 25</strong>: (3) Rewrite PythonLists.py in Java.</li>
</ul>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">thinkinjava</span><span class="o">.</span><span class="na">chapter16</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exercise25</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">i</span><span class="o">={</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">};</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="na">getClass</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">[</span><span class="mi">4</span><span class="o">]);</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">i2</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">6</span><span class="o">];</span>
        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">i</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">i2</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">i</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="n">i2</span><span class="o">[</span><span class="mi">5</span><span class="o">]=</span><span class="mi">6</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">i3</span><span class="o">={</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">};</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">i4</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">8</span><span class="o">];</span>
        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">i2</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">i4</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">i2</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">i3</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">i4</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="n">i3</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">i4</span><span class="o">));</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">i5</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">];</span>
        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">i4</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="n">i5</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">2</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">i5</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

        <div class="after-post"></div> <!-- 文章结尾，和Disqus留一些间隔。-->
        <script>
            $("div.after-post").css("margin-bottom","50px");
        </script>

        <!-- Disqus plugin -->
        <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = /java/thinking_in_java/data_structure/2016/09/05/tij4-16.html;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = /java/thinking_in_java/data_structure/2016/09/05/tij4-16; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//www-ciaoshen-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
    <!-- .container -->


    <!-- footer bar -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<footer>
    <!-- Don't show tag cloud
    <div class="footer" id="footer">
        <div class="container">
            <div id="tags-cloud-title">
            <div class="row">
                <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12">
                    <h2>Tag Cloud</h2>
                </div>
            </div>
            </div>
            <div id="tags-cloud" class="row">
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_String" href="/tags/String.html">
                        String
                        <span class="badge">5</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Memory_Model" href="/tags/Memory_Model.html">
                        Memory_Model
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JVM" href="/tags/JVM.html">
                        JVM
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hexo" href="/tags/Hexo.html">
                        Hexo
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Github" href="/tags/Github.html">
                        Github
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Blog" href="/tags/Blog.html">
                        Blog
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Git" href="/tags/Git.html">
                        Git
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JDK" href="/tags/JDK.html">
                        JDK
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JRE" href="/tags/JRE.html">
                        JRE
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IDE" href="/tags/IDE.html">
                        IDE
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_OOP" href="/tags/OOP.html">
                        OOP
                        <span class="badge">7</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Initialization" href="/tags/Initialization.html">
                        Initialization
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Control_Flow" href="/tags/Control_Flow.html">
                        Control_Flow
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_GC" href="/tags/GC.html">
                        GC
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Access_Control" href="/tags/Access_Control.html">
                        Access_Control
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Package" href="/tags/Package.html">
                        Package
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Inheritance" href="/tags/Inheritance.html">
                        Inheritance
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Composition" href="/tags/Composition.html">
                        Composition
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Factory_Pattern" href="/tags/Factory_Pattern.html">
                        Factory_Pattern
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Polymorphism" href="/tags/Polymorphism.html">
                        Polymorphism
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Late_Binding" href="/tags/Late_Binding.html">
                        Late_Binding
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_State_Pattern" href="/tags/State_Pattern.html">
                        State_Pattern
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Interface" href="/tags/Interface.html">
                        Interface
                        <span class="badge">5</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Abstract_Class" href="/tags/Abstract_Class.html">
                        Abstract_Class
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Strategy_Pattern" href="/tags/Strategy_Pattern.html">
                        Strategy_Pattern
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Inner_Class" href="/tags/Inner_Class.html">
                        Inner_Class
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Callback" href="/tags/Callback.html">
                        Callback
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Closure" href="/tags/Closure.html">
                        Closure
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Lambda_Expression" href="/tags/Lambda_Expression.html">
                        Lambda_Expression
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Container" href="/tags/Container.html">
                        Container
                        <span class="badge">9</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Array" href="/tags/Array.html">
                        Array
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hash" href="/tags/Hash.html">
                        Hash
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Exception" href="/tags/Exception.html">
                        Exception
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IO" href="/tags/IO.html">
                        IO
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Regular_Expression" href="/tags/Regular_Expression.html">
                        Regular_Expression
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Reflection" href="/tags/Reflection.html">
                        Reflection
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Career_Path" href="/tags/Career_Path.html">
                        Career_Path
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Immutability" href="/tags/Immutability.html">
                        Immutability
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Dynamic_Proxies" href="/tags/Dynamic_Proxies.html">
                        Dynamic_Proxies
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Generics" href="/tags/Generics.html">
                        Generics
                        <span class="badge">8</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Adapter_Pattern" href="/tags/Adapter_Pattern.html">
                        Adapter_Pattern
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Wildcards" href="/tags/Wildcards.html">
                        Wildcards
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_PESC" href="/tags/PESC.html">
                        PESC
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Covariant" href="/tags/Covariant.html">
                        Covariant
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_View" href="/tags/View.html">
                        View
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Iterator" href="/tags/Iterator.html">
                        Iterator
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Fly_Weight" href="/tags/Fly_Weight.html">
                        Fly_Weight
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_LinkedList" href="/tags/LinkedList.html">
                        LinkedList
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Weak_Reference" href="/tags/Weak_Reference.html">
                        Weak_Reference
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Phantom_Reference" href="/tags/Phantom_Reference.html">
                        Phantom_Reference
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_HashMap" href="/tags/HashMap.html">
                        HashMap
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_File" href="/tags/File.html">
                        File
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Stream" href="/tags/Stream.html">
                        Stream
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Encapsulation" href="/tags/Encapsulation.html">
                        Encapsulation
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Unicode" href="/tags/Unicode.html">
                        Unicode
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_UTF-8" href="/tags/UTF-8.html">
                        UTF-8
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_ASCII" href="/tags/ASCII.html">
                        ASCII
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Encoding" href="/tags/Encoding.html">
                        Encoding
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Charset" href="/tags/Charset.html">
                        Charset
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_CPU" href="/tags/CPU.html">
                        CPU
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Process" href="/tags/Process.html">
                        Process
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Block" href="/tags/Block.html">
                        Block
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Logic_Gates" href="/tags/Logic_Gates.html">
                        Logic_Gates
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_NIO" href="/tags/NIO.html">
                        NIO
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Enum" href="/tags/Enum.html">
                        Enum
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Table_Driven" href="/tags/Table_Driven.html">
                        Table_Driven
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Annotations" href="/tags/Annotations.html">
                        Annotations
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hibernate" href="/tags/Hibernate.html">
                        Hibernate
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JUnit" href="/tags/JUnit.html">
                        JUnit
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Spring" href="/tags/Spring.html">
                        Spring
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Syntactic sugar" href="/tags/Syntactic sugar.html">
                        Syntactic sugar
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_AOP" href="/tags/AOP.html">
                        AOP
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Concurrency" href="/tags/Concurrency.html">
                        Concurrency
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Thread" href="/tags/Thread.html">
                        Thread
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_DJ" href="/tags/DJ.html">
                        DJ
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IOC" href="/tags/IOC.html">
                        IOC
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Interrupt" href="/tags/Interrupt.html">
                        Interrupt
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_HTML" href="/tags/HTML.html">
                        HTML
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_CSS" href="/tags/CSS.html">
                        CSS
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Javascript" href="/tags/Javascript.html">
                        Javascript
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JQuery" href="/tags/JQuery.html">
                        JQuery
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Sass" href="/tags/Sass.html">
                        Sass
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Responsive_Design" href="/tags/Responsive_Design.html">
                        Responsive_Design
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Code_Style" href="/tags/Code_Style.html">
                        Code_Style
                        <span class="badge">15</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Builder_Pattern" href="/tags/Builder_Pattern.html">
                        Builder_Pattern
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Instance_Control" href="/tags/Instance_Control.html">
                        Instance_Control
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Singleton" href="/tags/Singleton.html">
                        Singleton
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Comparable" href="/tags/Comparable.html">
                        Comparable
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Clone" href="/tags/Clone.html">
                        Clone
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_API" href="/tags/API.html">
                        API
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Template_Pattern" href="/tags/Template_Pattern.html">
                        Template_Pattern
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Jekyll" href="/tags/Jekyll.html">
                        Jekyll
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Bootstrap" href="/tags/Bootstrap.html">
                        Bootstrap
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_SSH" href="/tags/SSH.html">
                        SSH
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_RSA" href="/tags/RSA.html">
                        RSA
                        <span class="badge">1</span>
                        </a>
                    </div>
                
            </div>
        </div>
    </div>
    don't need tag cloud here -->

    <div class="footer-bottom">
        <div class="container">
            <p class="pull-left"> Copyright © <b>Wei SHEN</b> &nbsp | &nbsp Designed by <b>Wei SHEN</b> &nbsp | &nbsp Coded by <b>Wei SHEN</b> &nbsp | &nbsp 2015-2017. All right reserved.  &nbsp | &nbsp  Contact me: <b>symantec__@hotmail.com</b> </p>
            <div class="pull-right">
                <ul class="social">

                </ul>
            </div>
        </div>
    </div>
    <!--/.footer-bottom-->
</footer>



    <!-- Bootstrap Core JavaScript -->
    <script src="/assets/js/bootstrap.min.js"></script>
    <!-- Add space between two paragraph -->
    <script src="/assets/js/span.js"></script>
    <!-- Adjust images size -->
    <script src="/assets/js/imgResponsive.js"></script>
    <!-- Disqus comment count plugin -->
    <script id="dsq-count-scr" src="//www-ciaoshen-com.disqus.com/count.js" async></script>

</body>

</html>
