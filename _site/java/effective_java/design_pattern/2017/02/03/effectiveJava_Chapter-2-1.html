<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Thinking {SHEN}</title>

    <!-- Bootstrap Core CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Blog Template CSS -->
    <link href="/assets/css/blog.css" rel="stylesheet">
    <!-- jQuery Version 1.11.1 -->
    <script src="/assets/js/jquery.js"></script>
    <!-- footer bar -->
    <link href="/assets/css/footer.css" rel="stylesheet">
    <!-- code highlight. I also have other options. But this one looks good! -->
    <link href="/assets/css/jekyll-github.css" rel="stylesheet">
    <!-- Sidebar -->
    <!--<link href="/assets/css/sidebar.css" rel="stylesheet">-->


    <!-- Custom CSS -->
    <style>
        body {
            padding-top: 70px;
            /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
        }
        .container {
            width: 80%;
        }
    </style>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="">Thinking {SHEN}</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="/resume/">Resume</a>
                    </li>
                    <li>
                        <a href="/thinkinginjava/">Thinking in Java</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Container -->
    <div class="container">

        <!-- Page Title -->
        <div class="text-center">
      <!-- page-header是Bootstrap内置页头组件 -->
      <div class="page-header">
          <h1>[Effective Java] Note: - Chapter-2-1: Create Instances with Factory Method or Builder Pattern</h1>
      </div>
      <h5 class="blog-post-meta">
                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> &nbsp
                2017-02-03 00:00:00 -0500
                &nbsp | &nbsp
                <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> &nbsp
            
                <a href="/categories/Java.html"><span class="label label-primary"><b>Java</b></span></a>
                &nbsp
            
                <a href="/categories/Effective_Java.html"><span class="label label-primary"><b>Effective_Java</b></span></a>
                &nbsp
            
                <a href="/categories/Design_Pattern.html"><span class="label label-primary"><b>Design_Pattern</b></span></a>
                &nbsp
            
                &nbsp | &nbsp
                <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> &nbsp
                <a href="#disqus_thread "></a>
      </h5>
      <h5 class="blog-post-meta">
          <span class="glyphicon glyphicon-tags" aria-hidden="true"></span> &nbsp
          
              <a href="/tags/Code_Style.html"><span class="label label-default">Code_Style</span></a>
              &nbsp
          
              <a href="/tags/Factory_Pattern.html"><span class="label label-default">Factory_Pattern</span></a>
              &nbsp
          
              <a href="/tags/Builder_Pattern.html"><span class="label label-default">Builder_Pattern</span></a>
              &nbsp
          
      </h5>
</div>


        <!-- Page Content -->
        <h3 id="静态工厂方法">静态工厂方法</h3>
<p>某个类的静态方法负责返回自身类型的实例，就是一个典型的静态工厂方法。书上举了一个Boolean的例子，<code class="highlighter-rouge">valueOf()</code>方法负责将<code class="highlighter-rouge">boolean</code>基本型转型成<code class="highlighter-rouge">Boolean</code>包装类。这个方法的实际工作就是分配<code class="highlighter-rouge">Boolean</code>型的实例。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="n">Boolean</span> <span class="nf">valueOf</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">b</span><span class="o">?</span> <span class="n">Boolean</span><span class="o">.</span><span class="na">TRUE</span> <span class="o">:</span> <span class="n">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
</div>
<p>仔细想想<code class="highlighter-rouge">Collection</code>中返回迭代器的<code class="highlighter-rouge">iterator()</code>和<code class="highlighter-rouge">Map</code>中返回<code class="highlighter-rouge">Map.Entry</code>的<code class="highlighter-rouge">entrySet()</code>方法都是静态工厂方法的例子。</p>

<p>静态工厂方法的本质就是，由静态方法负责实例的生产。这不是多此一举，而是 <strong>提供了相当的灵活性</strong>。</p>

<h4 id="首先静态工厂方法有名称">首先，静态工厂方法有名称</h4>
<p>构造器不能选择自己的名称。但静态工厂方法可以。比如一个<code class="highlighter-rouge">Number</code>类，构造器只能叫<code class="highlighter-rouge">Number</code>。但静态工厂方法可以叫:<code class="highlighter-rouge">Odd()</code>,<code class="highlighter-rouge">Even()</code>,<code class="highlighter-rouge">Prime()</code>,<code class="highlighter-rouge">Fibonacci()</code>等等等等。甚至还省去了派生子类的麻烦。</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Number</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nf">Number</span><span class="o">(){</span> <span class="c1">// 构造器</span>
        <span class="c1">// code</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Number</span> <span class="nf">odd</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// 生产奇数</span>
        <span class="c1">// code</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Number</span> <span class="nf">even</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// 生产偶数</span>
        <span class="c1">// code</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Number</span> <span class="nf">prime</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// 生产素数</span>
        <span class="c1">// code</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Number</span> <span class="nf">fibonacci</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// 甚至是斐波那契数列</span>
        <span class="c1">// code</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="第二静态工厂方法可以返回子类型的实例">第二，静态工厂方法可以返回子类型的实例</h4>
<p>虽然方法定义返回的是目标类的实例，但如果返回的是目标类的子类型，编译器也是接受的。这又提供了和可观的灵活性。</p>

<p>下面的例子，除了返回子类的灵活性，更重要的是，子类被完全向用户隐藏了。用户只能通过静态工厂方法来使用三个子类。</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Shape</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">extends</span> <span class="n">Shape</span> <span class="o">{}</span>
    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Triangle</span> <span class="kd">extends</span> <span class="n">Shape</span> <span class="o">{}</span>
    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Hexagon</span> <span class="kd">extends</span> <span class="n">Shape</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Shape</span> <span class="nf">circle</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Circle</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Shape</span> <span class="nf">triangle</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Triangle</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Shape</span> <span class="nf">hexagon</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Hexagon</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="第三静态工厂不必每次都真的创建一个新实例">第三，静态工厂不必每次都真的创建一个新实例</h4>
<p>完全可以是 <strong>返回之前预存好的有限实例</strong>。这也被称为实例受控技术（instance-control）。如果创建某个实例的开销非常大，或者系统希望只存在数量有限个目标类实例的情况下，静态工厂方法就能派上用场。</p>

<p>注意，如果需要控制实例数量的话，可以将构造器设为私有，仅公开静态工厂方法。</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Number</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Random</span> <span class="n">R</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Number</span><span class="o">[]</span> <span class="n">FIBO</span><span class="o">;</span> <span class="c1">// 仅有的几个Number实例</span>
    <span class="kd">static</span> <span class="o">{</span>
        <span class="n">Number</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">Number</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="n">Number</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">Number</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="n">Number</span> <span class="n">e</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">(</span><span class="mi">8</span><span class="o">);</span>
        <span class="n">Number</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">(</span><span class="mi">13</span><span class="o">);</span>
        <span class="n">Number</span> <span class="n">g</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">(</span><span class="mi">21</span><span class="o">);</span>
        <span class="n">FIBO</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Number</span><span class="o">[]</span> <span class="o">{</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">,</span><span class="n">c</span><span class="o">,</span><span class="n">d</span><span class="o">,</span><span class="n">e</span><span class="o">,</span><span class="n">f</span><span class="o">,</span><span class="n">g</span><span class="o">};</span>
    <span class="o">}</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="n">num</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nf">Number</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">num</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Number</span> <span class="nf">fibonacci</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// 静态工厂方法返回缓存的fibonacci数列值</span>
        <span class="k">return</span> <span class="n">FIBO</span><span class="o">[</span><span class="n">R</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">FIBO</span><span class="o">.</span><span class="na">length</span><span class="o">)];</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="第四创建泛型实例更简洁">第四，创建泛型实例更简洁</h4>
<p>因为系统提供了泛型类型参数推断。比如下面这个静态工厂方法返回<code class="highlighter-rouge">Map&lt;K,V&gt;</code>。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">K</span><span class="o">,</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">K</span><span class="o">,</span><span class="n">V</span><span class="o">&gt;</span> <span class="nf">newInstance</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">K</span><span class="o">,</span><span class="n">V</span><span class="o">&gt;();</span>
<span class="o">}</span>
</code></pre>
</div>
<p>调用的时候只需要写：</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">HashMap</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
</code></pre>
</div>

<h4 id="抽象工厂方法的缺点">抽象工厂方法的缺点</h4>
<ol>
  <li>如果构造器被私有化，就不能派生子类。</li>
  <li>方法太多，用户不好查阅。静态方法没有被特殊标出。</li>
</ol>

<h4 id="引申一下">引申一下</h4>
<h5 id="基于接口的框架interface-based-framework">基于接口的框架（interface-based framework）</h5>
<p>基于接口的框架很帅，很适合向用户提供API：</p>
<ol>
  <li>只向用户提供一组很简洁的接口<code class="highlighter-rouge">Type</code>。</li>
  <li>一组静态工厂方法以这组接口为返回类型。</li>
  <li>但静态工厂方法返回的实际类型不向用户公开。</li>
  <li>这组静态工厂方法被放置在一个叫<code class="highlighter-rouge">Types</code>的不可实例化类。</li>
</ol>

<p>比如<code class="highlighter-rouge">java.util</code>包里，针对一组公共接口<code class="highlighter-rouge">Collection</code>，便利方法类<code class="highlighter-rouge">Collections</code>通过静态工厂方法，向用户提供了几个具有特殊功能的容器，比如<code class="highlighter-rouge">UnmodifiableCollection</code>和<code class="highlighter-rouge">SynchronizedCollection</code>。</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>static &lt;T&gt; Collection&lt;T&gt;	unmodifiableCollection<span class="o">(</span>Collection&lt;? extends T&gt; c<span class="o">)</span>
static &lt;T&gt; Collection&lt;T&gt;	synchronizedCollection<span class="o">(</span>Collection&lt;T&gt; c<span class="o">)</span>
</code></pre>
</div>
<p>但用户却接触不到上述两个类。因为他们仅仅作为<code class="highlighter-rouge">Collections</code>类的内部类存在，并没有向用户公开。获得他们的唯一途径就是上述<code class="highlighter-rouge">Collections</code>类中的这两个静态工厂方法。而且，还是作为统一的<code class="highlighter-rouge">Collection</code>接口实例返回的。</p>

<p><code class="highlighter-rouge">Java Collections Framework</code>提供了32个这样的便利实现，但却没有增加<code class="highlighter-rouge">Collection</code>公共接口的复杂度。</p>

<h5 id="服务提供者框架service-provider-interface">服务提供者框架（Service Provider Interface）</h5>
<p>P6-7，请查阅书籍。</p>

<h3 id="增强实例构造过程的可读性">增强实例构造过程的可读性</h3>
<p>当一个类有很多个域，实例的构造器会有多个参数，而且构造器的数量也会大量增加。这时候有些常用手段，可以增强构造过程的清晰度。其中 <strong>Builder模式是最好的</strong>。</p>

<h4 id="重叠构造器telescoping-constructor还不够简便">重叠构造器（Telescoping Constructor）：还不够简便</h4>
<p>这样的重叠构造器是一个比较朴素的解决办法，<strong>参数较少的构造器可以利用某些参数较为完整的构造器，配上某些字段的默认值</strong>。可以让我们少打一点字。但重叠构造器的缺点是还不够简便。参数很多的时候，光要理解很多个版本的构造器就很累，而且还是会有一长串的参数。</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">effectivejava</span><span class="o">.</span><span class="na">chapter2</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TelescopingConstructor</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Dog</span> <span class="o">{</span>
        <span class="c1">// Dog有不少域</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">category</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">color</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">weight</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
        <span class="c1">// 重叠式构造器： 参数少的构造器给出了部分域的默认值</span>
        <span class="kd">public</span> <span class="nf">Dog</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">(</span><span class="s">"Wong"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="nf">Dog</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="s">"normal"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="nf">Dog</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">category</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="nf">Dog</span><span class="o">(</span><span class="kt">int</span> <span class="n">color</span><span class="o">,</span> <span class="kt">int</span> <span class="n">weight</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">(</span><span class="s">"Wong"</span><span class="o">,</span> <span class="s">"normal"</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="n">weight</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="nf">Dog</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">category</span><span class="o">,</span> <span class="kt">int</span> <span class="n">color</span><span class="o">,</span> <span class="kt">int</span> <span class="n">weight</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="n">category</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">weight</span> <span class="o">=</span> <span class="n">weight</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="javabeans模式可读性好但不安全">JavaBeans模式：可读性好，但不安全</h4>
<p>JavaBeans模式也可以简化构造复杂度。<strong>它给部分或者全部域都配备了专门用来赋值的访问方法</strong>。先调用无参数构造器，构造一个由默认值构成的对象，然后用域访问方法为每个域赋值。</p>

<p>JavaBeans模式的两大优点是：</p>
<ol>
  <li>构建实例的 <strong>灵活性</strong>。给Builder设置参数，可以构建各式各样的实例。</li>
  <li>客户端构建实例代码的 <strong>可读性</strong>。把实例构造过程一步步分开，更直观易懂。</li>
</ol>

<p>下面的代码演示了JavaBeans模式是怎么工作的，</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">JavaBeans</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Dog</span> <span class="o">{</span>
        <span class="c1">// 有很多域</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"Wong"</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">category</span> <span class="o">=</span> <span class="s">"Normal"</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="n">color</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="c1">// 域的访问方法</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span> <span class="o">}</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCategory</span><span class="o">(</span><span class="n">String</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="n">category</span><span class="o">;</span> <span class="o">}</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setColor</span><span class="o">(</span><span class="kt">int</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span> <span class="o">}</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setWeight</span><span class="o">(</span><span class="kt">int</span> <span class="n">weight</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">weight</span> <span class="o">=</span> <span class="n">weight</span><span class="o">;</span> <span class="o">}</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span> <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>
<p>下面是客户端的对象初始化代码，一步步构建对象，代码好写而且好理解。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Dog</span> <span class="n">myPuppy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dog</span><span class="o">();</span>
        <span class="n">myPuppy</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Piu Piu"</span><span class="o">);</span>
        <span class="n">myPuppy</span><span class="o">.</span><span class="na">setCategory</span><span class="o">(</span><span class="s">"Hot Dog"</span><span class="o">);</span>
        <span class="n">myPuppy</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="n">myPuppy</span><span class="o">.</span><span class="na">setWeight</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
        <span class="n">myPuppy</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myPuppy</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre>
</div>
<p>但JavaBeans的缺点同样明显，</p>
<ol>
  <li><strong>首先，它增加了产生不完整对象的可能</strong>。构造过程被分到了几个不同的调用中，变相拉长了构造过程的生命周期，增加程序员管理的难度。</li>
  <li><strong>它牺牲了对象的不可变性</strong>。域无法用final修饰，而且必须向用户暴露用于修改域的访问方法。安全性打了折扣。</li>
</ol>

<h4 id="builder模式builder就像一个雕版可以用来批量印刷实例">Builder模式：Builder就像一个雕版，可以用来批量印刷实例</h4>
<p><strong>JavaBeans是用setter访问方法直接构造对象。而Builder类是目标类的一个模型，构造过程先在模型上逐步实行，等完成以后，复制模型就可以生产出目标类的对象实例。</strong></p>

<p>所以Builder模式保留了JavaBeans模式可读性的优点，可以慢慢雕琢每个实例，但雕琢的过程又不在目标类上完成，雕琢的是Builder模型，最后再复制模型去生产目标类实例，所以目标类实例可以是一次成型，既缩短了最后目标类构造过程的生命周期，而且对象也可以是不可变的。</p>

<p>另一个巧妙的地方时，Builder的setter方法返回Builder本身，以便把调用连接起来。下面的代码是一个简单示例，<code class="highlighter-rouge">Dog</code>类有5个域，静态内部类DogBuilder模拟了这5个域，并给每个域配备了专属的setter方法。<code class="highlighter-rouge">Dog</code>类构造器必须接收一个Builder类为参数。为了构造<code class="highlighter-rouge">Dog</code>类，我们必须得先构造一个<code class="highlighter-rouge">DogBuilder</code>类。<code class="highlighter-rouge">DogBuilder</code>构造好之后，最后的<code class="highlighter-rouge">build()</code>方法调用了<code class="highlighter-rouge">Dog</code>类的构造方法，返回一个<code class="highlighter-rouge">Dog</code>实例。</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Builder</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Dog</span> <span class="o">{</span>
        <span class="c1">// 不可变的域</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">category</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">color</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">weight</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
        <span class="c1">// Dog的构造器面向的是静态内部类DogBuilder，实际上就是复制Builder构造好的信息</span>
        <span class="kd">public</span> <span class="nf">Dog</span><span class="o">(</span><span class="n">DogBuilder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
            <span class="n">category</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">category</span><span class="o">;</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">color</span><span class="o">;</span>
            <span class="n">weight</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">weight</span><span class="o">;</span>
            <span class="n">age</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">age</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">"Dog: "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Category: "</span> <span class="o">+</span> <span class="n">category</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Color: "</span> <span class="o">+</span> <span class="n">color</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Weight: "</span> <span class="o">+</span> <span class="n">weight</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Age: "</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">DogBuilder</span> <span class="o">{</span>
            <span class="c1">// Builder中模拟Dog类的域</span>
            <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"Wong"</span><span class="o">;</span>
            <span class="kd">private</span> <span class="n">String</span> <span class="n">category</span> <span class="o">=</span> <span class="s">"Normal"</span><span class="o">;</span>
            <span class="kd">private</span> <span class="kt">int</span> <span class="n">color</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="kd">private</span> <span class="kt">int</span> <span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="c1">// 每个域都有一个专属的setter方法</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setCategory</span><span class="o">(</span><span class="n">String</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="n">category</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setColor</span><span class="o">(</span><span class="kt">int</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setWeight</span><span class="o">(</span><span class="kt">int</span> <span class="n">weight</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">weight</span> <span class="o">=</span> <span class="n">weight</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="c1">// build()方法调用Dog的构造器复制对象</span>
            <span class="kd">public</span> <span class="n">Dog</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">Dog</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>
<p>对setter方法的调用形成一个链条。这模拟了具名的可选参数。</p>
<div class="language-java highlighter-rouge"><pre class="highlight"><code>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Dog</span> <span class="n">myPuppy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">DogBuilder</span><span class="o">().</span><span class="na">setName</span><span class="o">(</span><span class="s">"Piu Piu"</span><span class="o">).</span><span class="na">setCategory</span><span class="o">(</span><span class="s">"Hot Dog"</span><span class="o">).</span><span class="na">setColor</span><span class="o">(</span><span class="mi">5</span><span class="o">).</span><span class="na">setWeight</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="na">setAge</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myPuppy</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre>
</div>

<h5 id="builder模式的优点总结">Builder模式的优点总结</h5>
<ol>
  <li>构造代码直观易读，是它和JavaBeans共同的优点。</li>
  <li>Builder提供了最大的灵活性。明显比一个构造器，或者一个静态方法能做的更多。有时甚至省去了派生子类的麻烦。</li>
</ol>

<h5 id="builder模式的缺点-开销稍大一些">Builder模式的缺点: 开销稍大一些</h5>
<p>Builder模式既易读，又安全。缺点就是 <strong>开销稍微大一些</strong>。因为在构建目标类实例之前，先得构造一个Builder实例。大部分情况下这无关痛痒，除了某些特别注重性能的情况。</p>

<h4 id="builder模式和虚拟工厂模式结合提供足够的灵活性以及统一的接口">“Builder模式”和“虚拟工厂”模式结合：提供足够的灵活性，以及统一的接口</h4>
<p>Builder提供了足够的差异性灵活性，以及实例控制，如果再利用虚拟工厂可以向用户提供一个统一的接口，就更完美。</p>

<p>下面这个代码正好演示了Builder提供的这种创建实例时的灵活性，甚至比直接派生子类还有效。以及向用户提供一个虚拟工厂接口以后，让客户端代码得到的真正的简便。仔细阅读代码里的注释。</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 * Effective Java Chapter 2
 * Builder的优势不仅仅在于让实例创建过程变得简洁明了。
 * 更重要的精髓在于：与其创建很多子类，很多构造器，不如利用Builder模式来生产差异化实例。
 * Builder模式拥有用静态方法控制实例生产的大部分优点，因为它本身就是静态方法的升级版。
 * 使用Builder类生产实例的类不应该面向Builder实现的虚拟工厂接口，比如Builder&lt;T&gt;，因为这是暴露给用户的。应该直接面对Builder类，或者另给一个接口。
 *
 */</span>
<span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ciaoshen</span><span class="o">.</span><span class="na">effectivejava</span><span class="o">.</span><span class="na">chapter2</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="cm">/**
 * Builder模式 和 虚拟工厂模式 的结合使用
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AbstractFactory</span> <span class="o">{</span>

    <span class="cm">/**
     * 虚拟工厂的泛型接口
     * 用户面对的就是这个接口
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Builder</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="n">T</span> <span class="nf">build</span><span class="o">();</span>
        <span class="kd">public</span> <span class="n">T</span> <span class="nf">random</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Dog类有好几个域，利用Builder模式来生产实例。
     * 注意：这里没有定义很多狗类的子类，
     * 而是同时定义好几个差异化的Builder，狗类实例的差异化由Builder提供，而不用派生很多子类。体现出Builder很好的灵活性。
     * 注意：由Builder生产出来的实例可以都是“不可变的”。这也是Builder的主要优势之一，安全性。
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Dog</span> <span class="kd">implements</span> <span class="n">Animal</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">DogType</span> <span class="n">category</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">color</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">weight</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
        <span class="c1">// 注意：Dog的构造器看到的是DogBuilder，而不是Builder&lt;Dog&gt;这个虚拟工厂接口，它是专门暴露给外部用户的。</span>
        <span class="kd">private</span> <span class="nf">Dog</span><span class="o">(</span><span class="n">DogBuilder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">category</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">category</span><span class="o">;</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">color</span><span class="o">;</span>
            <span class="n">weight</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">weight</span><span class="o">;</span>
            <span class="n">age</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">age</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">"Dog: "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Category: "</span> <span class="o">+</span> <span class="n">category</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Color: "</span> <span class="o">+</span> <span class="n">color</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Weight: "</span> <span class="o">+</span> <span class="n">weight</span> <span class="o">+</span> <span class="s">"\n"</span>
                <span class="o">+</span> <span class="s">"\t &gt;&gt;&gt; Age: "</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">enum</span> <span class="n">DogType</span> <span class="o">{</span> <span class="c1">// 仅仅用来提供狗品种的具名常量</span>
            <span class="n">DEFAULT_TYPE</span><span class="o">,</span> <span class="n">GOLDEN_RETRIEVER</span><span class="o">,</span> <span class="n">BULLDOG</span><span class="o">,</span> <span class="n">CHIWUAWUA</span><span class="o">;</span> <span class="c1">// 枚举型保留一个缺省值是一个良好实践</span>
            <span class="kd">private</span> <span class="kd">static</span> <span class="n">DogType</span><span class="o">[]</span> <span class="n">VALUES</span> <span class="o">=</span> <span class="n">values</span><span class="o">();</span>
            <span class="kd">private</span> <span class="kd">static</span> <span class="n">Random</span> <span class="n">R</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
            <span class="kd">public</span> <span class="kd">static</span> <span class="n">DogType</span> <span class="nf">random</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">VALUES</span><span class="o">[</span><span class="n">R</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">VALUES</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">)+</span><span class="mi">1</span><span class="o">];</span> <span class="c1">// to avoid first DEFAULT_TYPE</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="cm">/**
         * DogBuilder是Dog类的静态内部类。和Dog类共享环境。所以它不需要设置getter域访问方法。
         * 如果DogBuilder在Dog类的外部，为了保护域的私有性就应该提供getter域访问方法。也可以再定义一个专门暴露给Dog类的接口。
         * 写DogBuilder类的时候，不需要太多考虑虚拟工厂接口Builder&lt;Dog&gt;。只是在定义的时候声明一下，然后实现build()方法。
         */</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">DogBuilder</span> <span class="kd">implements</span> <span class="n">Builder</span><span class="o">&lt;</span><span class="n">Dog</span><span class="o">&gt;</span> <span class="o">{</span> <span class="c1">// 在这里规定了DogBuilder实现了Builder&lt;Dog&gt;的虚拟工厂接口</span>
            <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">NAME_UNIT</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span><span class="s">"Piu"</span><span class="o">,</span><span class="s">"Miu"</span><span class="o">,</span><span class="s">"Ka"</span><span class="o">,</span><span class="s">"Ji"</span><span class="o">,</span><span class="s">"Ko"</span><span class="o">,</span><span class="s">"Wa"</span><span class="o">};</span>
            <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">COLOR_RANGE</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
            <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">WEIGHT_RANGE</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
            <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">AGE_RANGE</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>

            <span class="kd">protected</span> <span class="n">DogType</span> <span class="n">category</span> <span class="o">=</span> <span class="n">DogType</span><span class="o">.</span><span class="na">DEFAULT_TYPE</span><span class="o">;</span>
            <span class="kd">protected</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"Wong"</span><span class="o">;</span>
            <span class="kd">protected</span> <span class="kt">int</span> <span class="n">color</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="kd">protected</span> <span class="kt">int</span> <span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="kd">protected</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="c1">// 这里DogBuilder是功能完整的Builder，可以设置全部5个域。</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setCategory</span><span class="o">(</span><span class="n">DogType</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="n">category</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setColor</span><span class="o">(</span><span class="kt">int</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setWeight</span><span class="o">(</span><span class="kt">int</span> <span class="n">weight</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">weight</span> <span class="o">=</span> <span class="n">weight</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span> <span class="o">}</span>
            <span class="kd">public</span> <span class="n">Dog</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">Dog</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="c1">// random()方法为了简化测试时候生产随机实例。</span>
            <span class="c1">// 这更显示了Builder模式的的强大，可以满足各种实例的需求。</span>
            <span class="kd">public</span> <span class="n">Dog</span> <span class="nf">random</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
                <span class="k">this</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">NAME_UNIT</span><span class="o">[</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">NAME_UNIT</span><span class="o">.</span><span class="na">length</span><span class="o">)]</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">NAME_UNIT</span><span class="o">[</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">NAME_UNIT</span><span class="o">.</span><span class="na">length</span><span class="o">)]);</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">setCategory</span><span class="o">(</span><span class="n">DogType</span><span class="o">.</span><span class="na">random</span><span class="o">()).</span><span class="na">setColor</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">COLOR_RANGE</span><span class="o">)).</span><span class="na">setWeight</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">WEIGHT_RANGE</span><span class="o">)).</span><span class="na">setAge</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">AGE_RANGE</span><span class="o">)).</span><span class="na">build</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="c1">// 阉割版random()方法，唯独不设置category域。 专门给后面的特殊Builder继承。</span>
            <span class="kd">protected</span> <span class="n">Dog</span> <span class="nf">randomNoCategory</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// for derived builder</span>
                <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
                <span class="k">this</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">NAME_UNIT</span><span class="o">[</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">NAME_UNIT</span><span class="o">.</span><span class="na">length</span><span class="o">)]</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">NAME_UNIT</span><span class="o">[</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">NAME_UNIT</span><span class="o">.</span><span class="na">length</span><span class="o">)]);</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">COLOR_RANGE</span><span class="o">)).</span><span class="na">setWeight</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">WEIGHT_RANGE</span><span class="o">)).</span><span class="na">setAge</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">AGE_RANGE</span><span class="o">)).</span><span class="na">build</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="cm">/**
         *  黄金猎犬的专属Builder。默认品种为黄金猎犬。
         *  禁掉了setCategory()方法，因为品种已定。
         */</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">GoldenRetrieverBuilder</span> <span class="kd">extends</span> <span class="n">DogBuilder</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="nf">GoldenRetrieverBuilder</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s">"Little Golden"</span><span class="o">;</span>
                <span class="n">category</span> <span class="o">=</span> <span class="n">DogType</span><span class="o">.</span><span class="na">GOLDEN_RETRIEVER</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setCategory</span><span class="o">(</span><span class="n">DogType</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">UnsupportedOperationException</span><span class="o">(</span><span class="s">"GoldenRetrieverBuilder can not use setCategory() method!"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">Dog</span> <span class="nf">random</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="nf">randomNoCategory</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="cm">/**
         *  斗牛犬的专属Builder。默认品种为斗牛犬。
         *  禁掉了setCategory()方法，因为品种已定。
         */</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">BullDogBuilder</span> <span class="kd">extends</span> <span class="n">DogBuilder</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="nf">BullDogBuilder</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s">"Little Bull"</span><span class="o">;</span>
                <span class="n">category</span> <span class="o">=</span> <span class="n">DogType</span><span class="o">.</span><span class="na">BULLDOG</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setCategory</span><span class="o">(</span><span class="n">DogType</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">UnsupportedOperationException</span><span class="o">(</span><span class="s">"BullDogBuilder can not use setCategory() method!"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">Dog</span> <span class="nf">random</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="nf">randomNoCategory</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="cm">/**
         *  吉娃娃的专属Builder。默认品种为吉娃娃。
         *  禁掉了setCategory()方法，因为品种已定。
         */</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ChiWuaWuaBuilder</span> <span class="kd">extends</span> <span class="n">DogBuilder</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="nf">ChiWuaWuaBuilder</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s">"Little ChiChi"</span><span class="o">;</span>
                <span class="n">category</span> <span class="o">=</span> <span class="n">DogType</span><span class="o">.</span><span class="na">CHIWUAWUA</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">DogBuilder</span> <span class="nf">setCategory</span><span class="o">(</span><span class="n">DogType</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">UnsupportedOperationException</span><span class="o">(</span><span class="s">"ChiWuaWuaBuilder can not use setCategory() method!"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">Dog</span> <span class="nf">random</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="nf">randomNoCategory</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/**
     * 面向虚拟工厂的客户端：Zoo类，newInstance()静态泛型方法，利用各种动物的Builder，创建很多动物实例放进列表。
     * 不管有多少种不同的Builder，用户代码newInstance()方法调用的参数，永远只有 ”Builder&lt;? extends E&gt; builder"，以及它的build()和random()方法。
     * 最后创建整个狗狗动物园的代码异常简洁：Zoo.newInstance(new Dog.DogBuilder(),10)
     * 这就是Builder模式和虚拟工厂的力量。
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Animal</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Zoo</span><span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">animals</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">animals</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">E</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span> <span class="n">Zoo</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="nf">newInstance</span><span class="o">(</span><span class="n">Builder</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">E</span><span class="o">&gt;</span> <span class="n">builder</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Zoo</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="n">zoo</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Zoo</span><span class="o">&lt;&gt;();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">zoo</span><span class="o">.</span><span class="na">animals</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">builder</span><span class="o">.</span><span class="na">random</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">zoo</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// test Builder#build()</span>
        <span class="n">Dog</span> <span class="n">myPuppy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">DogBuilder</span><span class="o">().</span><span class="na">setCategory</span><span class="o">(</span><span class="n">Dog</span><span class="o">.</span><span class="na">DogType</span><span class="o">.</span><span class="na">GOLDEN_RETRIEVER</span><span class="o">).</span><span class="na">setName</span><span class="o">(</span><span class="s">"Piu Piu"</span><span class="o">).</span><span class="na">setColor</span><span class="o">(</span><span class="mi">5</span><span class="o">).</span><span class="na">setWeight</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="na">setAge</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="n">Dog</span> <span class="n">gr</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">GoldenRetrieverBuilder</span><span class="o">().</span><span class="na">setName</span><span class="o">(</span><span class="s">"GR"</span><span class="o">).</span><span class="na">setColor</span><span class="o">(</span><span class="mi">5</span><span class="o">).</span><span class="na">setWeight</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="na">setAge</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="n">Dog</span> <span class="n">bd</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">BullDogBuilder</span><span class="o">().</span><span class="na">setName</span><span class="o">(</span><span class="s">"BD"</span><span class="o">).</span><span class="na">setColor</span><span class="o">(</span><span class="mi">5</span><span class="o">).</span><span class="na">setWeight</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="na">setAge</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="n">Dog</span> <span class="n">cww</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">ChiWuaWuaBuilder</span><span class="o">().</span><span class="na">setName</span><span class="o">(</span><span class="s">"CWW"</span><span class="o">).</span><span class="na">setColor</span><span class="o">(</span><span class="mi">5</span><span class="o">).</span><span class="na">setWeight</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="na">setAge</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myPuppy</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">gr</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">bd</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">cww</span><span class="o">);</span>
        <span class="c1">// test Builder#random()</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-----------------------------------"</span><span class="o">);</span>
        <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">DogBuilder</span><span class="o">().</span><span class="na">random</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">GoldenRetrieverBuilder</span><span class="o">().</span><span class="na">random</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">BullDogBuilder</span><span class="o">().</span><span class="na">random</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">ChiWuaWuaBuilder</span><span class="o">().</span><span class="na">random</span><span class="o">());</span>
        <span class="c1">// test Zoo &amp; Abstract Factory interface Builder&lt;T&gt;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-----------------------------------"</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Zoo</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="k">new</span> <span class="n">Dog</span><span class="o">.</span><span class="na">DogBuilder</span><span class="o">(),</span><span class="mi">10</span><span class="o">));</span> <span class="c1">// 最后创建整个狗狗动物园的代码异常简洁。</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

        <div class="after-post"></div> <!-- 文章结尾，和Disqus留一些间隔。-->
        <script>
            $("div.after-post").css("margin-bottom","50px");
        </script>

        <!-- Disqus plugin -->
        <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = /java/effective_java/design_pattern/2017/02/03/effectiveJava_Chapter-2-1.html;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = /java/effective_java/design_pattern/2017/02/03/effectiveJava_Chapter-2-1; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//www-ciaoshen-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
    <!-- .container -->


    <!-- footer bar -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<footer>
    <!-- Don't show tag cloud
    <div class="footer" id="footer">
        <div class="container">
            <div id="tags-cloud-title">
            <div class="row">
                <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12">
                    <h2>Tag Cloud</h2>
                </div>
            </div>
            </div>
            <div id="tags-cloud" class="row">
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_String" href="/tags/String.html">
                        String
                        <span class="badge">5</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Memory_Model" href="/tags/Memory_Model.html">
                        Memory_Model
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JVM" href="/tags/JVM.html">
                        JVM
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hexo" href="/tags/Hexo.html">
                        Hexo
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Github" href="/tags/Github.html">
                        Github
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Blog" href="/tags/Blog.html">
                        Blog
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Git" href="/tags/Git.html">
                        Git
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JDK" href="/tags/JDK.html">
                        JDK
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JRE" href="/tags/JRE.html">
                        JRE
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IDE" href="/tags/IDE.html">
                        IDE
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_OOP" href="/tags/OOP.html">
                        OOP
                        <span class="badge">7</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Initialization" href="/tags/Initialization.html">
                        Initialization
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Control_Flow" href="/tags/Control_Flow.html">
                        Control_Flow
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_GC" href="/tags/GC.html">
                        GC
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Access_Control" href="/tags/Access_Control.html">
                        Access_Control
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Package" href="/tags/Package.html">
                        Package
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Inheritance" href="/tags/Inheritance.html">
                        Inheritance
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Composition" href="/tags/Composition.html">
                        Composition
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Factory_Pattern" href="/tags/Factory_Pattern.html">
                        Factory_Pattern
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Polymorphism" href="/tags/Polymorphism.html">
                        Polymorphism
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Late_Binding" href="/tags/Late_Binding.html">
                        Late_Binding
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_State_Pattern" href="/tags/State_Pattern.html">
                        State_Pattern
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Interface" href="/tags/Interface.html">
                        Interface
                        <span class="badge">5</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Abstract_Class" href="/tags/Abstract_Class.html">
                        Abstract_Class
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Strategy_Pattern" href="/tags/Strategy_Pattern.html">
                        Strategy_Pattern
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Inner_Class" href="/tags/Inner_Class.html">
                        Inner_Class
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Callback" href="/tags/Callback.html">
                        Callback
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Closure" href="/tags/Closure.html">
                        Closure
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Lambda_Expression" href="/tags/Lambda_Expression.html">
                        Lambda_Expression
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Container" href="/tags/Container.html">
                        Container
                        <span class="badge">9</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Array" href="/tags/Array.html">
                        Array
                        <span class="badge">6</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hash" href="/tags/Hash.html">
                        Hash
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Exception" href="/tags/Exception.html">
                        Exception
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IO" href="/tags/IO.html">
                        IO
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Regular_Expression" href="/tags/Regular_Expression.html">
                        Regular_Expression
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Reflection" href="/tags/Reflection.html">
                        Reflection
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Career_Path" href="/tags/Career_Path.html">
                        Career_Path
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Immutability" href="/tags/Immutability.html">
                        Immutability
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Dynamic_Proxies" href="/tags/Dynamic_Proxies.html">
                        Dynamic_Proxies
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Generics" href="/tags/Generics.html">
                        Generics
                        <span class="badge">8</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Adapter_Pattern" href="/tags/Adapter_Pattern.html">
                        Adapter_Pattern
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Wildcards" href="/tags/Wildcards.html">
                        Wildcards
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_PESC" href="/tags/PESC.html">
                        PESC
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Covariant" href="/tags/Covariant.html">
                        Covariant
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_View" href="/tags/View.html">
                        View
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Iterator" href="/tags/Iterator.html">
                        Iterator
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Fly_Weight" href="/tags/Fly_Weight.html">
                        Fly_Weight
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_LinkedList" href="/tags/LinkedList.html">
                        LinkedList
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Weak_Reference" href="/tags/Weak_Reference.html">
                        Weak_Reference
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Phantom_Reference" href="/tags/Phantom_Reference.html">
                        Phantom_Reference
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_HashMap" href="/tags/HashMap.html">
                        HashMap
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_File" href="/tags/File.html">
                        File
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Stream" href="/tags/Stream.html">
                        Stream
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Encapsulation" href="/tags/Encapsulation.html">
                        Encapsulation
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Unicode" href="/tags/Unicode.html">
                        Unicode
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_UTF-8" href="/tags/UTF-8.html">
                        UTF-8
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_ASCII" href="/tags/ASCII.html">
                        ASCII
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Encoding" href="/tags/Encoding.html">
                        Encoding
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Charset" href="/tags/Charset.html">
                        Charset
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_CPU" href="/tags/CPU.html">
                        CPU
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Process" href="/tags/Process.html">
                        Process
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Block" href="/tags/Block.html">
                        Block
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Logic_Gates" href="/tags/Logic_Gates.html">
                        Logic_Gates
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_NIO" href="/tags/NIO.html">
                        NIO
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Enum" href="/tags/Enum.html">
                        Enum
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Table_Driven" href="/tags/Table_Driven.html">
                        Table_Driven
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Annotations" href="/tags/Annotations.html">
                        Annotations
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Hibernate" href="/tags/Hibernate.html">
                        Hibernate
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JUnit" href="/tags/JUnit.html">
                        JUnit
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Spring" href="/tags/Spring.html">
                        Spring
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Syntactic sugar" href="/tags/Syntactic sugar.html">
                        Syntactic sugar
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_AOP" href="/tags/AOP.html">
                        AOP
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Concurrency" href="/tags/Concurrency.html">
                        Concurrency
                        <span class="badge">4</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Thread" href="/tags/Thread.html">
                        Thread
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_DJ" href="/tags/DJ.html">
                        DJ
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_IOC" href="/tags/IOC.html">
                        IOC
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Interrupt" href="/tags/Interrupt.html">
                        Interrupt
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_HTML" href="/tags/HTML.html">
                        HTML
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_CSS" href="/tags/CSS.html">
                        CSS
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Javascript" href="/tags/Javascript.html">
                        Javascript
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_JQuery" href="/tags/JQuery.html">
                        JQuery
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Sass" href="/tags/Sass.html">
                        Sass
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Responsive_Design" href="/tags/Responsive_Design.html">
                        Responsive_Design
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Code_Style" href="/tags/Code_Style.html">
                        Code_Style
                        <span class="badge">15</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Builder_Pattern" href="/tags/Builder_Pattern.html">
                        Builder_Pattern
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Instance_Control" href="/tags/Instance_Control.html">
                        Instance_Control
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Singleton" href="/tags/Singleton.html">
                        Singleton
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Comparable" href="/tags/Comparable.html">
                        Comparable
                        <span class="badge">2</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Clone" href="/tags/Clone.html">
                        Clone
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_API" href="/tags/API.html">
                        API
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Template_Pattern" href="/tags/Template_Pattern.html">
                        Template_Pattern
                        <span class="badge">3</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Jekyll" href="/tags/Jekyll.html">
                        Jekyll
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_Bootstrap" href="/tags/Bootstrap.html">
                        Bootstrap
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_SSH" href="/tags/SSH.html">
                        SSH
                        <span class="badge">1</span>
                        </a>
                    </div>
                
                    <div col-lg-3  col-md-4 col-sm-4 col-xs-6">
                        <a class="list-group-item" id="tag_RSA" href="/tags/RSA.html">
                        RSA
                        <span class="badge">1</span>
                        </a>
                    </div>
                
            </div>
        </div>
    </div>
    don't need tag cloud here -->

    <div class="footer-bottom">
        <div class="container">
            <p class="pull-left"> Copyright © <b>Wei SHEN</b> &nbsp | &nbsp Designed by <b>Wei SHEN</b> &nbsp | &nbsp Coded by <b>Wei SHEN</b> &nbsp | &nbsp 2015-2017. All right reserved.  &nbsp | &nbsp  Contact me: <b>symantec__@hotmail.com</b> </p>
            <div class="pull-right">
                <ul class="social">

                </ul>
            </div>
        </div>
    </div>
    <!--/.footer-bottom-->
</footer>



    <!-- Bootstrap Core JavaScript -->
    <script src="/assets/js/bootstrap.min.js"></script>
    <!-- Add space between two paragraph -->
    <script src="/assets/js/span.js"></script>
    <!-- Adjust images size -->
    <script src="/assets/js/imgResponsive.js"></script>
    <!-- Disqus comment count plugin -->
    <script id="dsq-count-scr" src="//www-ciaoshen-com.disqus.com/count.js" async></script>

</body>

</html>
